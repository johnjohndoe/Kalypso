<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.0"?>
<plugin>
   <extension
         point="org.eclipse.ui.popupMenus">
      <objectContribution
            adaptable="false"
            id="org.kalypso.model.wspm.objectContribution.calcTuhh"
            objectClass="org.kalypsodeegree.model.feature.Feature">
         <filter
               name="featureType"
               value="org.kalypso.model.wspm.tuhh#CalculationWspmTuhhSteadyState;org.kalypso.model.wspm.tuhh#CalculationReibConstWspmTuhhSteadyState"/>
         <action
               class="org.kalypso.model.wspm.tuhh.ui.actions.CalcTuhhAction"
               icon="icons/obj16/startCalulation.gif"
               id="org.kalypso.model.wspm.calcTuhhAction"
               label="%org.kalypso.model.wspm.calcTuhhAction"
               style="push"
               tooltip="%org.kalypso.model.wspm.calcTuhhAction.tooltip"/>
      </objectContribution>
      <objectContribution
            adaptable="false"
            id="org.kalypso.model.wspm.tuhh.ui.objectContribution.showProfile"
            objectClass="org.kalypsodeegree.model.feature.Feature">
         <filter
               name="featureType"
               value="org.kalypso.model.wspm.tuhh#ProfileReachSegmentWspmTuhhSteadyState"/>
         <action
               class="org.kalypso.model.wspm.ui.action.ShowProfileAction"
               icon="icons/obj16/openProfile.gif"
               id="org.kalypso.model.wspm.ui.action.ShowProfileAction"
               label="%org.kalypso.model.wspm.ui.action.ShowProfileAction"
               tooltip="%org.kalypso.model.wspm.ui.action.ShowProfileAction.description"/>
      </objectContribution>
            <objectContribution
            adaptable="false"
            id="org.kalypso.model.wspm.ui.object.contribution.org.kalypso.ui.editor.gmleditor.ui.feature.tuhhreach"
            objectClass="org.kalypsodeegree.model.feature.Feature">
         <filter
               name="featureType"
               value="org.kalypso.model.wspm.tuhh#ReachWspmTuhhSteadyState"/>
         <action
               class="org.kalypso.model.wspm.tuhh.ui.actions.CreateProfileMapAction"
               icon="icons/elcl16/createProfileMap.gif"
               id="org.kalypso.model.wspm.ui.action.CreateProfileMapAction"
               label="%org.kalypso.model.wspm.ui.action.CreateProfileMapAction"
               menubarPath="org.kalypso.model.wspm.ui.wspmProfileActions"
               style="push"
               tooltip="%org.kalypso.model.wspm.ui.action.CreateProfileMapAction.description"/>
      </objectContribution>
   </extension>

	<extension point="org.eclipse.ui.handlers">
		   <handler
		         class="org.kalypso.model.wspm.tuhh.ui.actions.simplify.SimplifyProfileHandler"
		         commandId="org.kalypso.model.wspm.tuhh.ui.command.profile.simplify">
		      <enabledWhen>
		         <reference
		               definitionId="org.kalypso.model.wspm.ui.definition.selectionHasProfiles">
		         </reference>
		      </enabledWhen>
		   </handler>
          <handler
                class="org.kalypso.model.wspm.tuhh.ui.export.csv.CsvExportProfilesHandler"
                commandId="org.kalypso.model.wspm.tuhh.ui.commands.exportProfilesCsv">
             <enabledWhen>
                <reference
                      definitionId="org.kalypso.model.wspm.ui.definition.selectionHasProfiles">
                </reference>
             </enabledWhen>
          </handler>
          <handler
                class="org.kalypso.model.wspm.tuhh.ui.export.sobek.SobekExportProfilesHandler"
                commandId="org.kalypso.model.wspm.tuhh.ui.commands.exportProfilesSobek">
             <enabledWhen>
                <reference
                      definitionId="org.kalypso.model.wspm.ui.definition.selectionHasProfiles">
                </reference>
             </enabledWhen>
          </handler>
          <handler
                class="org.kalypso.model.wspm.tuhh.ui.export.wspwin.LngExportProfilesHandler"
                commandId="org.kalypso.model.wspm.tuhh.ui.commands.exportProfilesLng">
             <enabledWhen>
                <reference
                      definitionId="org.kalypso.model.wspm.ui.definition.selectionHasProfiles">
                </reference>
             </enabledWhen>
          </handler>
          <handler
                class="org.kalypso.model.wspm.tuhh.ui.export.wspwin.PrfExportProfilesHandler"
                commandId="org.kalypso.model.wspm.tuhh.ui.commands.exportPrf">
             <enabledWhen>
                <reference
                      definitionId="org.kalypso.model.wspm.ui.definition.selectionHasProfiles">
                </reference>
             </enabledWhen>
          </handler>
          <handler
                class="org.kalypso.model.wspm.tuhh.ui.imports.ImportWProfHandler"
                commandId="org.kalypso.model.wspm.tuhh.ui.commands.importWProf">
                     <enabledWhen>
                        <with
                              variable="selection">
                               <iterate
                                     ifEmpty="false"
                                     operator="and">
                                  <test
                                        args="property"
                                        forcePluginActivation="false"
                                        property="org.kalypso.ui.test.gmleditor.qname"
                                        value="{org.kalypso.model.wspm}WaterBody">
                                  </test>
                               </iterate>
                        </with>
                     </enabledWhen>
          </handler>
          <handler
                class="org.kalypso.model.wspm.tuhh.ui.actions.CreateLengthSectionHandler"
                commandId="org.kalypso.model.wspm.ui.command.profile.LengthSectionExport">
             <enabledWhen>
                <reference
                      definitionId="org.kalypso.model.wspm.ui.definition.selectionHasProfiles">
                </reference>
             </enabledWhen>
          </handler>
          <handler
                class="org.kalypso.model.wspm.tuhh.ui.export.wspwin.PlotterExportHandler"
                commandId="org.kalypso.model.wspm.ui.command.profile.openInPlotter">
             <enabledWhen>
                <reference
                      definitionId="org.kalypso.model.wspm.ui.definition.selectionHasProfiles">
                </reference>
             </enabledWhen>
          </handler>
          <handler
                class="org.kalypso.model.wspm.tuhh.ui.export.wspwin.LengthSectionExportHandler"
                commandId="org.kalypso.model.wspm.ui.action.LengthSectionExport">
             <enabledWhen>
                <reference
                      definitionId="org.kalypso.chart.ui.chartEditorActive">
                </reference>
             </enabledWhen>
          </handler>
          <handler
                class="org.kalypso.model.wspm.tuhh.ui.export.shape.ExportProfileLineHandler"
                commandId="org.kalypso.model.wspm.ui.command.profile.LineShapeExport">
             <enabledWhen>
                <reference
                      definitionId="org.kalypso.model.wspm.ui.definition.selectionHasProfiles">
                </reference>
             </enabledWhen>
          </handler>
          <handler
                class="org.kalypso.model.wspm.tuhh.ui.actions.interpolation.InterpolateProfileHandler"
                commandId="org.kalypso.model.wspm.ui.command.profile.interpolation">
             <enabledWhen>
                <reference
                      definitionId="org.kalypso.model.wspm.ui.definition.selectionHasProfiles">
                </reference>
             </enabledWhen>
          </handler>
	</extension>

   <extension
         point="org.eclipse.ui.exportWizards">
      <wizard
            class="org.kalypso.model.wspm.tuhh.ui.wizards.WspWinExportWizard"
            icon="icons/obj16/wspwin.gif"
            id="org.kalypso.model.wspm.exportwizard.wspwin"
            name="%org.kalypso.model.wspm.exportwizard.wspwin">
            <description>
            %org.kalypso.model.wspm.exportwizard.wspwin.description
         </description>
      </wizard>
   </extension>

   <extension
         point="org.kalypso.model.wspm.core.validatorrule">
      <rule
            class="org.kalypso.model.wspm.tuhh.ui.rules.RuecksprungRule"
            description="%pasche.ruecksprung"
            id="pasche.ruecksprung"
            type="org.kalypso.model.wspm.tuhh.profiletype"/>
        <rule
              class="org.kalypso.model.wspm.tuhh.ui.rules.TrennerRule"
              description="%pasche.trenner"
              id="pasche.trenner"
              type="org.kalypso.model.wspm.tuhh.profiletype"/>
        <rule
              class="org.kalypso.model.wspm.tuhh.ui.rules.BrueckeRule"
              description="%pasche.bruecke"
              id="pasche.bruecke"
              type="org.kalypso.model.wspm.tuhh.profiletype"/>
        <rule
              class="org.kalypso.model.wspm.tuhh.ui.rules.WehrRule"
              description="%pasche.wehr"
              id="pasche.wehr"
              type="org.kalypso.model.wspm.tuhh.profiletype"/>
        <rule
              class="org.kalypso.model.wspm.tuhh.ui.rules.DoppelterPunktRule"
              description="%pasche.doppelterpunkt"
              id="pasche.doppelterpunkt"
              type="org.kalypso.model.wspm.tuhh.profiletype"/>
        <rule
              class="org.kalypso.model.wspm.tuhh.ui.rules.BewuchsRule"
              description="%pasche.bewuchs"
              id="pasche.bewuchs"
              type="org.kalypso.model.wspm.tuhh.profiletype"/>
        <rule
              class="org.kalypso.model.wspm.tuhh.ui.rules.RauheitRule"
              description="%pasche.rauheit"
              id="pasche.rauheit"
              type="org.kalypso.model.wspm.tuhh.profiletype"/>
        <rule
              class="org.kalypso.model.wspm.tuhh.ui.rules.DurchlassRule"
              description="%pasche.durchlass"
              id="pasche.durchlass"
              type="org.kalypso.model.wspm.tuhh.profiletype">
        </rule>
        <rule
              class="org.kalypso.model.wspm.tuhh.ui.rules.DuplicateComponentRule"
              description="%rule.description"
              id="general.duplicateComponent"
              type="org.kalypso.model.wspm.tuhh.profiletype">
        </rule>
   </extension>
   <extension
         point="org.kalypso.core.catalogContribution">
      <catalogContribution
            class="org.kalypso.model.wspm.tuhh.ui.catalog.WspmTuhhFeatureTypeCatalogContribution"
            name="Wspm Tuhh Style Catalog"/>
   </extension>
   <extension
         point="org.eclipse.ui.newWizards">
      <wizard
            canFinishEarly="false"
            category="org.kalypso.ui.newwizards.kalypso/org.kalypso.wspm.ui"
            class="org.kalypso.model.wspm.tuhh.ui.wizards.NewWspmProjectWizard"
            descriptionImage="icons/wizban/kalypso32.gif"
            finalPerspective="org.kalypso.model.wspm.ui.product.WspmPerspectiveFactory"
            hasPages="true"
            icon="icons/obj16/kalypso16.gif"
            id="org.kalypso.model.wspm.tuhh.ui.wizards.NewProjectWizard"
            name="%org.kalypso.model.wspm.tuhh.ui.wizards.NewProjectWizard"
            project="true">

         <description>
            %org.kalypso.model.wspm.tuhh.ui.wizards.NewProjectWizard.description
         </description>
      </wizard>
      <wizard
            canFinishEarly="false"
            category="org.kalypso.ui.newwizards.kalypso/org.kalypso.wspm.ui"
            class="org.kalypso.model.wspm.tuhh.ui.wizards.NewProjectImportWspwinWizard"
            descriptionImage="icons/wizban/kalypso32.gif"
            finalPerspective="org.kalypso.model.wspm.ui.product.WspmPerspectiveFactory"
            hasPages="true"
            icon="icons/obj16/wspwin16.gif"
            id="org.kalypso.model.wspm.tuhh.ui.wizards.NewProjectImportWspwinWizard"
            name="%org.kalypso.model.wspm.tuhh.ui.wizards.NewProjectImportWspwinWizard"
            project="true">
         <description>
            %org.kalypso.model.wspm.tuhh.ui.wizards.NewProjectImportWspwinWizard.description
         </description>
      </wizard>
      <wizard
            canFinishEarly="false"
            category="org.kalypso.ui.newwizards.kalypso/org.kalypso.wspm.ui"
            class="org.kalypso.model.wspm.tuhh.ui.wizards.DemoProjectWizard"
            descriptionImage="icons/wizban/kalypso32.gif"
            finalPerspective="org.kalypso.model.wspm.ui.product.WspmPerspectiveFactory"
            hasPages="true"
            icon="icons/obj16/kalypso16.gif"
            id="org.kalypso.model.wspm.tuhh.ui.wizards.DemoProjectWizard"
            name="%org.kalypso.model.wspm.tuhh.ui.wizards.DemoProjectWizard"
            project="true">
      </wizard>
   </extension>

   <extension point="org.eclipse.ui.perspectives">
      <perspective 
            class="org.kalypso.model.wspm.tuhh.ui.light.WspmLightPerspective"
            icon="icons/obj16/wspmLight.gif"
            id="WspmLightPerspective"
            name="WSPM">
      </perspective>
   </extension>
   
   <extension
         point="org.eclipse.ui.perspectiveExtensions">
      <perspectiveExtension targetID="org.kalypso.model.wspm.ui.product.WspmPerspectiveFactory">
         <newWizardShortcut id="org.kalypso.model.wspm.tuhh.ui.wizards.NewProjectWizard"/>
         <newWizardShortcut id="org.kalypso.model.wspm.tuhh.ui.wizards.NewProjectImportWspwinWizard"/>
      </perspectiveExtension>
   </extension>
   <extension
         point="org.kalypso.model.wspm.core.profileFeatureProvider">
      <profileFeatureProvider
            class="org.kalypso.model.wspm.tuhh.core.gml.TuhhSegmentProfileFeatureProvider"
            id="org.kalypso.model.wspm.tuhh.core.gml.TuhhSegmentProfileFeatureProvider"/>
   </extension>
   <extension
         point="org.kalypso.model.wspm.ui.profilChartLayerProvider">
      <profilLayerProvider
            id="org.kalypso.model.wspm.tuhh.ui.chart.TuhhProfilLayerProvider"
            profiletype="org.kalypso.model.wspm.tuhh.profiletype"
            provider="org.kalypso.model.wspm.tuhh.ui.chart.ProfilLayerProviderTuhh"/>
   </extension>
      <extension
         point="org.kalypso.ui.featureViewExtensionControl">
      <extensionControl
            class="org.kalypso.model.wspm.tuhh.ui.featureview.ReachSegmentsFeatureviewControlFactory"
            id="org.kalypso.model.wspm.tuhh.ui.featureview.ReachSegmentsFeatureviewControlFactory"/>
   </extension>
      <extension
            point="org.kalypso.core.gmlSourceProvider">
         <provider
               class="org.kalypso.model.wspm.tuhh.ui.wizards.WspTinProvider"
               description="%org.kalypso.ui.wizards.results.gmlsource.WspTinProvider.description"
               id="org.kalypso.ui.wizards.results.gmlsource.WspTinProvider"
               label="%org.kalypso.ui.wizards.results.gmlsource.WspTinProvider">
            <category
                  id="org.kalypso.core.tin.waterlevel">
            </category>
         </provider>
      </extension>
      <extension
            point="org.kalypso.model.wspm.core.reparatorrule">
         <reparator
               class="org.kalypso.model.wspm.tuhh.ui.resolutions.AddBewuchsResolution"
               id="org.kalypso.model.wspm.tuhh.ui.resolutions.AddBewuchsResolution"
               name="Bewuchs hinzufügen">
         </reparator>
         <reparator
               class="org.kalypso.model.wspm.tuhh.ui.resolutions.DelBewuchsResolution"
               id="org.kalypso.model.wspm.tuhh.ui.resolutions.DelBewuchsResolution"
               name="Bewuchs entfernen">
         </reparator>
         <reparator
               class="org.kalypso.model.wspm.tuhh.ui.resolutions.AddDeviderResolution"
               id="org.kalypso.model.wspm.tuhh.ui.resolutions.AddDeviderResolution"
               name="Marker einfügen">
         </reparator>
         <reparator
               class="org.kalypso.model.wspm.tuhh.ui.resolutions.MoveDeviderResolution"
               id="org.kalypso.model.wspm.tuhh.ui.resolutions.MoveDeviderResolution"
               name="Marker verschieben">
         </reparator>
         <reparator
               class="org.kalypso.model.wspm.tuhh.ui.resolutions.EditPointResolution"
               id="org.kalypso.model.wspm.tuhh.ui.resolutions.EditPointResolution"
               name="Werte ändern">
         </reparator>
         <reparator
               class="org.kalypso.model.wspm.tuhh.ui.resolutions.DelDeviderResolution"
               id="org.kalypso.model.wspm.tuhh.ui.resolutions.DelDeviderResolution"
               name="Marker löschen">
         </reparator>
         <reparator
               class="org.kalypso.model.wspm.tuhh.ui.resolutions.DelRoughnessResolution"
               id="org.kalypso.model.wspm.tuhh.ui.resolutions.DelRoughnessResolution"
               name="Rauheit entfernen">
         </reparator>
         <reparator
               class="org.kalypso.model.wspm.tuhh.ui.resolutions.RemovePropertyResolution"
               description="Entfernt eine Komponente aus dem Profil"
               id="org.kalypso.model.wspm.tuhh.ui.resolutions.RemovePropertyResolution"
               name="Komponente entfernen">
         </reparator>
      </extension>
       <extension
         point="org.kalypso.module.kalypsoModule">
         <module
               class="org.kalypso.model.wspm.tuhh.ui.extension.KalypsoWspmTuhhModule">
         </module>
      </extension>

	<extension point="org.eclipse.core.expressions.definitions">
		<definition id="org.kalypso.model.wspm.tuhh.ui.definition.oneProfileThemeSelected">
			<with variable="selection">
				<and>
					<count value="1"/>
					<iterate ifEmpty="false" operator="and">
						<test property="org.kalypso.ui.test.theme.qname" value="{org.kalypso.model.wspm.tuhh}ProfileReachSegmentWspmTuhhSteadyState"/>
					</iterate>
				</and>
			</with>
		</definition>
		<definition id="org.kalypso.model.wspm.tuhh.ui.definition.profileThemeActive">
			<with variable="activeMapPanel">
				<or>
					<test property="org.kalypso.ui.test.map.activeTheme.qname" value="{org.kalypso.model.wspmprofile}Profile" />
					<test property="org.kalypso.ui.test.map.activeTheme.qname" value="{org.kalypso.model.wspm.tuhh}ProfileReachSegmentWspmTuhhSteadyState" />
				</or>
			</with>
		</definition>
	</extension>

<!-- Profile From DEM  -->

  <extension point="org.eclipse.ui.menus">
    <menuContribution locationURI="toolbar:org.kalypso.ui.menus.mapToolbar?before=widgetAdditions">
     <command commandId="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.CreateProfileFromDEM" style="radio">
       	<visibleWhen checkEnabled="false">
			<and>
				<with variable="activeEditorId">
					<equals value="org.kalypso.ui.editor.mapeditor.GisMapEditor" />
				</with>
				<reference definitionId="org.kalypso.model.wspm.tuhh.ui.definition.profileThemeActive"/>
			</and>
		</visibleWhen>
     </command>
    </menuContribution>
    <menuContribution locationURI="menu:org.kalypso.ui.menus.mapMenu?before=widgetAdditions">
     <command commandId="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.CreateProfileFromDEM" style="radio">
       	<visibleWhen checkEnabled="false">
			<and>
				<with variable="activeEditorId">
					<equals value="org.kalypso.ui.editor.mapeditor.GisMapEditor" />
				</with>
				<reference definitionId="org.kalypso.model.wspm.tuhh.ui.definition.profileThemeActive"/>
			</and>
		</visibleWhen>
     </command>
    </menuContribution>
        <menuContribution
          locationURI="popup:org.kalypso.gml.ui.imports?after=additions">
       <command
             commandId="org.kalypso.model.wspm.tuhh.ui.commands.importWProf"
             style="push">
          <visibleWhen
                checkEnabled="true">
          </visibleWhen>
       </command>
    </menuContribution>
    <menuContribution
          locationURI="popup:org.kalypso.gml.ui.exports?after=additions">
       <command
             commandId="org.kalypso.model.wspm.tuhh.ui.commands.exportPrf"
             style="push">
          <visibleWhen
                checkEnabled="true">
          </visibleWhen>
       </command>
       <command
             commandId="org.kalypso.model.wspm.ui.command.profile.openInPlotter"
             style="push">
          <visibleWhen
                checkEnabled="true">
          </visibleWhen>
       </command>
       <command
             commandId="org.kalypso.model.wspm.tuhh.ui.commands.exportProfilesLng"
             style="push">
          <visibleWhen
                checkEnabled="true">
          </visibleWhen>
       </command>
       <command
             commandId="org.kalypso.model.wspm.tuhh.ui.commands.exportProfilesSobek"
             style="push">
          <visibleWhen
                checkEnabled="true">
          </visibleWhen>
       </command>
       <command
             commandId="org.kalypso.model.wspm.tuhh.ui.commands.exportProfilesCsv"
             style="push">
          <visibleWhen
                checkEnabled="true">
          </visibleWhen>
       </command>
    </menuContribution>
    <menuContribution
          locationURI="popup:org.kalypso.gml.ui.exports.shape?after=additions">
       <command
             commandId="org.kalypso.model.wspm.ui.command.profile.LineShapeExport"
             style="push">
          <visibleWhen
                checkEnabled="true">
          </visibleWhen>
       </command>
    </menuContribution>
    <menuContribution
          locationURI="popup:org.kalypso.model.wspm.ui.profileChange?after=additions">
       <command commandId="org.kalypso.model.wspm.ui.command.profile.LengthSectionExport" style="push">
          <visibleWhen
                checkEnabled="true">
          </visibleWhen>
       </command>
       <command commandId="org.kalypso.model.wspm.ui.command.profile.interpolation" style="push">
          <visibleWhen
                checkEnabled="true">
          </visibleWhen>
       </command>
      <command commandId="org.kalypso.model.wspm.tuhh.ui.command.profile.simplify" style="push">
         <visibleWhen
               checkEnabled="true">
         </visibleWhen>
      </command>
    </menuContribution>
    <menuContribution
          locationURI="toolbar:org.kalypso.chart.ui.editor.toolbar?after=additions">
       <command
             commandId="org.kalypso.model.wspm.ui.action.LengthSectionExport"
             style="push">
          <visibleWhen
                checkEnabled="true">
          </visibleWhen>
       </command>
    </menuContribution>
  </extension>

  <extension point="org.eclipse.ui.handlers">
    <handler
          commandId="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.CreateProfileFromDEM">
          <class class="org.kalypso.ogc.gml.map.widgets.SelectWidgetHandler">
        	<parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.widget" value="org.kalypso.model.wspm.tuhh.ui.actions.dtm.CreateProfileFromDEMWidget" />
      	  </class>
  	  	<enabledWhen>
			<reference definitionId="org.kalypso.model.wspm.tuhh.ui.definition.profileThemeActive"/>
		</enabledWhen>
   </handler>
  </extension>

  <extension point="org.eclipse.ui.commands">
    <command
          categoryId="org.kalypso.ogc.gml.map.category"
          id="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.CreateProfileFromDEM"
          name="%org.kalypso.model.wspm.ui.view.legend.CreateProfileFromDEM.name"
          description="%org.kalypso.model.wspm.ui.view.legend.CreateProfileFromDEM.description">
    </command>
    <command categoryId="org.kalypso.mode.wspm.ui.profile.commands"
          description="%command.description"
          id="org.kalypso.model.wspm.tuhh.ui.commands.exportProfilesCsv"
          name="%command.name.0">
    </command>
    <command categoryId="org.kalypso.mode.wspm.ui.profile.commands"
          description="%command.description.0"
          id="org.kalypso.model.wspm.tuhh.ui.commands.exportProfilesSobek"
          name="%command.name.1">
    </command>
    <command categoryId="org.kalypso.mode.wspm.ui.profile.commands"
          description="%command.description.1"
          id="org.kalypso.model.wspm.tuhh.ui.commands.exportProfilesLng"
          name="%command.name.2">
    </command>
    <command categoryId="org.kalypso.mode.wspm.ui.profile.commands"
          description="%command.description.2"
          id="org.kalypso.model.wspm.tuhh.ui.commands.exportPrf"
          name="%command.name.3">
    </command>
    <command categoryId="org.kalypso.mode.wspm.ui.profile.commands"
          description="%command.description.3"
          id="org.kalypso.model.wspm.tuhh.ui.commands.importWProf"
          name="%command.name.4">
    </command>
    <command categoryId="org.kalypso.mode.wspm.ui.profile.commands"
          description="%command.description.4"
          id="org.kalypso.model.wspm.ui.command.profile.LengthSectionExport"
          name="%command.name.5">
    </command>
    <command categoryId="org.kalypso.mode.wspm.ui.profile.commands"
          id="org.kalypso.model.wspm.ui.command.profile.openInPlotter"
          name="%command.name.6">
    </command>
    <command categoryId="org.kalypso.mode.wspm.ui.profile.commands"
	       id="org.kalypso.model.wspm.ui.action.LengthSectionExport"
	       name="%command.name.7">
	</command>
    <command id="org.kalypso.model.wspm.ui.command.profile.LineShapeExport" name="%org.kalypso.model.wspm.ui.command.profile.LineShapeExport.name" description="%org.kalypso.model.wspm.ui.command.profile.LineShapeExport.description"/>
    <command categoryId="org.kalypso.mode.wspm.ui.profile.commands"
          description="%command.description.6"
          id="org.kalypso.model.wspm.ui.command.profile.interpolation"
          name="%command.name.9">
    </command>
   <command categoryId="org.kalypso.mode.wspm.ui.profile.commands"
        description="%command.description.7"
        id="org.kalypso.model.wspm.tuhh.ui.command.profile.simplify"
        name="%command.name">
   </command>
  </extension>
  <extension
        point="de.openali.odysseus.chart.factory.LayerProvider">
     <provider
           class="org.kalypso.model.wspm.tuhh.ui.chart.LengthSectionLayerProvider"
           id="org.kalypso.model.wspm.tuhh.ui.chart.LengthSectionLayerProvider">
     </provider>
     <provider
           class="org.kalypso.model.wspm.tuhh.ui.chart.VerticalLineLayerProvider"
           id="org.kalypso.model.wspm.tuhh.ui.chart.VerticalLineLayerProvider">
     </provider>
  </extension>
  <extension
        point="org.eclipse.ui.commandImages">
     <image
           commandId="org.kalypso.model.wspm.tuhh.ui.commands.exportProfilesCsv"
           icon="icons/elcl16/export_csv.gif">
     </image>
     <image
           commandId="org.kalypso.model.wspm.tuhh.ui.commands.exportProfilesSobek"
           icon="icons/elcl16/export_sobek.gif">
     </image>
     <image
           commandId="org.kalypso.model.wspm.tuhh.ui.commands.exportProfilesLng"
           icon="icons/elcl16/export_plotter.gif">
     </image>
     <image
           commandId="org.kalypso.model.wspm.tuhh.ui.commands.importWProf"
           icon="icons/elcl16/import_wprof.gif">
     </image>
     <image
           commandId="org.kalypso.model.wspm.tuhh.ui.commands.exportPrf"
           icon="icons/elcl16/export_prf.gif">
     </image>
     <image
           commandId="org.kalypso.model.wspm.ui.command.profile.LengthSectionExport"
           icon="icons/elcl16/profile_create_lengthSection.gif">
     </image>
     <image
           commandId="org.kalypso.model.wspm.ui.command.profile.openInPlotter"
           icon="icons/elcl16/export_plotter.gif">
     </image>
     <image commandId="org.kalypso.model.wspm.ui.command.profile.LineShapeExport" icon="icons/elcl16/exportProfilLine.gif"/>
     <image
           commandId="org.kalypso.model.wspm.ui.command.profile.interpolation"
           icon="icons/elcl16/interpolateProfile.gif">
     </image>
     <image commandId="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.CreateProfileFromDEM" icon="icons/profil_from_dem.gif"/>
  </extension>
  <extension
        point="org.eclipse.core.runtime.preferences">
     <initializer
           class="org.kalypso.model.wspm.tuhh.ui.internal.preferences.PreferenceInitializer">
     </initializer>
  </extension>
  <extension
        point="org.eclipse.ui.menus">
     <menuContribution
           locationURI="menu:org.kalypso.model.wspm.ui.view.chart.ChartView?after=additions">
        <command
              commandId="org.kalypso.model.wspm.ui.commands.toggleKeepChannelRoughnessPreference"
              style="toggle">
        </command>
     </menuContribution>
  </extension>
  <extension
        point="org.eclipse.ui.commands">
     <command
           categoryId="org.kalypso.chart.ui.commands.category"
           description="%command.description.5"
           id="org.kalypso.model.wspm.ui.commands.toggleKeepChannelRoughnessPreference"
           name="%command.name.8">
     </command>
  </extension>
  <extension
        point="org.eclipse.ui.handlers">
     <handler
           class="org.kalypso.model.wspm.tuhh.ui.actions.ToggleKeepChannelRoughnessHandler"
           commandId="org.kalypso.model.wspm.ui.commands.toggleKeepChannelRoughnessPreference">
     </handler>
  </extension>
  <extension point="org.eclipse.ui.views">
      <category
            id="org.kalypso.model.wspm.tuhh.ui.light.viewCategory"
            name="WSPM"
            parentCategory="org.kalypso.ui.kalypso">
      </category>
      <view
            allowMultiple="false"
            category="org.kalypso.model.wspm.tuhh.ui.light.viewCategory"
            class="org.kalypso.model.wspm.tuhh.ui.light.WspmGmvViewPart"
            icon="icons/obj16/wspwin16.gif"
            id="org.kalypso.model.wspm.tuhh.ui.light.WspmGmvViewPart"
            name="WSPM Data"
            restorable="true">
      </view>
      <view
            allowMultiple="false"
            category="org.kalypso.model.wspm.tuhh.ui.light.viewCategory"
            class="org.kalypso.model.wspm.tuhh.ui.light.WspmMapViewPart"
            icon="icons/obj16/kalypso_gmt.gif"
            id="org.kalypso.model.wspm.tuhh.ui.light.WspmMapViewPart"
            name="Map"
            restorable="true">
      </view>
  </extension>
  
    <extension
         point="org.eclipse.core.runtime.adapters">
      <factory
            adaptableType="org.kalypso.model.wspm.tuhh.ui.light.WspmMapViewPart"
            class="org.kalypso.model.wspm.ui.adapter.ProfileProviderAdapterFactory">
         <adapter type="org.kalypso.model.wspm.ui.profil.IProfilProvider"/>
      </factory>
   </extension>   

 <extension
         point="org.eclipse.ui.menus">
        <menuContribution
              allPopups="false"
              locationURI="toolbar:org.kalypso.model.wspm.tuhh.ui.light.WspmMapViewPart">
             <separator name="widgets" visible="false"/>
             <command commandId="org.kalypso.ogc.gml.map.ZoomInByRectCommand" style="radio"/>
             <command commandId="org.kalypso.ogc.gml.map.PanToCommand" style="radio"/>
             <command commandId="org.kalypso.ogc.gml.map.MeasureMapCommand" style="radio" />
             <!--command commandId="org.kalypso.ogc.gml.map.ThemeInfoCommand" style="radio"/-->
             
             <separator name="crossSectionActions" visible="true"/>
             <command commandId="org.kalypso.ogc.gml.map.PanToSelectedFeatureCommand" style="push"/>
             
             <separator name="actions" visible="true"/>
             <command commandId="org.kalypso.ogc.gml.map.FullExtentCommand" style="push"/>
             <command commandId="org.kalypso.ogc.gml.map.ZoomInStaticCommand" style="push"/>
             <command commandId="org.kalypso.ogc.gml.map.ZoomOutCommand" style="push"/>
             <!--
             <dynamic id="org.kalypso.ogc.gml.map.move">
                <class
                      class="org.kalypso.contribs.eclipse.ui.actions.DropDownToolbarItem">
                   <parameter name="command1" value="org.kalypso.ogc.gml.map.MoveLeftCommand"/>
                   <parameter name="command2" value="org.kalypso.ogc.gml.map.MoveUpCommand"/>
                   <parameter name="command3" value="org.kalypso.ogc.gml.map.MoveDownCommand"/>
                   <parameter name="command4" value="org.kalypso.ogc.gml.map.MoveRightCommand"/>
                </class>
             </dynamic>
             -->
             <command commandId="org.kalypso.ogc.gml.map.ExtentHistoryPrevCommand" style="push"/>
             <command commandId="org.kalypso.ogc.gml.map.ExtentHistoryNextCommand" style="push"/>

             <separator name="mapExport" visible="true"/>
             <command commandId="org.kalypso.ogc.gml.map.Screenshot" style="push"/>
             <command commandId="org.kalypso.ogc.gml.map.ExportPdfCommand" style="push"/>
          </menuContribution>
    
        <menuContribution locationURI="toolbar:org.kalypso.model.wspm.tuhh.ui.light.WspmMapViewPart.outline">
            <separator name="outline" visible="false"/>
            <command commandId="org.kalypso.ui.map.outline.command.CollapseOutline" style="push"/>
        
            <separator name="theme" visible="true"/>
            <command commandId="org.kalypso.ui.map.outline.command.OpenWmsWizardCommand" style="push"/>
            <command commandId="org.kalypso.ui.map.outline.command.RemoveTheme" style="push"/>
            <command commandId="org.kalypso.ui.map.outline.command.MoveThemeDown" style="push"/>
            <command commandId="org.kalypso.ui.map.outline.command.MoveThemeUp" style="push"/>

            <separator name="navigation" visible="true"/>
            <command commandId="org.kalypso.ui.map.outline.command.ZoomToSelectedTheme" style="push"/>

            <separator name="style" visible="true"/>

            <separator name="additions" visible="true"/>
        </menuContribution>

        <menuContribution locationURI="popup:org.kalypso.model.wspm.tuhh.ui.light.WspmMapViewPart.outline">
            <command commandId="org.kalypso.ui.views.outline.LegendExport" style="push"/>
            <separator name="additions" visible="false"/>
        </menuContribution>
    </extension>
  
</plugin>
