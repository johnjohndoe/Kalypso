<?xml version="1.0" encoding="UTF-8"?>
<chapter id="GrafischeOberflaeche">
  <title>Grafische Oberfläche</title>

  <indexterm>
    <primary>Grafische Oberfläche</primary>

    <secondary>Expertenmodus</secondary>
  </indexterm>

  <para vendor="KalypsoModeler;hh_ingenieurbueros">Im vorliegenden Kapitel
  werden die allgemein für alle Module anzuwendenden Ansichten und Editoren
  der Benutzeroberfläche (GUI) erläutert.</para>

  <para vendor="sachsen;sachsen-anhalt">Im vorliegenden Kapitel wird die
  grafische Benutzeroberfläche (GUI) für den KALYPSO Modeler (Expertenmodus)
  erläutert. Die KALYPSO Modeler Perspektive kann über das vorhandene Symbol
  in der Auswahlleiste oder über das Menü <guimenuitem>Fenster</guimenuitem>
  geöffnet werden.</para>

  <figure vendor="sachsen;sachsen-anhalt">
    <title>KALYPSO Modeler Perspektive öffnen</title>

    <mediaobject>
      <imageobject>
        <imagedata align="center" fileref="img/gui/perspektive_modeler.png"
                   scale="70" />
      </imageobject>
    </mediaobject>
  </figure>

  <section id="AllgemeinesZurGui">
    <title>Allgemeines zu Ansichten und Perspektiven</title>

    <indexterm>
      <primary>Ansichten</primary>

      <secondary>Allgemeines</secondary>
    </indexterm>

    <para>Die grafische Benutzeroberfläche im Expertenmodus besteht im
    Wesentlichen aus folgenden Ansichten:</para>

    <itemizedlist>
      <listitem>
        <para><emphasis role="bold">Navigator</emphasis>: Der Navigator
        ermöglicht die Ansicht auf das lokale Arbeitsverzeichnis und die dort
        vorliegende Datenstruktur.</para>
      </listitem>

      <listitem>
        <para><emphasis role="bold">Karten-Ansicht</emphasis>: Mit Hilfe der
        Karten-Ansicht können vorab definierte Kartenvorlagen - einschließlich
        der in der Vorlage referenzierten Geo-Informationen - im Lageplan
        visualisiert werden. Die Karten-Ansicht eignet sich für die
        Darstellung von geografischen Modelldaten (<abbrev>z. B.</abbrev>
        Einzugsgebietsgrenzen) sowie relevanten Hintergrundkarten (<abbrev>z.
        B.</abbrev> topografische Grundkarten).</para>
      </listitem>

      <listitem>
        <para><emphasis role="bold">Outline</emphasis>...</para>
      </listitem>

      <listitem>
        <para><emphasis role="bold">Gliederung</emphasis> ...</para>
      </listitem>

      <listitem>
        <para><emphasis role="bold">Baum-Ansicht</emphasis>: Die Baum-Ansicht
        stellt eine Gesamtübersicht der betrachteten Daten in Baumform bereit.
        Innere Abhängigkeiten sind so editierbar.</para>
      </listitem>

      <listitem>
        <para><emphasis role="bold">Feature-Ansicht</emphasis>: Die
        Feature-Ansicht ermöglicht den Zugriff auf alle Daten des selektierten
        Elements.</para>
      </listitem>

      <listitem>
        <para><emphasis role="bold">Tabellen-Ansicht</emphasis>: Die
        Tabellen-Ansicht erlaubt den Zugriff auf Modellparameter bzw.
        geografische Attribute, welche gleichzeitig mit der Kartenvorlage
        verknüpft sind. Ebenfalls sind Zeitreihenwerte mit der Tabellenansicht
        darstellbar und veränderbar.</para>
      </listitem>

      <listitem>
        <para><emphasis role="bold">Diagramm- und Tabellenansicht auf
        Zeitreihen</emphasis>: Anhand der Diagramm-Ansicht werden Zeitreihen
        (<abbrev>z. B.</abbrev> Wasserstandsganglinien oder
        Niederschlagsmessreihen) als Ganglinie oder Blockdiagramm dargestellt.
        In der Diagramm-Ansicht können mehrere Zeitreihen zugleich angezeigt
        werden. Zur Bearbeitung von Zeitreihen wird das Grafikprogramm
        benutzt. Ebenfalls sind Zeitreihenwerte mit der Tabellenansicht
        darstellbar und veränderbar.</para>
      </listitem>

      <listitem>
        <para><emphasis role="bold">Grafikprogramm</emphasis>: Die
        Nachbearbeitung von Berechnungsergebnissen erfordert i.d.R. komplexe
        Operationen an Zeitreihen. Hierfür steht das Grafikprogramm zur
        Verfügung, wo u.a. mehrere Zeitreihen gleichzeitig dargestellt,
        Zeitreihen mit unterschiedlichen Ordinaten-Achsen behandelt sowie
        Zeitreihenwerte verändert werden können.</para>
      </listitem>

      <listitem>
        <para><emphasis role="bold">Zeitreihenbrowser</emphasis>...</para>
      </listitem>

      <listitem>
        <para><emphasis role="bold">Log Ansicht</emphasis>...</para>
      </listitem>
    </itemizedlist>

    <para>Die Ergonomie und Logik der Oberfläche ähnelt denen gängiger
    GIS-Programme, sie werden jedoch ergänzt durch generelle Funktionen zur
    Bearbeitung und Verwaltung hydrologischer / hydraulischer Modelle (siehe
    <xref linkend="Grundfunktionen" os="" />).</para>

    <para>I.d.R. gehört zu jeder der oben genannten Ansichten ein spezifisches
    Untermenü bzw. Werkzeuge in Form von Toolbars. <abbrev>Z. B.</abbrev>
    umfasst die Karten-Ansicht Menüpunkte zum Ein- und Ausblenden von Themen
    oder zum Zoomen innerhalb der Ansicht (siehe <xref
    linkend="Ansichtssteuerung" />).</para>

    <section id="GuiOeffnenAnsichten">
      <title>Öffnen einzelner Ansichten</title>

      <indexterm>
        <primary>Ansichten</primary>

        <secondary>Öffnen</secondary>
      </indexterm>

      <para>Der Navigator öffnet sich automatisch beim Start des Expertenmodus
      und zeigt die lokal verfügbaren Modelle an.</para>

      <para>Die Ansichten für Karten, Tabellen, Diagramme, Modellbäume und
      Modellelemente werden geöffnet, indem die jeweilige Vorlagendatei - für
      eine Karte (*.gmt), einen Baum (*.gmv), ein Element (*.gft), eine
      GIS-Tabelle (*.gtt), eine Zeitreihentabelle (*.ott) oder ein Diagramm
      (*.odt) - im Navigator ausgewählt wird. Wenn dabei die rechte Maustaste
      gedrückt wird, kann über <guimenuitem>Öffnen mit</guimenuitem> ein für
      den Vorlagentyp speziell konfigurierter Editor gewählt werden.
      <abbrev>Z. B.</abbrev> ist dies im Falle der Karten-Ansicht der KALYPSO
      Karten-Editor (siehe <xref linkend="GisViewEditor" />) und bei Tabellen
      der KALYPSO Tabellen-Editor.</para>

      <figure id="GisViewEditor">
        <title>Öffnen einer Karte anhand des Karten-Editors</title>

        <mediaobject>
          <imageobject>
            <imagedata align="center" fileref="img/gui/GISviewEditor.png"
                       scale="50" />
          </imageobject>
        </mediaobject>
      </figure>

      <para>Zusätzlich zum jeweils speziell konfigurierten Editor stehen auch
      Editoren zur Verfügung, welche das Editieren des ursprünglichen XML-
      bzw. GML-Formats erlauben. Neben dem einfachen Texteditor kann eine
      Gesamtübersicht der Inhalte einer GML-Datei mit der KALYPSO Standard
      Baum-Ansicht oder dem KALYPSO Standard Feature Editor erreicht
      werden.</para>

      <para>Bei Doppelklick mit der linken Maustaste auf die zu öffnende Datei
      wird derjenige Editor zum Öffnen benutzt, mit dem die Datei zuletzt
      aufgerufen wurde. Bei bestimmten Dateitypen (<abbrev>z. B.</abbrev>
      Zeitreihen (*.zml)) wird bei Doppelklick auf die Datei ein
      Vorlagenauswahl-Fenster geöffnet. Hier besteht die Möglichkeit, die
      Datei unterschiedlich zu visualisieren (Tabelle, Diagramm).</para>

      <note>
        <para>Eine Vorlagendatei kann nur einmal geöffnet werden und folglich
        nicht parallel mit unterschiedlichen Editoren bearbeitet
        werden.</para>
      </note>
    </section>

    <section id="ArbeitenMitAnsichten">
      <title>Arbeiten mit mehreren Ansichten</title>

      <indexterm>
        <primary>Ansichten</primary>

        <secondary>Arbeiten mit mehreren</secondary>
      </indexterm>

      <para>Zur Bearbeitung von Modelldaten oder Zeitreihen ist das Arbeiten
      mit mehreren Ansichten sinnvoll, sodass <abbrev>z. B.</abbrev> die
      geografischen Informationen und Modelldaten in der Karten-Ansicht
      simultan mit der Tabellen-Ansicht angezeigt werden können. Dabei sind
      die Ansichten gekoppelt, d.h., der in der Tabelle selektierte
      Bezugspunkt bzw. das Gebiet wird gleichzeitig in der Karte markiert und
      umgekehrt. Somit lässt sich in der Modellbearbeitung permanent ein
      Lagebezug herstellen.</para>

      <figure id="GisViewMulti">
        <title>Parallele Ansicht von Karte und Tabelle</title>

        <mediaobject>
          <imageobject>
            <imagedata align="center" fileref="img/gui/Mehrere_Ansichten.png"
                       scale="80" />
          </imageobject>
        </mediaobject>
      </figure>

      <para>Karten und Tabellen können in der Gesamtansicht parallel wie folgt
      angezeigt werden:</para>

      <itemizedlist>
        <listitem>
          <para>Karte und Tabelle nacheinander mit KALYPSO Karten-Editor und
          Tabellen-Editor öffnen. Karte und Tabelle werden sich danach
          überlagern. Zwischen den Ansichten kann durch Mausklick auf den
          Karten- oder Tabellennamen in der oberen Leiste des Ansichtsfensters
          gewechselt werden.</para>
        </listitem>

        <listitem>
          <para>Durch Klick mit der linken Maustaste auf den Karten- oder
          Tabellennamen in der oberen Leiste des Ansichtsfensters und
          nachfolgendem Ziehen des Cursors - linke Maustaste dabei gedrückt
          halten - auf die seitlichen Berandungen des Ansichtsfensters oder in
          Nachbaransichten hinein, lassen sich die Ansichten beliebig vertikal
          oder horizontal zueinander anordnen. Die Anordnung wird vollzogen,
          sobald die linke Maustaste losgelassen wird.</para>
        </listitem>
      </itemizedlist>

      <para>Geöffnete Ansichten werden durch Mausklick in das jeweilige
      Ansichtsfenster aktiviert. Die aktive Ansicht wird durch farbliche
      Hervorhebung des Ansichtsnamens (und des -rahmens) in der oberen
      Ansichtsleiste markiert.</para>

      <para>Die geöffneten Ansichten können geschlossen werden, indem
      <abbrev>z. B.</abbrev> mit der Maus auf das Kreuz neben dem
      Ansichtsnamen in der oberen Ansichtsleiste geklickt wird.</para>

      <para id="MenuFenster">Generell können die Ansichtsfenster auch über das
      Menü <guimenu>Fenster</guimenu> im Hauptmenü von KALYPSO gesteuert
      werden (siehe <xref linkend="Fenster" />).</para>

      <figure id="Fenster">
        <title>Menü Fenster zur Ansichtsteuerung</title>

        <mediaobject>
          <imageobject>
            <imagedata align="center" fileref="img/gui/expert_fenster.png"
                       scale="50" />
          </imageobject>
        </mediaobject>
      </figure>

      <para>Zum Verständnis der Funktionen im Menü <guimenu>Fenster</guimenu>
      muss der Unterschied zwischen Perspektive und Sicht erläutert werden.
      Perspektive ist der Oberbegriff. Die Gesamtansicht des KALYPSO Modeler
      (Expertenmodus) definiert beispielsweise eine Perspektive. Auch die
      Hochwasser-Vorhersage und der Zeitreihenbrowser repräsentieren jeweils
      eine Perspektive. Die einzelnen Perspektiven setzen sich aus mehreren
      (An)Sichten zusammen.</para>

      <para>Mit dieser Begriffserläuterung ist das Menü
      <guimenu>Fenster</guimenu> selbsterklärend. Damit lassen sich
      Perspektiven und Sichten beliebig Ergänzen, Maximieren, Speichern,
      Schließen, etc.</para>
    </section>
  </section>

  <section id="Ansichtssteuerung">
    <title>KALYPSO-Ansichten</title>

    <indexterm>
      <primary>KALYPSO-Ansichten</primary>
    </indexterm>

    <para>Die verschiedenen Ansichten in KALYPSO beinhalten generell
    Untermenüs, die u.a. die Navigation innerhalb der Ansicht ermöglichen. Die
    wichtigsten und speziell auf die Darstellung und Bearbeitung
    hydrologischer / hydraulischer Modelle zielenden Ansichten und ihre
    Anpassungsmöglichkeiten werden nachfolgend erläutert.</para>

    <section>
      <title>Ansichts-Vorlagen</title>

      <indexterm>
        <primary>Ansichts-Vorlagen</primary>
      </indexterm>

      <para>Das Arbeiten mit unterschiedlichen Ansichten setzt Kenntnisse über
      das Arbeiten mit Ansicht-Vorlagen voraus. Prinzipiell ist in KALYPSO
      vorgesehen, nicht auf die Originaldaten zurückzugreifen und diese zu
      editieren, sondern mit Vorlagen zu arbeiten, die Informationen über die
      Darstellungsweise bestimmter Modell-Dateien enthalten. In KALYPSO sind
      Vorlagen definiert, die das Visualisieren von Modelldaten in Form von
      Karten, Diagrammen und Tabellen ermöglichen. Im Einzelnen existieren
      folgende Vorlagen:</para>

      <itemizedlist>
        <listitem>
          <para>Kartenvorlage (*.gmt)</para>

          <para>Diese Vorlage dient zum Visualisieren von Modelldaten in einer
          Kartendarstellung.</para>
        </listitem>

        <listitem>
          <para>Baumvorlage (*.gmv)</para>

          <para>Diese Vorlage visualisiert die Modelldaten in Form eines
          Baumes. Innere Abhängigkeiten sind so editierbar.</para>
        </listitem>

        <listitem>
          <para>Feature(Element)vorlage (*.gft)</para>

          <para>Diese Vorlage dient der Ansicht einzelner Elemente. Sie stellt
          eine Gesamtübersicht der Daten eines Elementes dar.</para>
        </listitem>

        <listitem>
          <para>Tabellenvorlage (*.gtt)</para>

          <para>Modelldaten werden in Form von Tabellen dargestellt.</para>
        </listitem>

        <listitem>
          <para>Zeitreihentabelle (*.ott)</para>

          <para>Die Werte von Zeitreihen im ZML-Format werden in Form einer
          Tabelle dargestellt. Die Werte sind in der Tabelle
          editierbar.</para>
        </listitem>

        <listitem>
          <para>Zeitreihendiagramm (*.odt)</para>

          <para>Zeitreihen im ZML-Format werden in einem Diagramm angezeigt.
          Optional kann auch die Bearbeitung der Zeitreihe mit Hilfe des
          Grafikprogramms erfolgen.</para>
        </listitem>
      </itemizedlist>

      <para>Die Vorlagen sind teilweise durch den Benutzer editierbar, sodass
      eine Erstellung und Änderung von Formatvorlagen nach eigenen
      Erfordernissen möglich ist. In den folgenden Abschnitten sind die
      Darstellungsmöglichkeiten beschrieben, die sich aus den einzelnen
      Formatvorlagen ergeben.</para>
    </section>

    <section id="MenuKarte">
      <title>Karten-Ansicht</title>

      <indexterm>
        <primary>Karten-Ansicht</primary>
      </indexterm>

      <para>Sobald eine Kartenvorlage (*.gmt) mit dem Karten-Editor geöffnet
      wird, erscheint im Hauptmenü zwischen den Menüpunkten
      <guimenu>Modell</guimenu> und <guimenu>Fenster</guimenu> ein
      zusätzlicher Menüpunkt <guimenu>Karte</guimenu> (siehe <xref
      linkend="NavigationKartenAnsicht" />). Die Funktionen im Menü
      <guimenu>Karte</guimenu> sind erst ausführbar, wenn eine Karten-Ansicht
      aktiviert bzw. in diese hinein geklickt wird (Kartenname wird farblich
      hervorgehoben).</para>

      <para>Anhand der verfügbaren Funktionen kann die Darstellung vergrößert
      oder verkleinert (Zoom), der Bildausschnitt maximiert und verschoben
      (Pan) werden.</para>

      <para>Im Menü <guimenu>Karte</guimenu> kann die Editierfunktion
      (<guimenuitem>Objekt Editieren</guimenuitem>) aktiviert werden. Um
      Elemente in der Karte zu selektieren und ggf. Attribute zu verändern,
      muss zuvor das gewünschte Thema in der Gliederung-Ansicht ausgewählt und
      aktiviert werden. Die Aktivierungsfunktion befindet sich im Submenü in
      der Ansichtsleiste Gliederung.</para>

      <para>Die Gliederung-Ansicht öffnet sich i.d.R. zusammen mit der
      Karten-Ansicht, sofern dies bei der letzten Arbeitssitzung so
      eingestellt wurde. Andernfalls kann die Gliederung über das Menü
      <menuchoice>
          <guimenu>Fenster</guimenu>

          <guimenuitem>Sicht anzeigen</guimenuitem>
        </menuchoice> geöffnet werden. In der Gliederung-Ansicht werden die
      Themen der Kartenvorlage gelistet. In Anlehnung an übliche
      GIS-Funktionalitäten können die Themen einzeln in der Karten-Ansicht an-
      und ausgeblendet werden (Häkchen vor dem Thema aktivieren bzw.
      deaktivieren), die Darstellungsreihenfolge der Themen kann verändert
      oder Themen gänzlich gelöscht werden. Letztere Funktionen sind im
      Submenü in der Ansichtsleiste Gliederung verfügbar.</para>

      <figure id="NavigationKartenAnsicht">
        <title>Navigation in der Karten-Ansicht</title>

        <mediaobject vendor="sachsen">
          <imageobject>
            <imagedata align="center" fileref="img/gui/gis_karte2.png"
                       format="PNG" scale="45" vendor="" />
          </imageobject>
        </mediaobject>

        <mediaobject vendor="sachsen-anhalt">
          <imageobject>
            <imagedata align="center" fileref="img/gui/gis_karte2.png"
                       format="PNG" scale="45" vendor="" />
          </imageobject>
        </mediaobject>

        <mediaobject vendor="hh_ingenieurbueros">
          <imageobject>
            <imagedata align="center" fileref="img/gui/navi_karte.png"
                       format="PNG" scale="80" vendor="" />
          </imageobject>
        </mediaobject>
      </figure>

      <para>Mit Hilfe des grünen Plus-Symbols in der Werkzeugleiste der
      Gliederung kann einer Karte ein neues Thema hinzugefügt werden. Die
      Auswahl des neu hinzuzufügenden Themas wird durch einen Assistenten
      vereinfacht. Es besteht die Möglichkeit im Projekt vorhandene
      (importierte) ESRI Shape Dateien, Geometriedaten aus einer GML-Instanz,
      Rasterdaten oder Daten von einem Web Feature Service bzw. Web Map
      Service hinzuzufügen. Durch einen Doppelklick auf die gewünschte
      Datenform wird der spezifische Assistent zum Datenimport gestartet
      (siehe <xref linkend="GuiLayerHinzufuegen" />).</para>

      <para>Das Layout der Karten-Ansicht bzw. der Kartenvorlage wird anhand
      des Style-Editors angepasst (siehe <xref linkend="StyleEditor" />). Dazu
      wird in der Gliederung-Ansicht ein Thema ausgewählt, für welches die
      Darstellung verändert werden soll. Beim Klicken auf das Plus-Symbol vor
      dem Themennamen erscheint eine Untergliederung unter dem Themennamen.
      I.d.R. gibt es unter dem Themennamen nur eine Untergliederung mit einer
      identischen Bezeichnung wie der Themenname. Sofern die Untergliederung
      mit Mausklick aktiviert wird, erscheint in der Ansichtsleiste Gliederung
      die Funktion <guimenu>Style ändern</guimenu>. Nur diese ist jetzt in der
      Ansichtsleiste verfügbar - alle anderen sind grau hinterlegt. Alternativ
      zur Ansichtsleiste kann mit einem Rechtsklick mit der Maus
      (Untergliederung des Themas muss aktiv sein) ein Untermenü geöffnet
      werden, in dem <guimenu>Style verändern</guimenu> ausgewählt werden
      kann, sodass sich die Style-Editor-Ansicht öffnet. Mit dem Style-Editor
      können Symboldarstellungen, Farben, Fonts, etc. interaktiv verändert
      werden. Damit die Veränderungen für die Kartenvorlage wirksam werden,
      ist der veränderte Style entsprechend zu speichern.</para>

      <figure id="StyleEditor">
        <title>Veränderung der Karten-Ansicht / Kartenvorlage mit dem
        Style-Editor</title>

        <screenshot>
          <mediaobject vendor="sachsen">
            <imageobject>
              <imagedata align="center" fileref="img/gui/style_editor.png"
                         format="PNG" scale="45" vendor="" />
            </imageobject>
          </mediaobject>

          <mediaobject vendor="sachsen-anhalt">
            <imageobject>
              <imagedata align="center" fileref="img/gui/style_editor.png"
                         format="PNG" scale="45" vendor="" />
            </imageobject>
          </mediaobject>

          <mediaobject vendor="hh_ingenieurbueros">
            <imageobject>
              <imagedata align="center"
                         fileref="img/gui/style_editor_tuhh.png" format="PNG"
                         scale="80" vendor="" />
            </imageobject>
          </mediaobject>
        </screenshot>
      </figure>

      <para>Die vorgenommenen Änderungen an der Karten-Ansicht werden in der
      aufgerufenen Kartenvorlage aktualisiert, sobald die Speicherung
      durchgeführt wird, sodass die Änderungen in der Ansicht für spätere
      Aufrufe der Kartenvorlage wirksam sind.</para>

      <para>Eine neue Karte kann im Projekt durch den Menüpunkt <menuchoice>
          <guimenu>Datei</guimenu>

          <guisubmenu>Neu</guisubmenu>

          <guimenuitem>Andere</guimenuitem>
        </menuchoice> hinzugefügt werden. Hierzu ist der Assistent GisMapView
      unter dem Ordner Andere auszuwählen (siehe <xref
      linkend="PicNeueKarte" />). Mit Hilfe des Assistenten kann der
      Speicherort sowie der Name der neuen Karte bestimmt werden.<figure
          id="PicNeueKarte">
          <title>Neue Karte erzeugen</title>

          <mediaobject>
            <imageobject>
              <imagedata align="center" fileref="img/gui/gis_neue_karte.png"
                         scale="80" />
            </imageobject>
          </mediaobject>
        </figure></para>

      <section id="GuiLayerHinzufuegen">
        <title>Thema hinzufügen</title>

        <indexterm>
          <primary>Karten-Ansicht</primary>

          <secondary>Thema hinzufügen</secondary>
        </indexterm>

        <para>In einer neuen oder auch bestehenden Karte kann ein Thema mit
        Hilfe des Plus-Symbols hinzugefügt werden (siehe <xref
        linkend="PicButtonLayerAdd" />).</para>

        <figure id="PicButtonLayerAdd">
          <title>Thema zu Karte hinzufügen</title>

          <mediaobject>
            <imageobject>
              <imagedata align="center"
                         fileref="img/gui/Button-Layer_hinzufuegen.png"
                         scale="80" />
            </imageobject>
          </mediaobject>
        </figure>

        <para>Das neue Thema kann hierbei aus verschiedenen
        Informationsquellen innerhalb des Arbeitsverzeichnisses oder durch
        Anbindung eines Web Services eingebunden werden. Hierzu ist der
        entsprechende Assistent durch Doppelklick im Auswahlfenster zu starten
        (siehe <xref linkend="PicDatenquelleWaehlen" />). Die Angaben, die im
        dann folgenden Dialog zu machen sind, hängen von der Art der gewählten
        Datenquelle ab. So muss <abbrev>z. B.</abbrev> für das Einbinden einer
        Shape-Datei eine entsprechende Datei im aktuellen Arbeitsverzeichnis
        ausgewählt und das Koordinatensystem, in dem die Daten abgelegt sind,
        angegeben werden. Zur Symbolisierung kann der Benutzer einen bereits
        definierten Style auswählen oder einen Standard-Style generieren
        lassen. Ähnliche angaben sind für alle dateibasierten Datenquellen zu
        machen. Bei den webbasierten Datenquellen (Web Service) sind vor der
        Datenauswahl gültige Verbindungsdaten anzugeben.</para>

        <figure id="PicDatenquelleWaehlen">
          <title>Auswahl der Datenquelle</title>

          <mediaobject>
            <imageobject>
              <imagedata align="center"
                         fileref="img/gui/layer_import_auswahl.png" scale="80" />
            </imageobject>
          </mediaobject>
        </figure>
      </section>
    </section>

    <section>
      <title>Baum-Ansicht</title>

      <indexterm>
        <primary>Baum-Ansicht</primary>
      </indexterm>

      <para>Sobald eine Baumvorlage (*.gmv) mit dem Baum-Editor oder eine
      GML-Datei mit Hilfe der Standard Baum-Ansicht geöffnet wird , erscheint
      im Hauptmenü zwischen den Menüpunkten <guimenu>Modell</guimenu> und
      <guimenu>Fenster</guimenu> ein zusätzlicher Menüpunkt
      <guimenu>Baum</guimenu> (siehe <xref
      linkend="PicNavigationBaumAnsicht" />). Die Funktionen im Menü
      <guimenu>Baum</guimenu> sind erst ausführbar, wenn eine Baum-Ansicht
      aktiviert bzw. in diese hinein geklickt wird (Baumname wird farblich
      hervorgehoben).</para>

      <figure id="PicNavigationBaumAnsicht">
        <title>Navigation in der Baum-Ansicht</title>

        <mediaobject>
          <imageobject>
            <imagedata align="center" fileref="img/gui/gui-navi_baum.png"
                       scale="80" />
          </imageobject>
        </mediaobject>
      </figure>

      <para>Die Baum-Ansicht dient dem allgemeinen Überblick der gesamten
      Projektverknüpfung. Sie stellt die Verbindungen, Ableitungen und
      Verknüpfungen im Modell in einer geordneten abwärts gerichteten
      Baumstruktur dar. Primäre Funktionen im Baum sind das Hinzufügen und
      Löschen von Elementen (Features), welche durch Klicken der rechten
      Maustaste im Kontextmenü verfügbar werden. Zudem wird durch die Funktion
      <guimenuitem>Feature editieren</guimenuitem> eine direkte Bearbeitung
      der Einzelelemente durch die Verknüpfung mit dem Feature Editor
      möglich.</para>

      <figure>
        <title>Kontextmenu in der Baum-Ansicht</title>

        <mediaobject>
          <imageobject>
            <imagedata align="center" fileref="img/gui/gui-baum_menue.png"
                       scale="80" />
          </imageobject>
        </mediaobject>
      </figure>
    </section>

    <section>
      <title>Feature (Element) Ansicht</title>

      <indexterm>
        <primary>Feature (Element) Ansicht</primary>
      </indexterm>

      <para>Die Feature Ansicht ist eine flexibel gestaltete Ansicht zur
      Betrachtung einzelner Elemente oder Elementgruppen. Das Öffnen der
      Ansicht ist aufgrund der Flexibilität durch verschiedenste Optionen
      möglich, welche im Folgenden aufgeführt werden:</para>

      <itemizedlist>
        <listitem>
          <para>Öffnen einer GML-Datei mit Hilfe des Standard Feature
          Editors</para>
        </listitem>

        <listitem>
          <para>Öffnen einer *.gft Datei mit dem Feature Editor</para>
        </listitem>

        <listitem>
          <para>Ansicht der selektierten Elemente (Karte, Tabelle) in der
          geöffneten Feature View Ansicht</para>
        </listitem>
      </itemizedlist>

      <figure>
        <title>Öffnen der Feature View Ansicht auf selektierte
        Elemente</title>

        <mediaobject>
          <imageobject>
            <imagedata align="center"
                       fileref="img/gui/gui-featureview_karte.png" scale="80" />
          </imageobject>
        </mediaobject>
      </figure>
    </section>

    <section id="MenuTabelle">
      <title>Tabellen-Ansicht (Modellparameter)</title>

      <indexterm>
        <primary>Tabellen-Ansicht</primary>

        <secondary>Modellparameter</secondary>
      </indexterm>

      <para>Sobald eine Tabellenvorlage (*.gtt) mit dem Tabellen-Editor
      geöffnet wird, erscheint im Hauptmenü zwischen den Menüpunkten
      <guimenu>Modell</guimenu> und <guimenu>Fenster</guimenu> ein
      zusätzlicher Menüpunkt <guimenu>Tabelle</guimenu> (siehe <xref
      linkend="NavigationTabellenAnsicht" />). Die Funktionen im Menü
      <guimenu>Tabelle</guimenu> sind erst ausführbar, wenn eine
      Tabellen-Ansicht aktiviert bzw. in diese hinein geklickt wird
      (Tabellenname wird farblich hervorgehoben).</para>

      <figure id="NavigationTabellenAnsicht">
        <title>Navigation in der Tabellen-Ansicht (Modellparameter)</title>

        <mediaobject vendor="sachsen">
          <imageobject>
            <imagedata align="center" fileref="img/gui/tabelle2.png"
                       scale="45" vendor="" />
          </imageobject>
        </mediaobject>

        <mediaobject vendor="sachsen-anhalt">
          <imageobject>
            <imagedata align="center" fileref="img/gui/tabelle2.png"
                       scale="45" vendor="" />
          </imageobject>
        </mediaobject>

        <mediaobject vendor="hh_ingenieurbueros">
          <imageobject>
            <imagedata align="center" fileref="img/gui/navi_tabelle.png"
                       scale="80" vendor="" />
          </imageobject>
        </mediaobject>
      </figure>

      <para>Die wesentliche Funktion zur Steuerung der Tabellen-Ansicht
      besteht darin, Spalten der Tabelle ein- und auszublenden. Durch Drücken
      der rechten Maustaste in der Tabelle wird eine Auswahlliste geöffnet,
      welche alle verfügbaren Parameter aufführt. Spalten können ein- und
      ausgeblendet werden, indem die darzustellenden Spalten per Mausklick
      ausgewählt und aktiviert (Häkchen an) bzw. deaktiviert werden
      können.</para>

      <para>Die vorgenommenen Änderungen an der Tabellen-Ansicht werden in der
      aufgerufenen Tabellenvorlage aktualisiert, sobald die Speicherung
      durchgeführt wird, sodass die Änderungen in der Ansicht für spätere
      Aufrufe der Tabellenvorlage wirksam sind.</para>

      <para>Zum Speichern von geänderten Daten innerhalb einer Tabelle muss
      der Menüpunkt <menuchoice>
          <guimenu>Tabelle</guimenu>

          <guimenuitem>Daten speichern</guimenuitem>
        </menuchoice> gewählt werden. Alternativ kann auch die entsprechende
      Schaltfläche in der Menü-Leiste benutzt werden (siehe <xref
      linkend="PicTabelleButton" />).</para>

      <figure id="PicTabelleButton">
        <title>Schaltflächen in der Tabellen-Ansicht</title>

        <mediaobject>
          <imageobject>
            <imagedata align="center" fileref="img/gui/Button-Tabelle.png"
                       scale="50" />
          </imageobject>
        </mediaobject>
      </figure>
    </section>

    <section>
      <title>Tabellen-Ansicht (Zeitreihen)</title>

      <indexterm>
        <primary>Tabellen-Ansicht</primary>

        <secondary>Zeitreihen</secondary>
      </indexterm>

      <para>Zeitreihen im ZML-Format (*.zml) können in der KALYPSO-Oberfläche
      als Tabelle oder Diagramm geöffnet werden (siehe <xref
      linkend="NavigationAnsichtsauswahl" />). Durch Doppelklick auf eine
      Zeitreihe und Auswahl von <guilabel>Standard Tabellen Editor</guilabel>
      wird die Zeitreihe in der Tabellen-Ansicht dargestellt (siehe <xref
      linkend="NavigationTabelleZml" />).</para>

      <para vendor="sachsen-anhalt"><note>
          <para>Tabellen-Ansichten von Zeitreihen, die im sog.
          <quote>Simulationsbetrieb</quote> erstellt wurden und
          dementsprechend markiert sind (vergl. <xref
          linkend="KalypsoTestbetrieb" />), haben eine gesonderte Überschrift
          und sind somit gut von Zeitreihen des <quote>Regelbetriebs</quote>
          zu unterscheiden.</para>
        </note></para>

      <figure id="NavigationAnsichtsauswahl">
        <title>Ansichtsauswahl beim Öffnen einer Zeitreihe</title>

        <mediaobject>
          <imageobject>
            <imagedata align="center" fileref="img/gui/ansichtsauswahl.png"
                       scale="50" />
          </imageobject>
        </mediaobject>
      </figure>

      <figure id="NavigationTabelleZml">
        <title>Navigation in der Tabellen-Ansicht (Zeitreihen)</title>

        <mediaobject>
          <imageobject>
            <imagedata align="center"
                       fileref="img/gui/tabellen-ansicht_zml.png" scale="80" />
          </imageobject>
        </mediaobject>
      </figure>

      <para>Wenn bereits eine Zeitreihe in der Tabellen-Ansicht geöffnet ist,
      können über Drag and Drop (linke Maustaste) aus dem Navigator in die
      Gliederung-Ansicht mehrere Zeitreihen dargestellt werden. Dies ist auch
      möglich, wenn es sich um Zeitreihen mit unterschiedlichen Einheiten
      handelt (Niederschlag, Abfluss, Wasserstand). Zusätzlich ist es in der
      Gliederung-Ansicht möglich, einzelne Datensätze einer Zeitreihe
      (<abbrev>z. B.</abbrev> Wasserstands- und Abflusswerte eines Pegels)
      individuell darstellen zu lassen oder in der Ansicht auszuschalten
      (Aktivieren bzw. Deaktivieren des Häkchens).</para>

      <para>Es besteht die Möglichkeit, bestimmte Achsentypen für alle
      dargestellten Zeitreihen zu deaktivieren. <abbrev>Z. B.</abbrev> kann
      für alle dargestellten Zeitreihen die Darstellung des Abflusses
      unterdrückt werden. Hierzu klicken Sie auf die Schaltfläche
      <inlinemediaobject>
          <imageobject>
            <imagedata fileref="img/gui/Button_filter.png" />
          </imageobject>
        </inlinemediaobject> oben rechts in der Gliederung. Es öffnet sich ein
      Fenster, welches die vorhandenen Achsentypen listet. Hier können die
      nicht gewünschten Achsentypen ausgewählt und der Dialog geschlossen
      werden. Die zuvor selektierten Achsentypen aller vorhandenen Zeitreihen
      werden deaktiviert und verschwinden aus der aktuellen
      Darstellung.</para>

      <section id="TabellenBearbeiten">
        <title>Bearbeiten von Tabellenwerten</title>

        <indexterm>
          <primary>Zeitreihen</primary>

          <secondary>Werte bearbeiten</secondary>
        </indexterm>

        <para>In der Tabellen-Ansicht können die Werte einer Zeitreihe
        editiert werden (Doppelklick in eine Zelle). Daneben sind in der
        KALYPSO-Oberfläche Werkzeuge zur Bearbeitung von Tabellenwerten
        implementiert. Sie geben dem Anwender eine Hilfestellung beim
        Ausfüllen von Messlücken oder beim Einfügen von Werten aus externen
        Programmen. Die hier beschriebenen Bearbeitungsmöglichkeiten gelten
        sowohl für die Tabellen-Ansicht im Expertenmodus als auch im
        Vorhersage-Assistenten (vgl. <xref linkend="vorhersage_wizards" />).
        Die Bearbeitungsfunktionen stehen in Form eines Kontextmenüs durch
        Rechtsklick auf die Tabelle zur Verfügung (siehe <xref
        linkend="KontextmenuTabellen" />).</para>

        <figure id="KontextmenuTabellen">
          <title>Kontextmenü zur Bearbeitung von Tabellenwerten</title>

          <mediaobject>
            <imageobject>
              <imagedata fileref="img/gui/kontextmenu_zeitreihen.png"
                         scale="40" />
            </imageobject>
          </mediaobject>
        </figure>

        <para>Das Bearbeiten von Tabellenwerten setzt in den meisten Fällen
        die Markierung einer oder mehrerer Zellen voraus. Zu unterscheiden ist
        hierbei zwischen dem selektierten Bereich (blau gefärbte Zellen) und
        der gerade aktiven Zelle (graue Einfärbung).</para>

        <itemizedlist>
          <listitem>
            <para><emphasis role="bold">Alle Werte setzen</emphasis></para>

            <para>Alle Werte in einer Spalte werden durch den Wert der
            obersten markierten Zelle ersetzt.</para>
          </listitem>

          <listitem>
            <para><emphasis role="bold">Selektierte Werte
            setzen</emphasis></para>

            <para>Die Werte der selektierten Zellen werden durch den Wert der
            obersten markierten Zelle ersetzt.</para>
          </listitem>

          <listitem>
            <para><emphasis role="bold">Werte unterhalb
            setzen</emphasis></para>

            <para>Alle Tabellenwerte, die sich unterhalb der aktiven Zelle
            befinden, werden durch den Wert der aktiven Zelle ersetzt.</para>
          </listitem>

          <listitem>
            <para><emphasis role="bold">Werte oberhalb
            setzen</emphasis></para>

            <para>Alle Tabellenwerte, die sich oberhalb der aktiven Zelle
            befinden, werden durch den Wert der aktiven Zelle ersetzt.</para>
          </listitem>

          <listitem>
            <para><emphasis role="bold">Werte interpolieren</emphasis></para>

            <para>Es erfolgt eine Interpolation der Werte zwischen der
            obersten und untersten Zelle einer Auswahl. <emphasis>(Bsp.:
            Selektiert wird ein Bereich von 4 Zellen. Der Wert in der obersten
            Zelle beträgt 7, in der untersten Zelle 10. Die beiden
            dazwischenliegenden Zellen werden mit den Werten 8 und 9
            versehen).</emphasis></para>
          </listitem>

          <listitem>
            <para><emphasis role="bold">Kopieren</emphasis></para>

            <para>Die markierten Tabellenwerte werden in die Zwischenablage
            kopiert und können an anderer Stelle wieder eingefügt werden. Dies
            betrifft auch den Austausch mit anderen Programmen (<abbrev>z.
            B.</abbrev> Microsoft Excel). Die Auswahl ist spaltenübergreifend
            möglich.</para>
          </listitem>

          <listitem>
            <para><emphasis role="bold">Einfügen</emphasis></para>

            <para>In der Zwischenablage befindliche Werte werden an der
            markierten Position eingefügt. Der Einfügepunkt (<quote>oben
            links</quote>) wird immer durch die aktive Zelle markiert.</para>
          </listitem>
        </itemizedlist>
      </section>

      <section id="ZeitreihenExport">
        <title>Speichern / Exportieren von Zeitreihen</title>

        <indexterm>
          <primary>Zeitreihen</primary>

          <secondary>Speichern / Exportieren</secondary>
        </indexterm>

        <para>Zum <emphasis role="bold">Speichern</emphasis> von geänderten
        Daten innerhalb einer Tabelle muss der Menüpunkt <menuchoice>
            <guimenu>Tabelle</guimenu>

            <guimenuitem>Daten speichern</guimenuitem>
          </menuchoice> gewählt werden. Alternativ kann auch die entsprechende
        Schaltfläche in der Menü-Leiste benutzt werden (siehe <xref
        linkend="PicTabelleButton" />).</para>

        <important>
          <para>Alle Änderungen in den Zeitreihen betreffen ausschließlich die
          lokal gespeicherte ZML-Datei.</para>
        </important>

        <!--PROFILING ANFANG-->

        <para vendor="sachsen">Beim <emphasis role="bold">Export</emphasis>
        über die Schaltfläche <inlinemediaobject>
            <imageobject>
              <imagedata fileref="img/gui/icon_bericht.png" />
            </imageobject>
          </inlinemediaobject> wird die Tabelle im CSV-Format in das
        Berichtswesen (PSICompact) abgelegt. Vom Anwender sind Metadaten
        anzugeben, die der Dokumentenablage übergeben werden.</para>

        <!--PROFLING ENDE-->
      </section>

      <!--PROFILING sachsen ANFANG-->

      <section id="TabellenKennzeichnung" vendor="sachsen">
        <title>Kennzeichnung von Tabellenwerten</title>

        <indexterm>
          <primary>Zeitreihen</primary>

          <secondary>Kennzeichnung von Tabellenwerten</secondary>
        </indexterm>

        <para>Beim Aufruf von Zeitreihen über den KALYPSO Zeitreihendienst,
        dies ist beim LHWZ gleichbedeutend mit dem Abruf der Zeitreihendaten
        aus PSICompact, werden die Werte einer Zeitreihe mit einem internen
        Status versehen. Dieser ist abhängig von den Attributen aus
        PSICompact. Beim Öffnen einer Zeitreihe in KALYPSO mit der
        Tabellen-Ansicht wird der Status durch ein Symbol visualisiert. Die
        einzelnen Symbole sind mit dem dazugehörigen Status in einer Tabelle
        in <xref linkend="Zeitreihensymbole" /> dargestellt. Wird kein Symbol
        vor dem Wert angezeigt, besitzt der Wert innerhalb von KALYPSO den
        Status <quote>OK</quote>.</para>

        <table id="Zeitreihensymbole">
          <title>Symbole in Zeitreihen-Tabellen</title>

          <tgroup cols="3">
            <colspec align="center" colwidth="1*" />

            <colspec align="left" colwidth="2*" />

            <colspec align="left" colwidth="2*" />

            <thead>
              <row>
                <entry align="center">Symbol</entry>

                <entry align="center">KALYPSO-Status</entry>

                <entry align="center">PSICompact-Status</entry>
              </row>
            </thead>

            <tbody>
              <row>
                <entry valign="middle"></entry>

                <entry>OK</entry>

                <entry>AUTO, OK</entry>
              </row>

              <row>
                <entry><graphic fileref="img/gui/icon_write.png"
                valign="middle" /></entry>

                <entry>Vom Benutzer geändert</entry>

                <entry>MANKOR</entry>
              </row>

              <row>
                <entry><graphic fileref="img/gui/icon_warning.png"
                valign="middle" /></entry>

                <entry>Wert auf Gültigkeit prüfen</entry>

                <entry>ERSALLG, NACH, NORM, NORMALLG, UNDEF</entry>
              </row>

              <row>
                <entry><graphic fileref="img/gui/icon_conflict.png"
                valign="middle" /></entry>

                <entry>Wert nicht ableitbar (W/Q,
                W/V-Umwandlungsfehler)</entry>

                <entry>-</entry>
              </row>
            </tbody>
          </tgroup>
        </table>
      </section>

      <!--PROFLING sachsen-anhalt ANFANG-->

      <section id="TabellenKennzeichnung" vendor="sachsen-anhalt">
        <title>Kennzeichnung von Tabellenwerten</title>

        <indexterm>
          <primary>Zeitreihen</primary>

          <secondary>Kennzeichnung von Tabellenwerten</secondary>
        </indexterm>

        <para>Beim Aufruf von Zeitreihen über den KALYPSO Zeitreihendienst,
        dies ist bei der HVZ gleichbedeutend mit der Bereitstellung der
        Zeitreihendaten über den WISKI Data Provider, werden die Werte einer
        Zeitreihe mit einem internen Status versehen. Dieser ist abhängig von
        den Attributen aus WISKI. Beim Öffnen einer Zeitreihe in KALYPSO mit
        der Tabellen-Ansicht wird der Status durch ein Symbol visualisiert.
        Die einzelnen Symbole sind mit dem dazugehörigen Status in einer
        Tabelle in <xref linkend="Zeitreihensymbole" /> dargestellt. Wird kein
        Symbol vor dem Wert angezeigt, besitzt der Wert innerhalb von KALYPSO
        den Status <quote>OK</quote>.</para>

        <table id="Zeitreihensymbole">
          <title>Symbole in Zeitreihen-Tabellen</title>

          <tgroup cols="3">
            <colspec align="center" colwidth="1*" />

            <colspec align="left" colwidth="2*" />

            <colspec align="left" colwidth="2*" />

            <thead>
              <row>
                <entry align="center">Symbol</entry>

                <entry align="center">KALYPSO-Status</entry>

                <entry align="center">WISKI-Status</entry>
              </row>
            </thead>

            <tbody>
              <row>
                <entry valign="middle"></entry>

                <entry>OK</entry>

                <entry>good, estimated, unchecked, complete</entry>
              </row>

              <row>
                <entry><graphic fileref="img/gui/icon_write.png"
                valign="middle" /></entry>

                <entry>Vom Benutzer geändert</entry>

                <entry></entry>
              </row>

              <row>
                <entry><graphic fileref="img/gui/icon_warning.png"
                valign="middle" /></entry>

                <entry>Wert auf Gültigkeit prüfen</entry>

                <entry>suspect, missing, incomplete</entry>
              </row>

              <row>
                <entry><graphic fileref="img/gui/icon_conflict.png"
                valign="middle" /></entry>

                <entry>Wert nicht ableitbar (W/Q,
                W/V-Umwandlungsfehler)</entry>

                <entry></entry>
              </row>
            </tbody>
          </tgroup>
        </table>

        <!--PROFLING ENDE-->
      </section>

      <section>
        <title>W/Q-Umrechnung</title>

        <para>Zeitreihen, deren Metadaten eine W/Q-Beziehung beinhalten,
        werden automatisch in der Ansicht mit jeweils zwei Spalten angezeigt.
        Besitzt zum Beispiel eine Wasserstandsganglinie eine W/Q-Beziehung, so
        wird in der Ansicht sowohl W als auch Q dargestellt. Die generierte
        Spalte (hier Q) ist dabei gelb hinterlegt.</para>

        <para>Das gleiche gilt darüber hinaus auch für andere Wert-Beziehungen
        wie <abbrev>z. B.</abbrev> Wasserstand-Volumen (W/V).</para>
      </section>
    </section>

    <section id="GuiZmlDiagrammAnsicht">
      <title>Diagramm-Ansicht (Zeitreihen)</title>

      <indexterm>
        <primary>Diagramm-Ansicht</primary>

        <secondary>Zeitreihen</secondary>
      </indexterm>

      <para>Durch Doppelklick auf eine Zeitreihe (*.zml) und Auswahl von
      <guimenu>Standard Diagramm Editor</guimenu> wird die Zeitreihe in der
      Diagramm-Ansicht dargestellt (siehe <xref
      linkend="NavigationDiagrammAnsicht" />).</para>

      <note vendor="sachsen-anhalt">
        <para>Diagramm-Ansichten von Zeitreihen, die im sog.
        <quote>Simulationsbetrieb</quote> erstellt wurden und dementsprechend
        markiert sind (vergl. <xref linkend="KalypsoTestbetrieb" />), haben
        ein Wasserzeichen. außerdem ist der Verlauf der Rahmenfarbe anders.
        Diese Zeitreihen sind somit gut von Zeitreihen des
        <quote>Regelbetriebs</quote> zu unterscheiden.</para>
      </note>

      <para>Die Diagramm-Ansicht dient ausschließlich der schnellen Übersicht
      und Darstellung von Zeitreihen. Die Möglichkeit der
      Zeitreihenbearbeitung ist mit dem Werkzeug nicht vorgesehen. Zur
      komplexen Zeitreihenbearbeitung mittels Zeitreihen-Vorlagen (*.odt)
      steht das Grafikprogramm (siehe <xref linkend="ZeitreihenBearbeiten" />)
      zur Verfügung.</para>

      <para>Wenn bereits eine Zeitreihe in der Diagramm-Ansicht dargestellt
      ist, dann können über Drag and Drop (linke Maustaste) aus dem Navigator
      in die Gliederung-Ansicht mehrere Zeitreihen hinzugefügt werden.
      Voraussetzung ist allerdings, dass die Zeitreihen die gleiche Einheit
      auf der Ordinaten-Achse vorweisen. Zusätzlich ist es in der
      Gliederung-Ansicht möglich, einzelne Datensätze einer Zeitreihe
      (<abbrev>z. B.</abbrev> Wasserstands- und Abflusswerte eines Pegels)
      individuell darstellen zu lassen oder in der Ansicht auszuschalten
      (Aktivieren bzw. Deaktivieren des Häkchens).</para>

      <para>Zum Entfernen einer Zeitreihe aus der Diagramm-Ansicht dient das
      rote Kreuz oben rechts in der Gliederung-Ansicht.</para>

      <figure id="NavigationDiagrammAnsicht">
        <title>Navigation in der Diagramm-Ansicht (QuickView)</title>

        <mediaobject>
          <imageobject>
            <imagedata fileref="img/gui/diagramm.png" scale="80" />
          </imageobject>
        </mediaobject>
      </figure>

      <para>Innerhalb der Diagramm-Ansicht steht eine Zoom-Funktion zur
      Verfügung. Um einen Abschnitt der Zeitreihe vergrößert darzustellen, ist
      der entsprechende Abschnitt durch Aufspannen eines Rechteckes mit der
      linken Maustaste zu markieren. Nach Setzen des ersten Zaun-Eckpunktes
      (obere linke Ecke) wird die linke Maustaste beim Aufspannen des Zaunes
      gedrückt gehalten. Um auf den Gesamtausschnitt zu zoomen, wird
      entgegengesetzt (von rechter unteren Ecke nach links oben)
      gezoomt.</para>

      <formalpara>
        <title>W/Q Umrechnung</title>

        <para>Zeitreihen deren Metadaten eine W/Q-Beziehung beinhalten, werden
        im Diagramm automatisch mit jeweils zwei Kurven angezeigt. Besitzt zum
        Beispiel eine Wasserstandsganglinie eine W/Q-Beziehung, so wird sowohl
        W als auch Q dargestellt. Um nur die W Ganglinie zu sehen, kann Q in
        der Gliederungsansicht deaktiviert werden.</para>
      </formalpara>

      <section>
        <title>Konfiguration</title>

        <para>Zur Konfiguration einer Diagrammansicht stehen eine Reihe von
        Werkzeugen zur Verfügung, über welche die Darstellung des Diagramms
        verändert werden kann.</para>

        <formalpara>
          <title>Diagrammeigenschaften</title>

          <para>Die allgemeinen Eigenschaften eines Diagramms lassen sich über
          den Menüpunkt <menuchoice>
              <guiicon>Diagramm</guiicon>

              <guilabel>Diagramm Eigenschaften</guilabel>
            </menuchoice> editieren. Im Dialog lassen sich die folgenden
          Eigenschaften des Diagramm anpassen:<itemizedlist>
              <listitem>
                <para>Diagramm-Titel: der Titel des Diagramms</para>
              </listitem>

              <listitem>
                <para>Sichtbarkeit der Legende: ob die Legende dargestellt
                werden soll</para>
              </listitem>

              <listitem>
                <para>Legenden-Titel: Bezeichnung der Legende im
                Diagramm</para>
              </listitem>
            </itemizedlist></para>
        </formalpara>

        <formalpara>
          <title>Kurven hinzufügen</title>

          <para>Neue Kurven lassen sich in die Diagrammansicht über Drag und
          Drop von .zml Dateien aus dem Navigator hinzufügen. Es werden dabei
          alle in der Datei vorliegenden Datenspuren automatisch alsKurven im
          Diagramm angelegt. Enthält die eingefügt Zeitreihe zum Beispiel
          sowohl eine W als auch eine Q Datenreihe, werden zwei Kurven zum
          Diagramm hinzugefügt.</para>
        </formalpara>

        <formalpara>
          <title>Kurven löschen</title>

          <para>Im Diagramm befindliche Kurven lassen sich über das
          Löschwerkzeug <inlinemediaobject>
              <imageobject>
                <imagedata fileref="img/gui/diagram_remove.png" />
              </imageobject>
            </inlinemediaobject> in der Gliederungsansicht des Diagramms
          entfernen. Es wird dabei lediglich die dargestellte Kurve aus dem
          Diuagramm entfernt. Die eigentlichen Zeitreihendaten, d.h. die
          referenzierte .zml Datei, bleibt im System erhalten.</para>
        </formalpara>

        <formalpara>
          <title>Kurveneigenschaften</title>

          <para>Die Darstellung einer Kurve lässt sich über den Dialog
          <guilabel>Kurveneigenschaften</guilabel> (siehe <xref
          linkend="figure_diagram_curveproperties" />), welcher sich über den
          entsprechenden Knopf <inlinemediaobject>
              <imageobject>
                <imagedata fileref="img/gui/diagram_properties.png" />
              </imageobject>
            </inlinemediaobject> in der Gliederungsansicht aufrufen lässt,
          verändern.<figure id="figure_diagram_curveproperties">
              <title>Dialog Kurveneigenschaften</title>

              <mediaobject>
                <imageobject>
                  <imagedata fileref="img/gui/diagram_propertiesDialog.png"
                             scale="50" />
                </imageobject>
              </mediaobject>
            </figure></para>
        </formalpara>

        <para>Die folgenden Eigenschaften können im Dialog verändert
        werden:</para>

        <itemizedlist>
          <listitem>
            <para>Name: Die Bezeichnung der Kurve in der
            Gliederungsansicht</para>
          </listitem>

          <listitem>
            <para>Farbe/Transparenz: Farbe und Transparenz (alpha-Wert) der
            Kurve im Diagramm</para>
          </listitem>

          <listitem>
            <para>Strichart: Darstellungsart der Linie; es stehen
            verschiedenen Strichelungsarten zur Auswahl</para>
          </listitem>

          <listitem>
            <para>Strichstärke: die Strichstäkre der Kurve im Diagramm</para>
          </listitem>
        </itemizedlist>

        <para>Werden gleichzeitig mehrere Kurven in der Gliederungsansicht
        selektiert, werden die Eigenschaften für diese Kurven gemeinsam
        verändert.</para>

        <formalpara>
          <title>Filterung</title>

          <para>Das Werkzeug <guilabel>Filter <inlinemediaobject>
              <imageobject>
                <imagedata fileref="img/gui/diagram_filter.png" />
              </imageobject>
            </inlinemediaobject> </guilabel> in der Gliederungsansicht des
          Diagramms erlaubt das schnelle Ausblenden von Kurven gleichen
          Achsentyps. Die Kurven werden in der Gliederungsansicht lediglich
          deaktiviert und können jederzeit wieder sichtbar gemacht
          werden.</para>
        </formalpara>
      </section>
    </section>
  </section>

  <section>
    <title>Zeitreihenbearbeitung</title>

    <indexterm>
      <primary>Zeitreihenbearbeitung</primary>
    </indexterm>

    <para>In der KALYPSO-Oberfläche wird als Zeitreihenformat ausschließlich
    das ZML-Format unterstützt. Andere ausgewählte Textformate können jedoch
    über einen Import-Wizard in das ZML-Format überführt werden.</para>

    <note>
      <para>Die nachfolgend beschriebenen Funktionen zur Bearbeitung von
      Zeitreihen betreffen allein die lokale Datenhaltung. Ein Speichern der
      editierten Zeitreihen evtl. in ein externes Datenbanksystem
      (Zeitreihen-Repository) ist nicht vorgesehen.</para>
    </note>

    <section>
      <title>Importieren von Zeitreihen</title>

      <indexterm>
        <primary>Zeitreihen</primary>

        <secondary>Import</secondary>
      </indexterm>

      <para>Liegt eine externe Zeitreihe im Dateisystem vor, so kann diese im
      Navigator durch die Importfunktion, welche durch das Menü der rechten
      Maustaste bereitgestellt wird, in das ZML-Format konvertiert werden.
      Hierzu ist als Importquelle <guimenuitem>Zeitreihen aus externen
      Dateien</guimenuitem> auszuwählen (siehe <xref
      linkend="GuiZmlImport" />). Die Quellzeitreihe wird mit Speicherort und
      Format festgelegt und dann abhängig vom Format (Datentyp &amp;
      Datenformat) in die Zielzeitreihe (ZML-Zeitreihe) konvertiert.</para>

      <figure id="GuiZmlImport">
        <title id="Zeitreihenimport">Zeitreihenimport</title>

        <mediaobject>
          <imageobject>
            <imagedata align="center" fileref="img/gui/gui-zml_import.png"
                       scale="70" />
          </imageobject>
        </mediaobject>
      </figure>

      <para>Zurzeit werden hierbei folgende Ausgangsformate
      unterstützt:</para>

      <itemizedlist>
        <listitem>
          <para>GRAP-Format</para>

          <para>Datentyp: Niederschlag - N, Abfluss - Q, Temperatur - T,
          Verdunstung - E, Wasserstand - W, Volumen - V</para>

          <para>Datenformat: Wertepaare mit Datum, Uhrzeit (sekundengenau) und
          Wert (durch Punkt getrennt).</para>

          <programlisting>dd MM yyyy HH mm ss Wert1
dd MM yyyy HH mm ss Wert2</programlisting>

          <para>Beispiel:</para>

          <programlisting>01.01.1971 07:30:00 0.100
02.01.1971 07:30:00 0.000
03.01.1971 07:30:00 0.000</programlisting>
        </listitem>

        <listitem>
          <para>CSV-Format</para>

          <para>Datentyp: Niederschlag - N, Abfluss - Q</para>

          <para>Datenformat: Wertepaare mit Datum, Uhrzeit (minutengenau) und
          Wert (durch Komma getrennt).</para>

          <programlisting>dd MM yyyy HH mm Wert1
dd MM yyyy HH mm Wert2</programlisting>

          <para>Beispiel:</para>

          <programlisting>02.06.2002 16:30;0,0010
02.06.2002 17:30;0,0005</programlisting>
        </listitem>

        <listitem>
          <para>DAT-Format</para>

          <para>Datentyp: Abfluss - E</para>

          <para>Datenformat: Wertepaare mit Datum, Uhrzeit (sekundengenau) und
          Wert (durch Komma getrennt).</para>

          <programlisting>dd MM yyyy HH mm ss Wert1
dd MM yyyy HH mm ss Wert2</programlisting>

          <para>Beispiel:</para>

          <programlisting>01.01.1971 07:30:00 0,1
02.01.1971 07:30:00 0
03.01.1971 07:30:00 0</programlisting>
        </listitem>

        <listitem>
          <para>EX2-Format</para>

          <para>Datentyp: Verdunstung - E</para>

          <para>Datenformat: Wertepaare mit Datum, Stunde und Wert (durch
          Punkt getrennt).</para>

          <programlisting>dd MM yyyy HH Wert1
dd MM yyyy HH Wert2</programlisting>

          <para>Beispiel:</para>

          <programlisting>01 01 1971 12 0.127
02 01 1971 12 0.302
03 01 1971 12 0.136</programlisting>
        </listitem>

        <listitem>
          <para>DWD-Format (5-Minuten Daten)</para>

          <para>Datentyp: Niederschlag - N</para>

          <para>Datenformat: Blockdaten mit Kopfsatz</para>

          <para>Vereinbarung: 99998 = kein Niederschlag durch Registrierung
          festgestellt, 99999 = Ausfall</para>

          <programlisting>77 Stationsnummer  jj/mm/tt  gemessene Niederschlagshöhe 7:30 MEZ bis 7:30 MEZ (1/10mm)  Tagessumme Kalendertag (1/1000mm)
16 5-Minutenwerte der Niederschlagshöhe</programlisting>

          <programlisting>77 11479 020403   03   1000
 1000    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0
  300    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0
    0    0    0    0    0    0    0    0    0    0    0    0  100    0    0  100
    0    0    0    0    0    0    0  100    0    0    0  100  100  100    0    0
    0  100    0    0    0    0    0    0    0  100    0    0    0    0    0    0
    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0
    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0
    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0
    0    0  100    0    0    0    0    0    0    0    0    0    0    0    0    0
    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0
    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0
    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0
    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0
    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0
    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0
    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0
    0    0    0    0  100    0    0    0    0    0    0    0    0    0    0    0
    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0</programlisting>
        </listitem>
      </itemizedlist>

      <note>
        <para>Bei der Funktion Zeitreihenimport handelt es sich in erster
        Linie um ein Konvertierungs-Werkzeug, das die Sicht auf beliebige
        Zeitreihen innerhalb von KALYPSO erlaubt. Für einen weiter gehenden
        Import bzw. die tatsächliche Verknüpfung von Zeitreihen mit dem
        hydrologischen / hydraulischen Modell bedarf es jedoch weiterer
        Arbeitsschritte (siehe <xref linkend="ZeitreihenRepository" />
        ).</para>
      </note>
    </section>

    <section id="ZeitreihenBearbeiten">
      <title>Bearbeiten von Zeitreihen (Grafikprogramm)</title>

      <indexterm>
        <primary>Zeitreihen</primary>

        <secondary>Bearbeitung</secondary>
      </indexterm>

      <para>Neben der Darstellung der Zeitreihen in der Diagramm-Ansicht
      beinhaltet die Oberfläche von KALYPSO auch ein Werkzeug zum Bearbeiten
      von Zeitreihen. Das Grafikprogramm bietet vielfältige Möglichkeiten zur
      Visualisierung, Bearbeitung und Auswertung von Zeitreihen. Für
      weitergehende Informationen wird an dieser Stelle auf die Online-Hilfe
      des Grafikprogramms verwiesen.</para>

      <para>Um das Grafikprogramm aus der KALYPSO-Oberfläche zu starten,
      können die zu öffnenden Zeitreihen direkt mit dem Grafikprogramm
      geöffnet oder in einer Diagramm-Vorlage (*.odt) abgespeichert werden.
      Dies kann unter <menuchoice>
          <guimenu>Datei</guimenu>

          <guimenuitem>Speichern unter</guimenuitem>
        </menuchoice> bei aktivierter Diagramm-Ansicht geschehen.
      Diagramm-Vorlagen können in einem beliebigen Ordner im lokalen
      Arbeitsbereich gespeichert werden. Zu beachten ist, dass die Dateiendung
      *.odt beim Speichern mit angegeben werden muss.</para>

      <para>Wird eine Diagramm-Vorlage im Navigator-Fenster markiert,
      erscheint in der Werkzeug-Leiste die Schaltfläche zum Öffnen der Vorlage
      im Grafikprogramm (siehe <xref
      linkend="ButtonGrafikProgramm" />).</para>

      <figure id="ButtonGrafikProgramm">
        <title>Schaltfläche zum Öffnen des Grafikprogramms</title>

        <mediaobject>
          <imageobject>
            <imagedata fileref="img/gui/button-grafik.png" scale="50" />
          </imageobject>
        </mediaobject>
      </figure>

      <para>Durch Klick auf die Schaltfläche öffnet sich das Grafikprogramm
      mit den in der Diagramm-Vorlage abgespeicherten Zeitreihen.</para>
    </section>
  </section>
</chapter>