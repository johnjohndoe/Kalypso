			RELEASE NOTES FOR RMA-10  RESERVOIR VERSION

        THIS VERSION HAS A REDESIGNED TRANSFROMATION DESIGNED TO BETTER TREAT LOW
	VELOCITIES AND GREATER DEPTHS TYPICALLY SEEN IN RESERVOIRS AT PRESENT WETTING AND
	DRYING IS NOT ALWAYS CONVERGENT SO IT IS NOT RECOMMENDED FOR USE WITH THIS
	TYPE OF SYSTEM.  VERSION 2.2D IS COMPARABLE TO 7.2D OF THE STANDARD VERSION

        TO SETUP RMA-10 RUN SETUP.EXE.  THIS WILL INSTALL EXECUTABLE/SOURCE/DOCUMENTS
        IN A SERIES OF DIRECTORIES AND CREATE A SHORTCUT FOR MODEL EXECUTION.  THIS CAN 
	BE MOVED ONTO THE DESKTOP.  THE	MODEL MAY THEN BE EXECUTED BY DROPPING AN R10 
	FILE ONTO THE SHORTCUT.


c       NOTE THAT 3 VERSION OF THE MODELS CAN  BE FORMED FROM THE SOURCE
c       CODE
c       (A)  THE SUPPLIED SOURCE OPERATES WITH INTEL FORTRAN
C       (B)  REPLACING THE 4 ROUTINES *.LAH INTO THE CODE AND REMOVING THE 
C       EQUIVALENT MS ROUTINES AND PAL.F90 WILL PERMIT COMPILATION WUTH
C       LAHEY FORTRAN.  AUTOMAKE.FIG WILL COMPILE THE ROUTINES.
C       (C)  A SIMILAR OPERATION WITH THE UNX ROUTINES WILL PERMIT COMPILATION
C       ON STANDARD UNIX COMPILERS.
C


			Version 3.5d of RMA-10S

•	A series of corrections to the cohesive section of the model have been added
	to refine the process of erosion/deposition so that mass consistency is 
	achieved.  In addition an option (currently only operative for cohesive 
	trasport) has been added that allows output to an ASCII file of the total
	suspended and deposited sediment  (see AMASSOUT in input instructions).
	Correct bugs associated with input from RM1 files and analysis with 1-D 
	elements and the no transform option.




			Version 3.5c of RMA-10S

•	The treatment of erosion for cohesive layers has been modified.  An erosion
	rate may be specified for all layers.  The same erosion rules and rates are 
	then applied as for the bottom layer.  If the erosion rates are set equal to
	zero then the old formulation is applied.  Note that this means that the 
	erosion rate for the bottom layer may then be supplied at two locations. 


			Version 3.5b of RMA-10S

•	Correction to remove error in cohesive erosion.  For the case where the first new layer   
	or part of an old layer is finally eroded the computation of eroded mass can be error.
	In addition a TEST option has been created so that test cases may have a input value 
	of velocities for shear stress computation.
	Rewind output file option added to the C6 line.
	An option has been added that allows direct input of layer thicknesses for cohesive
	sediment.


			Version 3.5a of RMA-10S

•	Revision of structure so that the sand transport option now allows for definition of 
	properties by element property number.  There is some duplication of input variables.  
	These have been left in that format for compatibility with earlier versions.


			Version 3.5 of RMA-10S

•	Addition of a number of options developed by WBM Oceanics for their special application.  
	These are not currently documented.

			Version 3.4b of RMA-10S

•	This minor revision fixes a bug activated when salinity and sand/cohesive 
	sediment are simulated together.

			Version 3.4a of RMA-10S

 	This minor revision adds extra data in the on-off time series file so that 
	the user can taper flows over a period of hours after opening and before 
	closing of gates.

			Version 3.4 of RMA-10S
	                        Sept 2005

 	Revision of cohesive sediment option so that erosion/deposition is only computed at 
	corner nodes and then interpolated using linear functions.  This makes computation 
	of bed elevations consistent with the finite element formulation.

			Version 3.3 of RMA-10S
				August 2005

	Revision of structure so that the cohesive sediment transport option now allows for 
	definition of properties by element property number.  There is some duplication of 
	input variables.  These have been left in that format for compatibility with earlier 
	versions.  In addition to basic properties, initial conditions and old bed structure 
	may be input as element type dependent values.

			Version 3.2 of RMA-10S
				June 2005

	Revision of storage structure so that nearly all files are dynamically allocated.  
	For two-dimensional applications the number of nodes and elements and the number of 
	equations are automatically assigned.  Other variables such as front width, number 
	of points in a hydrograph data file etc., have default values that may be over-ridden 
	in the “limits” section of the input R10 file.
	Additional options have been added to the file output to permit saving of wave data 
	for cohesive sediment simulations in RMA-11 format and to output the results from 
	triangulation of the surface stress data to an RM1 format file. 

			Version 3.1 of RMA-10S
				April 2005

	Addition of two-dimensional control structures compatible with those used in RMA-2
 	An additional option for control structures that allows flows to be calculated from 
	a tabular form expresses in terms of water surface elevation upstream or downstream 
	(using INCSTR file input).  Also see section 4.12 for file format
 	An option that allows for time based switching of flow at weir or tabular form 
	control structures.  This option requires ITIMS file input (also see section 4.13 
	for file format).


			Version 3.0 of RMA-10S
				March 2005      

	Input of cohesive sediment parameters
	Overall calculation of resulting erosion/deposition rates
	Local calculation at Gauss points of net gain/loss of cohesive sediment
	Computation of net bed changes and updating of bed elevation
	Addition of two-dimensional elements that do not use the vertical transformation and addition of a switch that activates this option (see INOTR option on the C1 data line).


			Version 1.0 of RMA-10S

	Routines have been added to RMA-10 to permit: 
	Input of sand parameters
	Overall computation of bed shears
	Overall calculation of sand transport potential
	Overall calculation of resulting erosion/deposition rates
	Local calculation at Gauss points of net gain/loss of sand
	Computation of net bed changes and updating of bed elevation

			REVISION 7.2d
			MARCH 2005


	This revision updates the capabilities of RMA-10 to consistently treat inflows 
	and outflows and single layers.  A number of bugs have been corrected and the 
	options for selection of specification of sal/temp/sed have been updated.  
	The model now operated as follows for boundary conditions of type QC or HC.  
	When a positive concentration is applied this value is applied regardless of 
	the flow direction (into or out from the system).  When a negative 
	concentration is specified the absolute value of the concentration is applied 
	only when flow is into the system.
       
        A second change is that RMA-10 is now capable of reading comma delimited 
	hydrograph tidalgraph and element inflow graphs, however in this case
	the user must define all columns and not leave blanks to be treated as zeros.


			REVISION 7.2c
			SEPTEMBER 2004


	This revision updates the treatment of files in RMA-10.  This version creates 
	a message file based on the input name for the OUTFIL and creates uniquely named 
	optional restart files.  Additional functions have been added for the case when 
	Manning “n” varies with depth. The MAH option applies (on an element by element 
	basis) a function, the MAT option applies interpolation across four table entries.

			REVISION 7.2B 
                       	DECEMBER 2003

	This minor revision implements a change to RMA10 to make the use of the 
	horizontal turbulence options more flexible.  The changes permit different 
	turbulence options for different element types and different parameters for 
	different element types when the Smagorinsky option is selected.  To achieve 
	this, an additional option has been added to the IEDSW parameter on the C0 data 
	line that allows input of element-type-dependent values of IEDSW, TBFACT and 
	TBMIN on a new ED3 data line.  In addition, values of TBFACT and/or TBMIN may 
	be optionally be input on an ED3 line when the IEDSW on the C1 data line 
	selects the Smagorinsky option.
	A bug that occurs when negative concentrations are specified on tidal boundaries
	that caused incorrect vertical distributions for flow boundaries has been
	corrected.
	An option that allows element loads to be treated only as mass loads (for heat/salinity
	/sediment has been added.  For this option see the EFE line of the data input.

			REVISION 7.2A 
                       	AUGUST 2003

	This minor revision implements two changes to RMA10 associated with
	wind stresses.
        The first change causes the model to detect when the location is dry in a
	"marshing" sense and then set the wind and surface stresses to zero.
	The second change modifies the input structure of the 'Met" file to add 
	wind direction and thus allow the model to develop wind surface tractions
        from this file.  Options have been added to the "Met" file to enable this
 	capability as needed and at the same time to disable the heat budget capability
	if the user wants to use the input format of the "Met" file purely for input
	of wind stress related data.

		       REVISION 7.2
                       JUNE 2003

	This version of RMA-10 expands the input capabilities of RMA-10 to 
	allow interpolation of surface tractions from files containing these stresses
	on a different external geometric grid.  These files may be radiation stresses
 	from wave activity or wind stresses or any other external surface traction  
 	Two forms of the files are required; either a file containing the locations of
 	the external tractions, or weighting factors, in ASCII or binary format, for 
	linear interpolation from the separate grid to the finite element nodes.  
	If the external coordinates are input, a DeLaunay triangulation is applied to 
	develop the required weighting factors.  The weighting factor file may also be 
	generated using the separate utility GENT.  The second file may also be binary 
	or ASCII.  It must contain the time series of surface tractions from the external 
	grid.  For further information on the process applied, see section 2.2.12. of the 
	user document.  Sections 4.9, 4.10 and 4.11 of the user document define the file 
	formats.
	A second expansion of capabilities permits RMA-10 to use an input geometry an ASCII 
	file in RM1 format.  However, this option should be used with care to ensure that 
	network reordering has either been undertaken and entered into the appropriate fields,
	the IOP option has been used, or the element numbering has been reset.

		        Revision 7.1a   
			January 2003	

	This version of RMA-10 implements a simplified surface heat budget algorithm.  
	The equilibrium method is used in which the heat flux is computed as a linear 
	function of the difference between surface temperature and an input equilibrium 
	temperature.  Additional data is input through the EQT data line.  More complete 
	details on the algorithms used are given in Appendix D of the user document.

               		REVISION 7.1
                        June 2002

        The version of RMA-10 implements a surface ice heat budget algorithm.  Additional 
        data is entered on two new data lines ICE1 and ICE2 and snow depth data may be 
        added as an additional column in meteorlogic data file.  Input of the ICE1 data
        line automatically implements this option.  A additional binary results file 
        may be used to save water temperature and ice thickness values.  This file is in
        RMA-11 format.  It stores water temperature as constituent 1 and ice thickness (in mm)
        as constituent 2.  More complete details on the algorithms used are given in 
        Appendix C of the user document.

                       REVISION 7.0
                        June 2002

	This revision has been designed to update the usability of RMA-10 to reflect the 
	growing need for more digits in nodal coordinates and to allow for the potential 
	development of over 32,768 equations.  The limit of 32,768 nodes was originally 
	created the use of a number of INTEGER*2 arrays (to save memory space at a time 
	of much smaller computers) for storage of cross-reference information on nodal 
	numbers.  Version 7.0 changes the relevant INTEGER*2 arrays to INTEGER*4 arrays.  
	The coordinate array is now stored in double precision thus permitting up to 
	16 digits in coordinate definition.  
	RMA-10 has been modified to allow input of geometry files either from old format 
	GEO files, from a newly developed format output by version 7.0 of RMAGEN and from 
	"BIN" files generated in by GFGEN as part of SMS.
	Output results files may now be saved in a format compatible with SMS.  "SOL" files 
	contain flow data and "QSL" files are used for temp/sal/sed constituents
 
                       REVISION 6.8M
                        Jan 2002

        This revision has been designed to extend the applicability of RMA10 to cases
        where element inflows/withdrawals occur into 3-D elements that may collapse
        to 2-D using the COL option.  The model now transfers those loads correctly to
        the 2-D element approximation.


                       REVISION 6.8L 
                        NOV 2001

        This update implements a series of changes:
        1	The format of the EL line (element definitions) has been changed to columns of 6
                to allow numbers greater 9999.
        2	The options to specify fixed values of temp/sal/sed for elevation boundaries have
                been expanded to allow the initial condition to be enforced as a fixed value.
	3	The names of the execution directory and geometry file have been added to the 
                header in the OUTBNRMA option.

                      REVISION 6.8K 
                       Oct 2001

        This revision adds more flexibility to the PWR option.  An additional switch allows
        the user to use one of three options for computing the temperature at the inflow point
        to the model:
        0	=	Use the already existing method to compute the temperature increment.
        1	=	Use the values from the inflow hydrograph file as an increment applied
                        to temperature of the outflow.
        2	=	Use the values on the inflow hydrograph file directly as the temperature
                        of the inflow.
        
        For all these cases the salinity and suspended sediment calculations remain the same.


                      REVISION 6.8J
                       Oct 2001

        This revision corrects three occasional errors that can occur in model application.
	1	Continuity line flow checks in 3-D applications where triangles exist in the 
		section may have led to incorrect flow computation.
	2	False convergence that could occur in low flow circumstances where temperature 
		and salinity are active.
	3	Spurious flow generated in 3-D networks where boundaries were very near to
 		parallel with an axis.

c                     REVISION 6.8I
c                         July 2001
c
c	  This revision implements an output option that allows flows across 
c         continuity lines to saved to a file.  The option is activated by
c         entering an OUTCON option in the file names.
c         A bug has been corrected that cuased execution failure when IMAT
c         was set = 0 using EL data lines
C
c                     REVISION 6.8H
c                         July 2001
c
c	  This revision implements a number of changes
c       (1)    The Compaq version of the model can now be executed via
c              a shortcut on the desktop and on completion the DOS window
c              will remain open
c       (2)    A modification to the heat budget routines has been made so
c              that the user may input dew point or wet bulb temeperature.
c              The model has been carefully tested ot ensure that it works
c              with both metric and English unit input of met data and and
c              for metric and English units lengths.
c              NOTE the model only operates in deg C.
c       (3)    The Compaq version of the model has been modified to 
c              recognise the path of the input r10 file and switch directories
c               appropriately.
c
c                     REVISION 6.8g
c                         Apr 2001
c
c	  This revision implements a series of minor corrections and bug fixes
c       that arose from feedback from version 6.8f.  They influence 
c       applications that use element inflows, and COL option.
C       A further correction has been applied to the equation dropouot option to
c       avoid accidental elimiation of depth equations that leads to instability. 
c
c
c                     REVISION 6.8f
c                         Apr 2001
c
c       A series of new options and improvements have been made:
c      (1)	An option to adjust time step based on a reference elevation.  
c             This option is accessed through the "TST" data line.
c      (2)	An option to automatically use as inflows at a continuity line, 
c             outflow salinity/temperatures/sediment concentrations from the
c             model modified to simulate passing through a power station.
c             This option is accessed through the "PWR" data line.
c             This option is limited to metric units only.
c      (3)	As part of the development of the "PWR" option the model now outputs
c             average salinity/temperature/sediment concentrations for continuity lines.
c      (4)	A new equation dropout option designed to reflect convergence history
c             when switching between components.  This option appears on the "CV" data line.
c             This option is experimental and should be used with caution.
c      (5)	A internal reordering processor is now available and may be used to speed solution.
c             This option appears on the "IOP" data line.  
c             This option is experimental and should be used with caution 
c             (please see note on the data line describing the "IOP" option).
c      (6)	A minor bug in the marshing option has been fixed

c                     REVISION 6.8e
c                         Mar 2001
c
c       Implements two additional options for energy losses through friction.
c       Manning coefficients may now vary with depth, see the "MAN" data line
c       in the instructions for details.  Additional drag may now be spread 
c       uniformly over the entire cross-section using "DRG" data lines.
c       Both these data inputs are option and operate for an element type number.
c
c                     REVISION 6.8d
c                         Feb 2001
c
c       Restructure tide gate routines to permit alternative testing
c
c
c                     REVISION 6.8c
c                         Jan 2001
c
c       Revise to add version 6.0 RMAGEN input compatibility
c       This option allows continuiyt lines to stored on geo file
c
c
c                     REVISION 6.8b
c                         Dec 2000
c
c       Add gate structure option.  Revise to ensure water surface 
c       elevation is saved in type RMA files.  Add time step
c       projection option.
c
C
c                     REVISION 6.8a
c                         Aug 2000
c
c       Clean up some minor bugs  
c
C
c                     REVISION 6.8
c                         Dec 1999
C
c       Add switch to allow transition to 2-d when depth below 
c       specified value
c 
c
c                     REVISION 6.7A
c                        Dec 1999
c
C       Clean up a few nuisance input data failures, fig bug in AZER for 
c       marsh elements
c
cc                     REVISION 6.7
c                       April 1999
C
c       Note that version number 6.6 was skipped
c       This version adds the off channel sloped conditions of 1-D elements
c       in RMA-2.  Input geo files are made compatible.
c 
c                     REVISION 6.5
c                       March 1998
c 
c       Add logic for direct solar input.
c       Fix initialisation error in routine marsh and formatting of
c       input
c
c
c                     REVISION 6.4
c                      January 1998
c 
c
c       Modifies the code to permit marsh porosity for 2-d elements
c
c
c
c                     REVISION 6.3(d)
c                     November 1997
c 
c       Modifies the treatment of internal sources for all element
c       types.  Note that as an unavoidable consequence the locations
c       of input for EFA and EFE data lines have been changed.  
c       Functionality of subroutine SBGEN has changed and two new 
c       routines ELFLOWS and LNFL:O have been added.
c
C                     REVISION 6.3(c) 
C                     June 1997
c
c       Extends this option to all binary files.
c
c                     REVISION 6.3(b)
C                     April 1997
c
C       Modifies the input structure to allow pure binary files 
C       for geometry and results files.
C
C                     REVISION 6.3(a)
C                     January 1997
C
C       Includes the Smagorinsky closure as an option for both 2-D 
c       and 3-D elements.  The model now allows equations to be 
c       dropped out of the solution when they pass a more rigid 
c       criteria than the standard convergence test.  The model 
c       accepts a factor times the original convergence tolerance.
C
C-                    REVISION 6.3
C                     NOVEMBER 1996
C
C       Contains a series of modifications designed to bring RMA-10 in
C       line with RMA-11 and RMA-2.  Files are now year, day, hour
C       stamped.  New options have been added to organize horizontal 
C       turbulence algorithms.

C-
C-                     REVISION 6.2
C-                      MAY 1996
C-
C-       This version revises the structure and from of input files
C-
C-
C-                     REVISION 6.1
C-                      FEB 1996
C-
C-       This version add a heat budget computation
C-
C-
C-                     REVISION 6.0
C-                      JULY 1995
C-
C-       This version has a totally revised input structure
C-
C-
C-                     REVISION 5.0
C-                      FEB 1994
C-
C-       This version has a number of changes aimed to make input of data
C-       both easier and consistent with RMA-2
C-
C-
C-                     REVISION 4.4
C-                      MAY 1993
C-
C-       This version has a series of changes to the coefficient routine
C-       to correct integration of the eddy turbulence and diffusion terms
C-       and to change roin to correctly compute surface density gradients.
C-
C-
C-                     REVISION 4.3
C-                      MAY 1992
C-
C-       This version contains has a number of changes:
C-       (1) A series of internal changes designed to better simulate
C-           horizontally stratified systems.
C-       (2) A modification to input stream defining layers so that as
C-           an alternative to defining layers by proportions, it is 
C-           possible to give absolute elevations.  These elevations must be
C-           entered in the transformed vertical coordinate system.
C-       (3) Implementation of alternate schemes for computation of the eddy
C-           coefficient and the diffusion coefficient.  The additional 
C-           options are based on the method proposed by Mellor and Yamada.
C-           The references for the methods are given in routines mellii and
C-           nellii.  The input stream has been altered to input a switch
C-           values from the keyboard or command file.
C-       (4) Options have been created to ensure that salinity, temperature
C-           and suspended sediment are treated as passive constituents that
C-           do not couple to the density terms.  When these options are used
C-           a conservative routing model appears that can be executed using
C-           velocities from a previous run.
C-       (5) An option has been created that permits the user to specify zero
C-           velocity at the bottom for three-dimensional nodes.
C-
C-
C-                    REVISION 4.2
C-                      MAY 1991
C-
C-      This version contains multiple constituents, options
C-      for using fixed values and linear basis functions for salinity,
C-      alternate format for 2-d geometric input.
C-
C-                    REVISION 4.1a
C-                      JULY 1989
C-