<project default="fake">

	<property name="modell.template.dir" value="${project.dir}/.templates/Modell" />


	<!-- - - - - - - - - - - - - - - - - - 
          target: fake                      nur damit das Projekt nicht schreit
         - - - - - - - - - - - - - - - - - -->
	<target name="fake" />

	<!-- ================================= 
          target: create              
         ================================= -->
	<target name="create" description="Erzeugt eine Rechenvariante">
		<!-- TODO -->
		<echo message="Rechenvariante anlegen: ${calc.dir}" />

		<echo message="Verzeichnisse werden erstellt" />
		<mkdir dir="${calc.dir}/Durchfluß" />
		<mkdir dir="${calc.dir}/Niederschlag" />
		<mkdir dir="${calc.dir}/Schnee" />
		<mkdir dir="${calc.dir}/Speicherinhalt" />
		<mkdir dir="${calc.dir}/Temperatur" />

		<echo message="Grunddaten und Vorlagen werden kopiert" />
		<copy todir="${calc.dir}">
			<fileset dir="${modell.template.dir}">
				<include name="modell.gml" />
				<include name="**/*.gmt" />
			</fileset>
		</copy>
	</target>

	<target name="update" description="Aktualisiert eine Rechenvariante">
		<!-- TODO -->
		<echo message="Rechenvariante aktualisieren: ${calc.dir}" />

		<echo message="Zeitreihen werden von WISKI geladen" />

		<echo message="Projekt: ${project.url}"/>
		<echo message="Rechenvariante: ${calc.url}"/>
		
		<copyObservation gml="${project.url}/.templates/Modell/wiskiimport_durchfluß.gml" featurePath="Wiski" context="${calc.url}" targetObservation="lokal">
<!--			<source property="wiski_vergangenheit" from="${startsim}" to="${stopsim}" /> -->
			<source property="wiski_vergangenheit"/>
		</copyObservation>

	<!--		ALT
		<transformation className="org.kalypso.util.transformation.ObservationResolver">
			<argument name="gml" value=":calcdir:wiskiimport_gesamt.gml"/>
			<argument name="feature" value="Wiski"/>
			<argument name="sourceObservation1" value="wiski_vergangenheit"/>
			<argument name="rangeMode1" value="start-stop"/>
			<argument name="targetObservation" value="lokal"/>
			<argument name="targetFolder" value=":calcdir:"/>
			<argument name="startsim" value=":startsim:"/>
			<argument name="startforecast" value=":startforecast:"/>
			<argument name="endsim" value=":endsim:"/>
		</transformation>
	-->

	</target>
</project>