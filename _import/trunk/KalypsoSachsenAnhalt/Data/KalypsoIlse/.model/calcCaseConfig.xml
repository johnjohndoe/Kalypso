<?xml version="1.0" encoding="UTF-8"?>
<calcCaseConfig xmlns="xml.model.kalypso.org" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="xml.model.kalypso.org calcCaseConfig.xsd">
	<!-- Rechenfall anlegen, ohne Zeitreihen -->
	<createTransformations logFile="createCalcCase.log">
		<!-- modell.gml, Info_Rechenvariant,gft (= view auf .calculation) -->
		<transformation className="org.kalypso.util.transformation.CopyTransformation">
			<argument name="input" value=":project:.templates/Modell/modell.gml"/>
			<argument name="output" value=":calcdir:modell.gml"/>
		</transformation>
		<transformation className="org.kalypso.util.transformation.CopyTransformation">
			<argument name="input" value=":project:.templates/Modell/Info_Rechenvariante.gft"/>
			<argument name="output" value=":calcdir:Info_Rechenvariante.gft"/>
		</transformation>
		<transformation className="org.kalypso.util.transformation.CopyTransformation">
			<argument name="input" value=":project:.templates/Modell/wiskiimport_messung.gml"/>
			<argument name="output" value=":calcdir:wiskiimport_messung.gml"/>
		</transformation>
		<transformation className="org.kalypso.util.transformation.CopyTransformation">
			<argument name="input" value=":project:.templates/Modell/wiskiimport_gesamt.gml"/>
			<argument name="output" value=":calcdir:wiskiimport_gesamt.gml"/>
		</transformation>
		<transformation className="org.kalypso.util.transformation.CopyTransformation">
			<argument name="input" value=":project:.templates/Modell/wiskiimport_prognose.gml"/>
			<argument name="output" value=":calcdir:wiskiimport_prognose.gml"/>
		</transformation>

		<!-- Kartenansichten  -->
		<transformation className="org.kalypso.util.transformation.CopyOrMoveDirTransformation">
			<argument name="input" value=":project:.templates/Modell/Karten/"/>
			<argument name="output" value=":calcdir:/Karten"/>
		</transformation>

		<!-- Parameteransichten -->
		<transformation className="org.kalypso.util.transformation.CopyOrMoveDirTransformation">
			<argument name="input" value=":project:.templates/Modell/Parameter/"/>
			<argument name="output" value=":calcdir:/Parameter"/>
		</transformation>
		
	</createTransformations>

	
	<!-- Zeitreihen laden (hier Fake als Kopie) -->
<!--
	<updateTransformations logFile="updateCalcCase.log">
		<transformation className="org.kalypso.util.transformation.CopyOrMoveDirTransformation">
			<argument name="input" value=":project:.templates/Modell/Zeitreihen"/>
			<argument name="output" value=":calcdir:/Zeitreihen"/>
		</transformation>
	</updateTransformations>
-->
	<!-- Zeitreihen laden  -->
	<updateTransformations logFile="updateCalcCase.log">
		<transformation className="org.kalypso.util.transformation.ObservationResolver">
			<argument name="gml" value=":calcdir:wiskiimport_gesamt.gml"/>
			<argument name="feature" value="Wiski"/>
			<argument name="sourceObservation1" value="wiski_vergangenheit"/>
			<argument name="rangeMode1" value="start-stop"/>
			<argument name="targetObservation" value="lokal"/>
			<argument name="targetFolder" value=":calcdir:"/>
			<argument name="startsim" value=":startsim:"/>
			<argument name="startforecast" value=":startforecast:"/>
			<argument name="endsim" value=":endsim:"/>
		</transformation>

		<transformation className="org.kalypso.util.transformation.ObservationResolver">
			<argument name="gml" value=":calcdir:wiskiimport_messung.gml"/>
			<argument name="feature" value="Wiski"/>
			<argument name="sourceObservation1" value="wiski_vergangenheit"/>
			<argument name="rangeMode1" value="start-middle"/>
			<argument name="targetObservation" value="lokal"/>
			<argument name="targetFolder" value=":calcdir:"/>
			<argument name="startsim" value=":startsim:"/>
			<argument name="startforecast" value=":startforecast:"/>
			<argument name="endsim" value=":endsim:"/>
		</transformation>
		
        <!-- Pseudo-Import, um leere ZML für die Abgabe an der Überleitung zu generieren -->
		<transformation className="org.kalypso.util.transformation.ObservationResolver">
			<argument name="gml" value=":calcdir:wiskiimport_prognose.gml"/>
			<argument name="feature" value="Wiski"/>
			<argument name="sourceObservation1" value="wiski_vergangenheit"/>
			<argument name="rangeMode1" value="middle-stop"/>
			<argument name="targetObservation" value="lokal"/>
			<argument name="targetFolder" value=":calcdir:"/>
			<argument name="startsim" value=":startsim:"/>
			<argument name="startforecast" value=":startforecast:"/>
			<argument name="endsim" value=":endsim:"/>
		</transformation>
	</updateTransformations>
	<!-- -->
	<afterCalcTransformations logFile="calcCase.log">
<!--	
		<transformation className="org.kalypso.util.transformation.CopyTransformation">
			<argument name="input" value=":calcdir:Ergebnisse/calcCase.gml"/>
			<argument name="output" value=":calcdir:calcCase.gml"/>
		</transformation>
-->
	</afterCalcTransformations>
</calcCaseConfig>