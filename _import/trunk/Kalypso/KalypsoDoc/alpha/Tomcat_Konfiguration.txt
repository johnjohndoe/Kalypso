Tomcat Konfiguration auf dem Kalypso Server

1. Java SDK installieren

z.B. unterhalb eines KalypsoServer-Verzeichnis


2. Tomcat 5.0.28 installieren (Install-Programm benutzen)

Beispiel Programmpfad:
C:\programme\KalypsoServer\Tomcat5.0


3. Abhängigkeiten

Die libs (*.jar) aus dem KalypsoCoreServices Projekt in $CATALINA_HOME/common/lib kopieren.


4. Security

FilePermission: Wenn die Services auf das Dateisystem zugreifen (ausserhalb deren eigene
	Dokument Root), muss es eine entsprechende Berechtigung geben.
	Dazu die file catalina.policy in %CATALINA_HOME%\conf editieren
	
Beispiel --------------------------------------------------------------------

// ACHTUNG: diese Stelle ist Platformabhängig, da hier der echte FileSeparator ('\') übergeben werden muss
grant {
	permission java.io.FilePermission "\\\\Pc242\\KalypsoServer\\data\\-", "read";
};

-----------------------------------------------------------------------------


5. Tomcat Startup

Tomcat mit -security starten, damit die Einstellungen die hier unter Punkt 4. Security
beschrieben worden sind berücksichtigt werden.

Beispiel:

catalina start -security

6. Konfiguration der Services

Die Kalypso Services benötigen verschiedene gesetzte System-Properties (Pfade auf die Datenverzeichnisse)
-> siehe configuration_server.txt

Zusätzlich muss in der catalina.policy den entsrpechenden Services Zugriff auf genau diese Pfade und Properties gewährt werden.

Das setzen der System-Properties geschieht zur Zeit über eine spezielle kalypso_server_start.bat

Wichtig: die Pfadangabe für die System-Properties wie kalypso.server.tempdir muss aus Client
Sicht auch reichbar sein. D.h. man muss den freigegebene Pfad benutzen. Beispiel:
kalypso.server.tempdir=\\Pc242\KalypsoServer
Wenn dies nicht der Fall ist, können die Dateipfade die vom Server zurück gegeben werden 
nicht vom Client gelöst werden.
