<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.0"?>
<plugin>
   <extension-point id="mapEditStrategy" name="Map Edit Strategy" schema="schema/mapEditSpecification.exsd"/>
   <extension-point id="mapEditStrategySet" name="Map edit Strategy Set" schema="schema/mapEditSpecificationSet.exsd"/>
     <extension
           point="org.kalypso.simulation.core.simulation">
        <simulation
              catalogClass="org.kalypso.kalypsomodel1d2d.schema.UrlCatalog1D2D"
              simulationClass="org.kalypso.kalypsomodel1d2d.sim.SimMode1D2DCalcJob"
              typeID="KalypsoModel1D2D"/>
     </extension>
     <extension
           point="org.kalypso.contribs.java.urlCatalog">
        <catalog
              class="org.kalypso.kalypsomodel1d2d.schema.UrlCatalog1D2D"
              id="org.kalypso.kalypsomodel1d2d.schema.UrlCatalog1D2D"/>
     </extension>
     <extension
           point="org.kalypso.core.catalogContribution">
        <catalogContribution
              class="org.kalypso.kalypsomodel1d2d.ui.catalog.Model1d2dCatalogContribution"
              name="Model1d2dCatalogContribution"/>
     </extension>
     <extension
           point="org.kalypso.deegree.functionProperty">
        <function
              class="org.kalypso.kalypsomodel1d2d.schema.functions.FE1D2DEdgeTypeGeometryFunction"
              id="org.kalypso.kalypsomodel1d2d.schema.functions.FE1D2DEdgeTypeGeometry"
              name="FE1D2DEdgeTypeGeometry"/>
        <function
              class="org.kalypso.kalypsomodel1d2d.schema.functions.FE1D2D_2DElementTypeGeometry"
              id="org.kalypso.kalypsomodel1d2d.schema.functions.FE1D2D_2DElementTypeGeometry"
              name="FE1D2D_2DElementTypeGeometry"/>
     </extension>     
     <extension
           id="editorActions"
           name="editorActions"
           point="org.eclipse.ui.editorActions">
              <editorContribution
                    id="org.kalypso.kalypsomodel1d2d.mapeditorContributions"
                    targetID="org.kalypso.ui.editor.mapeditor.GisMapEditor">
  			<action
	           icon="icons/elcl16/edit1d2d.gif"
	           id="org.kalypso.kalypsomodel1d2d.ui.map.CreateFEElementDelegate"               
	           label="FE-Element hinzufügen"
	           style="radio"
	           toolbarPath="karte/edit"
	           tooltip="Ein neues FE-Element erzeugen">
	           		<class class="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommandActionDelegate">
	          			<parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.widget" 
	                     	value="org.kalypso.kalypsomodel1d2d.ui.map.CreateFE2DElementWidget"/>
                     	<parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.plugin" 
	                     	value="org.kalypso.model1d2d"/>
	                    <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.context" 
	                     	value="Element2D"/>
	       			</class>
			</action>
			
			
         <action               
               id="org.kalypso.kalypsomodel1d2d.ui.map.CreateFEContlineDelegate"
               label="Kontinuitätslinie definieren"
               style="radio"
               toolbarPath="karte/edit"
               tooltip="Eine neue Kontinuitätslinie definieren">
               		<class class="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommandActionDelegate">
	          			<parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.widget" 
	                     	value="org.kalypso.kalypsomodel1d2d.ui.map.CreateFEContlineWidget"/>
 	                  	<parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.plugin" 
	                     	value="org.kalypso.model1d2d"/>
	                    <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.context" 
	                     	value="ContinuityLine"/>
	       			</class>
         </action>
         <!--action
               	class="xp.ActivateModelMapEditProtocolViewDelegate"
               	id="xp.ActivateModelMapEditProtocolViewDelegate"
               	label="1d 2d zeichen element activieren"
               	style="radio"
               	toolbarPath="karte/edit"
				icon="icons/elcl16/1d2d_edit_protocol_view.gif"
               	tooltip="1d 2d zeichen element activieren"/-->
        <action
               	id="xp.CreateGridDelegate"
               	label="FE-Elementgitter erzeugen"
               	style="radio"
               	toolbarPath="karte/edit"
				icon="icons/elcl16/1d2d_edit_protocol_view.gif"
               	tooltip="Ein FE-Elementgitter innerhalb von vier Punkten erzeugen">
	               	<class class="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommandActionDelegate">
	          			<parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.widget" 
	                     	value="org.kalypso.kalypsomodel1d2d.ui.map.grid.CreateGridWidget"/>
                     	<parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.plugin" 
	                     	value="org.kalypso.model1d2d"/>
                     	<parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.context" 
	                     	value="Element2D"/>
	       			</class>
       	</action>            
       	
     	
       	
        <action
              class="org.kalypso.kalypsomodel1d2d.ui.map.grid.CreateGridActionDelegate"
              id="org.kalypso.kalypsomodel1d2d.ui.map.grid.createGrid"
              label="Grid"
              menubarPath="org.kalypso.ui.editors.mapeditor.menu/tools"
              style="radio"
              toolbarPath="karte/tools"
              tooltip="Grid draw tool"/>
        <action
              class="org.kalypso.kalypsomodel1d2d.ui.map.cline.CreateFECLineActionDelegate"
              id="org.kalypso.kalypsomodel1d2d.ui.map.grid.createGrid"
              label="CLine"
              menubarPath="org.kalypso.ui.editors.mapeditor.menu/tools"
              style="radio"
              toolbarPath="karte/tools"
              tooltip="Root a Continuity Line"/>
        <action
              class="org.kalypso.kalypsomodel1d2d.ui.map.element1d.CreateFE1DElementActionDelegate"
              id="org.kalypso.kalypsomodel1d2d.ui.map.create1dele.CreateFEElement1DWidget"
              label="1DCreate"
              menubarPath="org.kalypso.ui.editors.mapeditor.menu/tools"
              style="radio"
              toolbarPath="karte/tools"
              tooltip="Create 1D Element"/>
              
        <action
              class="org.kalypso.kalypsomodel1d2d.ui.map.del.TestDeleteFEElementActionDelegate"
              id="org.kalypso.kalypsomodel1d2d.ui.map.grid.createGrid"
              label="FEDel"
              menubarPath="org.kalypso.ui.editors.mapeditor.menu/tools"
              style="radio"
              toolbarPath="karte/tools"
              tooltip="Delete  FE Element"/>
        <action
              class="org.kalypso.kalypsomodel1d2d.ui.map.junction1d2d.CreateJunctionFromClAndElement1DActionDelegate"
              id="org.kalypso.kalypsomodel1d2d.ui.map.junction1d2d.CreateJunctionFromClAndElement1DActionDelegate"
              label="Junc1d2d"
              menubarPath="org.kalypso.ui.editors.mapeditor.menu/tools"
              style="radio"
              toolbarPath="karte/tools"
              tooltip="Create a junction element"/>
  		
  		<action
              class="org.kalypso.kalypsomodel1d2d.ui.map.junction1d2d.CreateJunctionFromSelectedEdgesActionDelegate"
              id="org.kalypso.kalypsomodel1d2d.ui.map.junction1d2d.CreateJunctionFromSelectedEdgesActionDelegate"
              label="JuncEdge2"
              menubarPath="org.kalypso.ui.editors.mapeditor.menu/tools"
              style="radio"
              toolbarPath="karte/tools"
              tooltip="Create a junction element from selected edge"/>
  		
          <action
               	id="org.kalypso.kalypsomodel1d2d.ui.map.channeledit.CreateMainChannelActionDelegate"
               	label="Flussschlauch"
               	style="radio"
               	toolbarPath="karte/edit"
				icon="icons/elcl16/1d2d_edit_protocol_view.gif"
               	tooltip="Flussschlauch anhand von Profilen generieren">
	               	<class class="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommandActionDelegate">
	          			<parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.widget" 
	                     	value="org.kalypso.kalypsomodel1d2d.ui.map.channeledit.CreateMainChannelWidget"/>
                     	<parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.plugin" 
	                     	value="org.kalypso.model1d2d"/>
                     	<parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.context" 
	                     	value="Element2D"/>
	       			</class>
       	</action>    
              
        <action
              class="org.kalypso.kalypsomodel1d2d.ui.map.channeledit.CreateMainChannelActionDelegate"
              id="KalypsoModel1D2D.action1"
              label="Flussschlauch"
              menubarPath="org.kalypso.ui.editors.mapeditor.menu/tools"
              style="radio"
              toolbarPath="karte/tools"
              tooltip="Flussschlauch anhand von Profilen generieren"/>
              </editorContribution>
     </extension>
     
     <extension
         id="org.kalypso.core.adapters"
         name="Kalypso Model 1D 2D Adapter Factory"
         point="org.eclipse.core.runtime.adapters">
      <factory
            adaptableType="org.kalypsodeegree.model.feature.Feature"
            class="org.kalypso.kalypsomodel1d2d.schema.binding.KalypsoModel1D2DFeatureFactory">
         <adapter type="org.kalypso.kalypsomodel1d2d.schema.binding.IFE1D2DNode"/>
         <adapter type="org.kalypso.kalypsomodel1d2d.schema.binding.IFE1D2DEdge"/>
         <adapter type="org.kalypso.kalypsomodel1d2d.schema.binding.IEdgeInv"/>
         <adapter type="org.kalypso.kalypsomodel1d2d.schema.binding.IFE1D2DElement"/>
         <adapter type="org.kalypso.kalypsomodel1d2d.schema.binding.IElement1D"/>
         <adapter type="org.kalypso.kalypsomodel1d2d.schema.binding.IFE1D2DContinuityLine"/>
         <adapter type="org.kalypso.kalypsomodel1d2d.schema.binding.IFE1D2DComplexElement"/>
         <adapter type="org.kalypso.kalypsomodel1d2d.schema.binding.IRiverChannel1D"/>
         <adapter type="org.kalypso.kalypsomodel1d2d.schema.binding.IFEDiscretisationModel1d2d"/>
         <adapter type="org.kalypso.kalypsomodel1d2d.schema.binding.IFEEdgeToEdgeJunction1D2D"/>
         <adapter type="org.kalypso.kalypsomodel1d2d.schema.binding.IFEEdgeToCLineJunction1D2D"/>
         <adapter type="org.kalypsodeegree.graphics.displayelements.DisplayElementDecorator"/>
      </factory>
   </extension>
     <!--extension
         name="Workflow Views"
         point="org.eclipse.ui.views">
	      <view
	            allowMultiple="false"
	            class="xp.ModelMapEditStrategyView"
	            id="xp.ModelMapEditProtocolView"
	            name="Model Map Edit Protocol View "/>
	  </extension-->
     <extension
           point="org.kalypso.model1d2d.mapEditStrategy">
     </extension>
     <extension
           point="org.kalypso.deegree.gmlWorkspaceListener">
        <listener
              class="org.kalypso.kalypsomodel1d2d.update.GeometryToStructUpdater"
              id="xp.geom_to_struct.geometryToStructUpdater"
              name="xp.geom_to_struct.geometryToStructUpdater"/>
     </extension>
     <extension
           point="org.eclipse.ui.viewActions">
        <viewContribution
              id="org.kalypso.ui.views.mapView.widgets1d2d"
              targetID="org.kalypso.ui.views.mapView">
         	<action
	           icon="icons/elcl16/edit1d2d.gif"
	           id="org.kalypso.kalypsomodel1d2d.ui.map.CreateFE2DElementDelegate"               
	           label="FE-Element hinzufügen"
	           style="radio"
	           toolbarPath="karte/edit"
	           tooltip="Ein neues FE-Element erzeugen">
	           		<class class="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommandActionDelegate">
	          			<parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.widget" 
	                     	value="org.kalypso.kalypsomodel1d2d.ui.map.CreateFE2DElementWidget"/>
                     	<parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.plugin" 
	                     	value="org.kalypso.model1d2d"/>
	                    <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.context" 
	                     	value="Element2D"/>
	       			</class>
			</action>
			
			<action
	           icon="icons/elcl16/cut.png"
	           id="org.kalypso.kalypsomodel1d2d.ui.map.DeleteFE2DElement"               
	           label="Del FE 2D"
	           style="radio"
	           toolbarPath="karte/edit"
	           tooltip="FE-Element markieren und entfernen">
	           		<class class="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommandActionDelegate">
	          			<parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.widget" 
	                     	value="org.kalypso.kalypsomodel1d2d.ui.map.del.DeleteFEElementsWidget"/>
                     	<parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.plugin" 
	                     	value="org.kalypso.model1d2d"/>
	                    <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.context" 
	                     	value="Element2D"/>
	       			</class>
			</action>
			
         	<action
                icon="icons/elcl16/edit1d2d.gif"
                id="org.kalypso.kalypsomodel1d2d.ui.map.CreateFEContlineDelegate"
                label="Kontinuitätslinie definieren"
                style="radio"
                toolbarPath="karte/edit"
                tooltip="Eine neue Kontinuitätslinie definieren">
               		<class class="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommandActionDelegate">
	          			<parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.widget" 
	                     	value="org.kalypso.kalypsomodel1d2d.ui.map.CreateFEContlineWidget"/>
 	                  	<parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.plugin" 
	                     	value="org.kalypso.model1d2d"/>
	                    <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.context" 
	                     	value="ContinuityLine"/>
	       			</class>
         	</action>
          <action
                icon="icons/elcl16/edit1d2d.gif"
                id="org.kalypso.kalypsomodel1d2d.ui.map.CreateFE1DElementDelegate"
                label="FE-Element hinzufügen"
                style="radio"
                toolbarPath="karte/edit"
                tooltip="Ein neues FE-Element erzeugen">
	           		<class class="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommandActionDelegate">
	          			<parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.widget" 
	                     	value="org.kalypso.kalypsomodel1d2d.ui.map.element1d.CreateFEElement1DWidget"/>
                     	<parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.plugin" 
	                     	value="org.kalypso.model1d2d"/>
	                    <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.context" 
	                     	value="Element1D"/>
	       			</class>
			</action>    
			<action
	           icon="icons/elcl16/cut.png"
	           id="org.kalypso.kalypsomodel1d2d.ui.map.DeleteFE1DElement"               
	           label="Del FE 1D"
	           style="radio"
	           toolbarPath="karte/edit"
	           tooltip="FE-Element markieren und entfernen">
	           		<class class="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommandActionDelegate">
	          			<parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.widget" 
	                     	value="org.kalypso.kalypsomodel1d2d.ui.map.del.DeleteFEElementsWidget"/>
                     	<parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.plugin" 
	                     	value="org.kalypso.model1d2d"/>
	                    <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.context" 
	                     	value="Element1D"/>
	       			</class>
			</action>
          <action
                icon="icons/elcl16/edit1d2d.gif"
                id="org.kalypso.kalypsomodel1d2d.ui.map.element1d.CreateTeschkeFlowrelationWidgetAction"
                label="Teschke Parameter hinzufügen"
                style="radio"
                toolbarPath="karte/edit"
                tooltip="Teschke Parameter einem FE-Knoten zuordnen">
	           		<class class="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommandActionDelegate">
	          			<parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.widget" 
	                     	value="org.kalypso.kalypsomodel1d2d.ui.map.element1d.CreateTeschkeFlowrelationWidget"/>
                     	<parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.plugin" 
	                     	value="org.kalypso.model1d2d"/>
	                    <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.context" 
	                     	value="Parameters1D"/>
	       			</class>
			</action>    
          <action
                icon="icons/elcl16/edit1d2d.gif"
                id="org.kalypso.kalypsomodel1d2d.ui.map.element1d.CreateKingFlowrelationWidgetAction"
                label="King Parameter hinzufügen"
                style="radio"
                toolbarPath="karte/edit"
                tooltip="King Parameter einem FE-Knoten zuordnen">
	           		<class class="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommandActionDelegate">
	          			<parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.widget" 
	                     	value="org.kalypso.kalypsomodel1d2d.ui.map.element1d.CreateKingFlowrelationWidget"/>
                     	<parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.plugin" 
	                     	value="org.kalypso.model1d2d"/>
	                    <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.context" 
	                     	value="Parameters1D"/>
	       			</class>
			</action>    
          <action
                icon="icons/elcl16/edit1d2d.gif"
                id="org.kalypso.kalypsomodel1d2d.ui.map.element1d.EditFlowrelationWidget"
                label="Parameter bearbeiten"
                style="radio"
                toolbarPath="karte/edit"
                tooltip="Zugeordnete Parameter eines FE-Knoten bearbeiten">
	           		<class class="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommandActionDelegate">
	          			<parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.widget" 
	                     	value="org.kalypso.kalypsomodel1d2d.ui.map.element1d.EditFlowrelationWidget"/>
                     	<parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.plugin" 
	                     	value="org.kalypso.model1d2d"/>
	                    <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.context" 
	                     	value="Parameters1D"/>
	       			</class>
			</action>    
			<action
	           icon="icons/elcl16/cut.png"
	           id="org.kalypso.kalypsomodel1d2d.ui.map.element1d.DeleteFlowrelationWidgetAction"               
	           label="Parameter löschen"
	           style="radio"
	           toolbarPath="karte/edit"
	           tooltip="einem FE-Koten zugeordnete Parameter löschen">
	           		<class class="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommandActionDelegate">
	          			<parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.widget" 
	                     	value="org.kalypso.kalypsomodel1d2d.ui.map.element1d.DeleteFlowrelationWidget"/>
                     	<parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.plugin" 
	                     	value="org.kalypso.model1d2d"/>
	                    <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.context" 
	                     	value="Parameters1D"/>
	       			</class>
			</action>
        </viewContribution>
     </extension>
     <extension
           point="org.eclipse.ui.newWizards">
        <wizard
              class="org.kalypso.wizards.import1d2d.ImportWizard"
              icon="icons/elcl16/1d2d_edit_protocol_view.gif"
              id="org.kalypso.wizards.import1d2d.ImportWizard"
              name="Import 1D2D"
              project="false"/>
     </extension>
     <extension
           point="org.kalypso.core.catalogContribution">
        <catalogContribution
              class="org.kalypso.kalypsomodel1d2d.schema.KalypsoModel1D2DCatalogContribution"
              name="org.kalypso.kalypsomodel1d2d.schema.KalypsoModel1D2DCatalogContribution"/>
     </extension>
</plugin>
