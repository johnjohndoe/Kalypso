<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.0"?>
<plugin>
     <extension
           point="org.kalypso.simulation.core.simulation">
        <simulation
              catalogClass="org.kalypso.kalypsomodel1d2d.schema.UrlCatalog1D2D"
              simulationClass="org.kalypso.kalypsomodel1d2d.sim.SimMode1D2DCalcJob"
              typeID="KalypsoModel1D2D"/>
     </extension>
     <extension
           point="org.kalypso.simulation.core.simulation">
        <simulation
              catalogClass="org.kalypso.kalypsomodel1d2d.schema.UrlCatalog1D2D"
              simulationClass="org.kalypso.kalypsomodel1d2d.sim.CalculationUnitSimMode1D2DCalcJob"
              typeID="CalculationUnitKalypsoModel1D2D"/>
     </extension>
     <extension
           point="org.kalypso.contribs.java.urlCatalog">
        <catalog
              class="org.kalypso.kalypsomodel1d2d.schema.UrlCatalog1D2D"
              id="org.kalypso.kalypsomodel1d2d.schema.UrlCatalog1D2D"/>
     </extension>
     <extension
           point="org.kalypso.deegree.functionProperty">
        <function
              class="org.kalypso.kalypsomodel1d2d.schema.functions.FE1D2DEdgeTypeGeometryFunction"
              id="org.kalypso.kalypsomodel1d2d.schema.functions.FE1D2DEdgeTypeGeometry"
              name="FE1D2DEdgeTypeGeometry"/>
        <function
              class="org.kalypso.kalypsomodel1d2d.schema.functions.FE1D2D_2DElementTypeGeometry"
              id="org.kalypso.kalypsomodel1d2d.schema.functions.FE1D2D_2DElementTypeGeometry"
              name="FE1D2D_2DElementTypeGeometry"/>
        <function
              class="org.kalypso.kalypsomodel1d2d.schema.functions.NodeElevationAvailabilityInfoFunction"
              id="org.kalypso.kalypsomodel1d2d.schema.functions.NodeElevationAvailabilityInfoFunction"
              name="NodeElevationAvailabilityInfoFunction"/>
        <function
              class="org.kalypso.kalypsomodel1d2d.schema.functions.Element1DTypeGeometry"
              id="org.kalypso.kalypsomodel1d2d.schema.functions.Element1DTypeGeometry"
              name="Element1DTypeGeometry"/>
         <function
              class="org.kalypso.kalypsomodel1d2d.schema.functions.Element1DJunctionNatureTest"
              id="org.kalypso.kalypsomodel1d2d.schema.functions.Element1DJunctionNatureTest"
              name="Element1DJunctionNatureTest"/>
         <function
              class="org.kalypso.kalypsomodel1d2d.schema.functions.JunctionContextGeometry"
              id="org.kalypso.kalypsomodel1d2d.schema.functions.JunctionContextGeometry"
              name="JunctionContextGeometry"/>

         <!--function
              class="org.kalypso.kalypsomodel1d2d.schema.functions.ModelFiniteElements"
              id="org.kalypso.kalypsomodel1d2d.schema.functions.ModelFiniteElements"
              name="ModelFiniteElment"/ -->
         <function
              class="org.kalypso.kalypsomodel1d2d.schema.functions.ElementRoughnessStyleFunc"
              id="org.kalypso.kalypsomodel1d2d.schema.functions.ElementRoughnessStyleFunc"
              name="ElementRoughnessStyleFunc"/>
         <function
               class="org.kalypso.kalypsomodel1d2d.schema.functions.NodeResultVelocityFunction"
               id="org.kalypso.kalypsomodel1d2d.schema.functions.NodeResultVelocityFunction"
               name="NodeResultVelocityFunction"/>
         <function
               class="org.kalypso.kalypsomodel1d2d.schema.functions.StaticModelBBoxFunc"
               id="org.kalypso.kalypsomodel1d2d.schema.functions.StaticModelBBoxFunc"
               name="StaticModelBBoxFunc"/>
              
     </extension>     
     
     <extension
         id="org.kalypso.core.adapters"
         name="Kalypso Model 1D 2D Adapter Factory"
         point="org.eclipse.core.runtime.adapters">
      <factory
            adaptableType="org.kalypsodeegree.model.feature.Feature"
            class="org.kalypso.kalypsomodel1d2d.schema.binding.KalypsoModel1D2DFeatureFactory">
         <adapter type="org.kalypso.kalypsomodel1d2d.schema.binding.discr.IFE1D2DNode"/>
         <adapter type="org.kalypso.kalypsomodel1d2d.schema.binding.discr.IFE1D2DEdge"/>
         <adapter type="org.kalypso.kalypsomodel1d2d.schema.binding.discr.IEdgeInv"/>
         <adapter type="org.kalypso.kalypsomodel1d2d.schema.binding.discr.IElement1D"/>
         <adapter type="org.kalypso.kalypsomodel1d2d.schema.binding.discr.IFE1D2DContinuityLine"/>
         <adapter type="org.kalypso.kalypsomodel1d2d.schema.binding.discr.IFE1D2DComplexElement"/>
         <adapter type="org.kalypso.kalypsomodel1d2d.schema.binding.discr.IRiverChannel1D"/>
         <adapter type="org.kalypso.kalypsomodel1d2d.schema.binding.discr.IFEDiscretisationModel1d2d"/>
         <adapter type="org.kalypso.kalypsomodel1d2d.schema.binding.discr.IFEEdgeToEdgeJunction1D2D"/>
         <adapter type="org.kalypso.kalypsomodel1d2d.schema.binding.discr.IFEEdgeToCLineJunction1D2D"/>
         <adapter type="org.kalypsodeegree.graphics.displayelements.DisplayElementDecorator"/>
         <adapter type="org.kalypso.kalypsosimulationmodel.core.flowrel.IFlowRelationship"/>
         <adapter type="org.kalypso.kalypsomodel1d2d.schema.binding.flowrel.IKingFlowRelation"/>
         <adapter type="org.kalypso.kalypsomodel1d2d.schema.binding.flowrel.ITeschkeFlowRelation"/>
         <adapter type="org.kalypso.kalypsomodel1d2d.schema.binding.flowrel.IWeirFlowRelation"/>
         <adapter type="org.kalypso.kalypsomodel1d2d.schema.binding.flowrel.IBoundaryCondition"/>
         <adapter type="org.kalypso.kalypsomodel1d2d.schema.binding.discr.IPolyElement"/>
         <adapter type="org.kalypso.kalypsomodel1d2d.schema.binding.discr.IElement2D"/>
         <adapter type="org.kalypso.kalypsomodel1d2d.schema.binding.model.IStaticModel1D2D"/>
         <adapter type="org.kalypso.kalypsomodel1d2d.schema.binding.model.IControlModel1D2D"/>
         <adapter type="org.kalypso.kalypsomodel1d2d.schema.binding.model.IControlModel1D2DCollection"/>
         <adapter type="org.kalypso.kalypsomodel1d2d.schema.binding.model.IControlModelGroup"/>
         <adapter type="org.kalypso.kalypsomodel1d2d.schema.binding.model.IPseudoOPerationalModel"/>
         <adapter type="org.kalypso.kalypsomodel1d2d.schema.binding.model.IOperationalModel1D2D"/>
         <adapter type="org.kalypso.kalypsomodel1d2d.schema.binding.discr.IFE1D2DElement"/>
         <adapter type="org.kalypso.kalypsomodel1d2d.schema.binding.discr.IJunctionContext1DTo2D"/>
         <adapter type="org.kalypso.kalypsomodel1d2d.schema.binding.discr.IJunctionContext1DToCLine"/>
         <adapter type="org.kalypso.kalypsomodel1d2d.schema.binding.discr.IBoundaryLine"/>
         <adapter type="org.kalypso.kalypsomodel1d2d.schema.binding.discr.IBoundaryLine1D"/>
         <adapter type="org.kalypso.kalypsomodel1d2d.schema.binding.discr.ILineElement"/>
         <adapter type="org.kalypso.kalypsomodel1d2d.schema.binding.discr.ICalculationUnit"/>
         <adapter type="org.kalypso.kalypsomodel1d2d.schema.binding.discr.ICalculationUnit1D"/>
         <adapter type="org.kalypso.kalypsomodel1d2d.schema.binding.discr.ICalculationUnit2D"/>
         <adapter type="org.kalypso.kalypsomodel1d2d.schema.binding.discr.ICalculationUnit1D2D"/>         
      </factory>
   </extension>
     
     <extension
           point="org.kalypso.deegree.gmlWorkspaceListener">
        <listener
              class="org.kalypso.kalypsomodel1d2d.update.GeometryToStructUpdater"
              id="xp.geom_to_struct.geometryToStructUpdater"
              name="xp.geom_to_struct.geometryToStructUpdater"/>
     </extension>
     <extension
           point="org.eclipse.ui.viewActions">
        <viewContribution
              id="org.kalypso.ui.views.mapView.widgets1d2d"
              targetID="org.kalypso.ui.views.mapView">         	
          <action
                icon="icons/elcl16/08_add_weir.gif"
                id="org.kalypso.kalypsomodel1d2d.ui.map.flowrel.CreateWeirFlowrelationWidgetAction"
                label="Wehr hinzufügen"
                style="radio"
                toolbarPath="tools"
                tooltip="Wehr einem FE-Element zuordnen">
	           		<class class="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommandActionDelegate">
	          			<parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.widget" 
	                     	value="org.kalypso.kalypsomodel1d2d.ui.map.flowrel.CreateWeirFlowrelationWidget"/>
                     	<parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.plugin" 
	                     	value="org.kalypso.model1d2d"/>
	                    <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.context" 
	                     	value="Parameters1D"/>
	       			</class>
			</action>    
          <action
                icon="icons/elcl16/09_add_parameter_teschke.gif"
                id="org.kalypso.kalypsomodel1d2d.ui.map.flowrel.CreateTeschkeFlowrelationWidgetAction"
                label="Teschke Parameter hinzufügen"
                style="radio"
                toolbarPath="tools"
                tooltip="Plolynomfunktion zuordnen">
	           		<class class="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommandActionDelegate">
	          			<parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.widget" 
	                     	value="org.kalypso.kalypsomodel1d2d.ui.map.flowrel.CreateTeschkeFlowrelationWidget"/>
                     	<parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.plugin" 
	                     	value="org.kalypso.model1d2d"/>
	                    <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.context" 
	                     	value="Parameters1D"/>
	       			</class>
			</action>    
          <action
                icon="icons/elcl16/10_add_parameter_king.gif"
                id="org.kalypso.kalypsomodel1d2d.ui.map.flowrel.CreateKingFlowrelationWidgetAction"
                label="King Parameter hinzufügen"
                style="radio"
                toolbarPath="tools"
                tooltip="Kanalprofilparameter zuordnen">
	           		<class class="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommandActionDelegate">
	          			<parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.widget" 
	                     	value="org.kalypso.kalypsomodel1d2d.ui.map.flowrel.CreateKingFlowrelationWidget"/>
                     	<parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.plugin" 
	                     	value="org.kalypso.model1d2d"/>
	                    <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.context" 
	                     	value="Parameters1D"/>
	       			</class>
			</action>    
          <action
                icon="icons/elcl16/11_flowRelation_edit.gif"
                id="org.kalypso.kalypsomodel1d2d.ui.map.flowrel.EditFlowrelationWidget"
                label="Parameter bearbeiten"
                style="radio"
                toolbarPath="tools"
                tooltip="Zugeordnete Parameter eines FE-Knoten bearbeiten">
	           		<class class="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommandActionDelegate">
	          			<parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.widget" 
	                     	value="org.kalypso.kalypsomodel1d2d.ui.map.flowrel.EditFlowrelationWidget"/>
                     	<parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.plugin" 
	                     	value="org.kalypso.model1d2d"/>
	                    <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.context" 
	                     	value="Parameters1D"/>
	       			</class>
			</action>    
			<action
	           icon="icons/elcl16/12_flowRelation_delete.gif"
	           id="org.kalypso.kalypsomodel1d2d.ui.map.flowrel.DeleteFlowrelationWidgetAction"               
	           label="Parameter löschen"
	           style="radio"
	           toolbarPath="tools"
	           tooltip="Zugeordnete Parameter eines FE-Knoten löschen">
	           		<class class="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommandActionDelegate">
	          			<parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.widget" 
	                     	value="org.kalypso.kalypsomodel1d2d.ui.map.flowrel.DeleteFlowrelationWidget"/>
                     	<parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.plugin" 
	                     	value="org.kalypso.model1d2d"/>
	                    <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.context" 
	                     	value="Parameters1D"/>
	       			</class>
			</action>
   <action
         disabledIcon="icons/dlcl16/select_profile_disable.gif"
         icon="icons/elcl16/16_select_profile_enable.gif"
         id="org.kalypso.kalypsomodel1d2d.ui.map.SelectProfileWidgetAction"
         label="Profil selektieren"
         style="radio"
         toolbarPath="tools"
         tooltip="Profil selektieren und in  Karte anzeigen">
	           		<class class="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommandActionDelegate">
	          			<parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.widget" 
	                     	value="org.kalypso.model.wspm.ui.view.map.SelectionOneProfileWidget"/>
                     	<parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.plugin" 
	                     	value="org.kalypso.model.wspm.ui"/>
	                    <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.context" 
	                     	value="SelectOneProfile"/>
	       			</class>
   </action>
        </viewContribution>
     </extension>
     <extension
           point="org.eclipse.ui.newWizards">
        <wizard
              class="org.kalypso.kalypsomodel1d2d.ui.featurecontrols.TimeStepFillerWizard"
              id="org.kalypso.kalypsomodel1d2d.ui.featurecontrols.TimeWizard"
              name="TimeStepFillerWizard"/>
     </extension>
     <extension
           point="org.kalypso.core.catalogContribution">
        <catalogContribution
              class="org.kalypso.kalypsomodel1d2d.schema.KalypsoModel1D2DCatalogContribution"
              name="org.kalypso.kalypsomodel1d2d.schema.KalypsoModel1D2DCatalogContribution"/>
        <catalogContribution
              class="org.kalypso.kalypsomodel1d2d.ui.catalog.Model1d2dCatalogContribution"
              name="Model1d2dCatalogContribution"/>              
     </extension>
     <extension
           point="org.kalypso.ui.featureViewExtensionControl">
        <extensionControl
              class="org.kalypso.kalypsomodel1d2d.ui.featurecontrols.TimestepFillerControlFactory"
              id="org.kalypso.kalypsomodel1d2d.ui.featurecontrols.TimestepFillerControlFactory"/>
        <extensionControl
              class="org.kalypso.kalypsomodel1d2d.ui.featurecontrols.RestartSelectorControlFactory"
              id="org.kalypso.kalypsomodel1d2d.ui.featurecontrols.RestartSelectorControlFactory"/>
        <extensionControl
              class="org.kalypso.kalypsomodel1d2d.ui.featurecontrols.ControlModelDeleteControlFactory"
              id="org.kalypso.kalypsomodel1d2d.ui.featurecontrols.ControlModelDeleteControlFactory"/>
        <extensionControl
              class="org.kalypso.kalypsomodel1d2d.ui.featurecontrols.ControlModelNewControlFactory"
              id="org.kalypso.kalypsomodel1d2d.ui.featurecontrols.ControlModelNewControlFactory">
        </extensionControl>
     </extension>
     <extension
           point="org.kalypso.chart.LayerProvider">
        <provider
              class="org.kalypso.kalypsomodel1d2d.ui.chart.KingLayerProvider"
              id="org.kalypso.kalypsomodel1d2d.ui.chart.KingLayerProvider">
        </provider>
     </extension>
     <extension
           point="org.eclipse.ui.handlers">
        <!--*** CreateElement handlers ***-->		
		 <handler
		       commandId="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.CreateElement">
		    <activeWhen>   
		       <with variable="activeContexts">
		          <iterate operator="or">
		             <equals value="{http://www.tu-harburg.de/wb/kalypso/schemata/1d2d}Element1D"/>
		          </iterate>
		       </with>
		     </activeWhen>
      		<class
            	class="org.kalypso.ogc.gml.map.widgets.SelectWidgetHandler">
              <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.widget"
	                value="org.kalypso.kalypsomodel1d2d.ui.map.element1d.CreateFEElement1DWidget"/>
              <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.icon"
                    value="icons/elcl16/01_add_1D.gif"/>
			  <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.tooltip"
                    value="1d-Element erzeugen"/>              
            </class>
		 </handler>
		 <handler
		       commandId="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.CreateElement">
		    <activeWhen>   
		       <with variable="activeContexts">
		          <iterate operator="or">
		             <equals value="{http://www.tu-harburg.de/wb/kalypso/schemata/1d2d}PolyElement"/>
		          </iterate>
		       </with>
		     </activeWhen>
      		<class
            	class="org.kalypso.ogc.gml.map.widgets.SelectWidgetHandler">
              <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.widget"
	                value="org.kalypso.kalypsomodel1d2d.ui.map.CreateFE2DElementWidget"/>
              <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.icon"
                    value="icons/elcl16/02_add_2D.gif"/>
			  <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.tooltip"
                    value="2d-Elemente erzeugen"/>              
            </class>
		 </handler>
		 <handler
		       commandId="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.CreateElement">
		    <activeWhen>   
		       <with variable="activeContexts">
		          <iterate operator="or">
		             <equals value="{http://www.tu-harburg.de/wb/kalypso/schemata/1d2d}ContinuityLine"/>
		          </iterate>
		       </with>
		     </activeWhen>
      		<class
            	class="org.kalypso.ogc.gml.map.widgets.SelectWidgetHandler">
              <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.widget"
	                value="org.kalypso.kalypsomodel1d2d.ui.map.cline.CreateFEContlineWidget"/>
              <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.icon"
                    value="icons/elcl16/03_add_conti.gif"/>
			  <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.tooltip"
                    value="Kontinuitätslinie erzeugen"/>              
            </class>
		 </handler>
		 <handler
		       commandId="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.CreateElement">
		    <activeWhen>   
		       <with variable="activeContexts">
		          <iterate operator="or">
		             <equals value="{http://www.tu-harburg.de/wb/kalypso/schemata/operationalmodel}BoundaryCondition"/>
		          </iterate>
		       </with>
		     </activeWhen>
      		<class
            	class="org.kalypso.ogc.gml.map.widgets.SelectWidgetHandler">
              <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.widget"
	                value="org.kalypso.kalypsomodel1d2d.ui.map.flowrel.CreateNodalBCFlowrelationWidget"/>
              <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.icon"
                    value="icons/elcl16/13_flowrelation_add_NodalBC.gif"/>
			  <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.tooltip"
                    value="Randbedingung zuordnen"/>              
            </class>
		 </handler>
		 <!--*** DeleteElement handlers ***-->
		 <handler
		       commandId="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.DeleteElement">
		    <activeWhen>   
		       <with variable="activeContexts">
		          <iterate operator="or">
		             <equals value="{http://www.tu-harburg.de/wb/kalypso/schemata/1d2d}PolyElement"/>
		          </iterate>
		       </with>
		     </activeWhen>		 		     
      		<class
            	class="org.kalypso.ogc.gml.map.widgets.SelectWidgetHandler">
              <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.widget"
	                value="org.kalypso.kalypsomodel1d2d.ui.map.del.DeleteFEElements2DWidget"/>
              <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.icon"
                    value="icons/elcl16/04_cut_2D.gif"/>
			  <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.tooltip"
                    value="2d-Elemente markieren und entfernen"/>              
            </class>
		 </handler>
		 <handler
		       commandId="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.DeleteElement">
		    <activeWhen>   
		       <with variable="activeContexts">
		          <iterate operator="or">
		             <equals value="{http://www.tu-harburg.de/wb/kalypso/schemata/1d2d}Element1D"/>
		          </iterate>
		       </with>
		     </activeWhen>		 		     
      		<class
            	class="org.kalypso.ogc.gml.map.widgets.SelectWidgetHandler">
              <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.widget"
	                value="org.kalypso.kalypsomodel1d2d.ui.map.del.DeleteFEElements1DWidget"/>
              <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.icon"
                    value="icons/elcl16/05_cut_1D.gif"/>
			  <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.tooltip"
                    value="1d-Elemente markieren und entfernen"/>              
            </class>
		 </handler>
		 <handler
		       commandId="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.DeleteElement">
		    <activeWhen>   
		       <with variable="activeContexts">
		          <iterate operator="or">
		             <equals value="{http://www.tu-harburg.de/wb/kalypso/schemata/1d2d}ContinuityLine"/>
		          </iterate>
		       </with>
		     </activeWhen>		 		     
      		<class
            	class="org.kalypso.ogc.gml.map.widgets.SelectWidgetHandler">
              <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.widget"
	                value="org.kalypso.kalypsomodel1d2d.ui.map.del.DeleteFEContlineWidget"/>
              <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.icon"
                    value="icons/elcl16/06_cut_conti.gif"/>
			  <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.tooltip"
                    value="Kontinuitätslinien markieren und entfernen"/>              
            </class>
		 </handler>
		 <handler
		       commandId="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.DeleteElement">
		    <activeWhen>   
		       <with variable="activeContexts">
		          <iterate operator="or">
		             <equals value="{http://www.tu-harburg.de/wb/kalypso/schemata/operationalmodel}BoundaryCondition"/>
		          </iterate>
		       </with>
		     </activeWhen>
      		<class
            	class="org.kalypso.ogc.gml.map.widgets.SelectWidgetHandler">
              <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.widget"
	                value="org.kalypso.kalypsomodel1d2d.ui.map.flowrel.DeleteFlowrelationWidget"/>
              <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.icon"
                    value="icons/elcl16/14_flowrelation_cut_NodalBC.gif"/>
			  <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.tooltip"
                    value="Randbedingungen markieren und löschen"/>              
            </class>
		 </handler>
		 
		 <!-- Handler to delete junction -->		 
		 <handler
		       commandId="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.DeleteElement">
		    <activeWhen>   
		       <with variable="activeContexts">
		          <iterate operator="or">
		             <equals value="{http://www.tu-harburg.de/wb/kalypso/schemata/1d2d}JunctionContext1DToCLine"/>
		          </iterate>
		       </with>
		     </activeWhen>		 		     
      		<class
            	class="org.kalypso.ogc.gml.map.widgets.SelectWidgetHandler">
              <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.widget"
	                value="org.kalypso.kalypsomodel1d2d.ui.map.junction1d2d.DeleteJunctionContextWidget"/>
              <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.icon"
                    value="icons/elcl16/cut.png"/>
			  <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.tooltip"
                    value="Kopplung markieren und entfernen"/>              
            </class>
		 </handler>
		 
		 <!--*** EditElement handlers ***-->
		 <handler
		       commandId="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.EditElement">
		    <activeWhen>   
		       <with variable="activeContexts">
		          <iterate operator="or">		                     
               		 <or>
               			<equals value="{http://www.tu-harburg.de/wb/kalypso/schemata/1d2d}PolyElement"/>
                  		<equals value="{http://www.tu-harburg.de/wb/kalypso/schemata/1d2d}Element1D"/>                  
                  		<equals value="{http://www.tu-harburg.de/wb/kalypso/schemata/1d2d}ContinuityLine"/>                  
               		 </or>
		          </iterate>
		       </with>
		     </activeWhen>		 		     
      		<class
            	class="org.kalypso.ogc.gml.map.widgets.SelectWidgetHandler">
              <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.widget"
	                value="org.kalypso.kalypsomodel1d2d.ui.map.EditFEConceptGeometryWidget"/>
              <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.icon"
                    value="icons/elcl16/07_move_FE_knot.gif"/>
			  <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.tooltip"
                    value="Knoten bewegen"/>              
            </class>
		 </handler>
		 <handler
		       commandId="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.EditElement">
		    <activeWhen>   
		       <with variable="activeContexts">
		          <iterate operator="or">		                                    		 
               		<equals value="{http://www.tu-harburg.de/wb/kalypso/schemata/operationalmodel}BoundaryCondition"/>
		          </iterate>
		       </with>
		     </activeWhen>		 		     
      		<class
            	class="org.kalypso.ogc.gml.map.widgets.SelectWidgetHandler">
              <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.widget"
	                value="org.kalypso.kalypsomodel1d2d.ui.map.flowrel.EditFlowrelationWidget"/>
              <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.icon"
                    value="icons/elcl16/15_flowrelation_edit_NodalBC.gif"/>
			  <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.tooltip"
                    value="Randbedingungen bearbeiten"/>              
            </class>
		 </handler>		 
		 <handler
		       commandId="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.EditElement">
		    <activeWhen>   
		       <with variable="activeContexts">
		          <iterate operator="or">		                                    		 
               		<equals value="{http://www.tu-harburg.de/wb/kalypso/schemata/1d2dResults}Hydrograph"/>
		          </iterate>
		       </with>
		     </activeWhen>		 		     
      		<class
            	class="org.kalypso.ogc.gml.map.widgets.SelectWidgetHandler">
              <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.widget"
	                value="org.kalypso.kalypsomodel1d2d.ui.map.result.ShowHydrographWidget"/>
              <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.icon"
                    value="icons/elcl16/hydrograph_show.gif"/>
			  <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.tooltip"
                    value="Ganglinie darstellen"/>              
            </class>
		 </handler>		 
		 <handler
		       commandId="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.DeleteElement">
		    <activeWhen>   
		       <with variable="activeContexts">
		          <iterate operator="or">		                                    		 
               		<equals value="{http://www.tu-harburg.de/wb/kalypso/schemata/1d2dResults}Hydrograph"/>
		          </iterate>
		       </with>
		     </activeWhen>		 		     
      		<class
            	class="org.kalypso.ogc.gml.map.widgets.SelectWidgetHandler">
              <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.widget"
	                value="org.kalypso.kalypsomodel1d2d.ui.map.result.DeleteHydrographWidget"/>
              <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.icon"
                    value="icons/elcl16/hydrograph_delete.png"/>
			  <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.tooltip"
                    value="Ganglinie entfernen"/>              
            </class>
		 </handler>		 
		 <handler
		       commandId="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.CreateElement">
		    <activeWhen>   
		       <with variable="activeContexts">
		          <iterate operator="or">		                                    		 
               		<equals value="{http://www.tu-harburg.de/wb/kalypso/schemata/1d2dResults}Hydrograph"/>
		          </iterate>
		       </with>
		     </activeWhen>		 		     
      		<class
            	class="org.kalypso.ogc.gml.map.widgets.SelectWidgetHandler">
              <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.widget"
	                value="org.kalypso.kalypsomodel1d2d.ui.map.result.CreateHydrographWidget"/>
              <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.icon"
                    value="icons/elcl16/hydrograph_create.gif"/>
			  <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.tooltip"
                    value="Ganglinie erstellen"/>              
            </class>
		 </handler>		 
     </extension>
     <extension
           point="org.eclipse.ui.commands">
	  <command
            id="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.CreateElement"
            name="Element erzeugen"/>                   
	  <command
            id="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.DeleteElement"
            name="Element entfernen"/>
      <command
            id="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.EditElement"
            name="Element editieren"/>           
     </extension>
	 <extension
           point="org.eclipse.ui.menus">
        <menuContribution
              locationURI="toolbar:org.kalypso.ui.views.mapView">
           <command
                 commandId="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.CreateElement"
                 icon="icons/elcl16/add.gif"
                 label="Element erzeugen"
                 style="radio"
                 tooltip="Ein neues Element erzeugen">
           </command>
           <command
                 commandId="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.DeleteElement"
                 icon="icons/elcl16/cut.png"
                 label="Element entfernen"
                 style="radio"
                 tooltip="Ein Element entfernen">
           </command>
           <command
                 commandId="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.EditElement"
                 icon="icons/elcl16/edit.gif"
                 label="Element editieren"
                 style="radio"
                 tooltip="Ein Element editieren">
           </command>
           <separator
                 name="editSep"
                 visible="true">
           </separator>
        </menuContribution>
     </extension>
  <extension
        point="org.eclipse.ui.popupMenus">
     <objectContribution
           id="org.kalypso.kalypsomodel1d2d.objectContribution.discretisationmodel"
           objectClass="org.kalypsodeegree.model.feature.Feature">
        <filter
              name="featureType"
              value="http://www.tu-harburg.de/wb/kalypso/schemata/1d2d#DiscretisationModel">
        </filter>
        <action
              class="org.kalypso.kalypsomodel1d2d.actions.ExportDiscrModelaction"
              icon="icons/obj16/DiscrModelExport.gif"
              id="org.kalypso.kalypsomodel1d2d.discretisationmodel.action"
              label="Modell exportieren"
              tooltip="exportiert das DiscretisationModel">
        </action>
     </objectContribution>
  </extension>
  <extension
        point="org.eclipse.ui.views">
     <view
           class="org.kalypso.kalypsomodel1d2d.ui.CalculationUnitView.CalculationUnitPerformView"
           id="org.kalypso.kalypsomodel1d2d.ui.CalculationUnitView.CalculationUnitPerformView"
           name="CalculationUnitView">
     </view>
  </extension>     
</plugin>
