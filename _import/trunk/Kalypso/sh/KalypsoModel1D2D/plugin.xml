<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.0"?>
<plugin>
     <extension
           point="org.kalypso.contribs.java.urlCatalog">
        <catalog
              class="org.kalypso.kalypsomodel1d2d.schema.UrlCatalog1D2D"
              id="org.kalypso.kalypsomodel1d2d.schema.UrlCatalog1D2D"/>
     </extension>
     <extension
           point="org.kalypso.deegree.functionProperty">
        <function
              class="org.kalypso.kalypsomodel1d2d.schema.functions.FE1D2DEdgeTypeGeometryFunction"
              id="org.kalypso.kalypsomodel1d2d.schema.functions.FE1D2DEdgeTypeGeometry"
              name="FE1D2DEdgeTypeGeometry"/>
        <function
              class="org.kalypso.kalypsomodel1d2d.schema.functions.FE1D2D_2DElementTypeGeometry"
              id="org.kalypso.kalypsomodel1d2d.schema.functions.FE1D2D_2DElementTypeGeometry"
              name="FE1D2D_2DElementTypeGeometry"/>
        <function
              class="org.kalypso.kalypsomodel1d2d.schema.functions.NodeElevationAvailabilityInfoFunction"
              id="org.kalypso.kalypsomodel1d2d.schema.functions.NodeElevationAvailabilityInfoFunction"
              name="NodeElevationAvailabilityInfoFunction"/>
        <function
              class="org.kalypso.kalypsomodel1d2d.schema.functions.Element1DTypeGeometry"
              id="org.kalypso.kalypsomodel1d2d.schema.functions.Element1DTypeGeometry"
              name="Element1DTypeGeometry"/>
         <function
              class="org.kalypso.kalypsomodel1d2d.schema.functions.AbstractJunctionGeometryPropertyFunction"
              id="org.kalypso.kalypsomodel1d2d.schema.functions.AbstractJunctionGeometryPropertyFunction"
              name="AbstractJunctionGeometryPropertyFunction"/>
              
         <function
              class="org.kalypso.kalypsomodel1d2d.schema.functions.ControlModelNamePropertyFunction"
              id="org.kalypso.kalypsomodel1d2d.schema.functions.ControlModelNamePropertyFunction"
              name="ControlModelNamePropertyFunction"/>

         <!--function
              class="org.kalypso.kalypsomodel1d2d.schema.functions.ModelFiniteElements"
              id="org.kalypso.kalypsomodel1d2d.schema.functions.ModelFiniteElements"
              name="ModelFiniteElment"/ -->
         <function
               class="org.kalypso.kalypsomodel1d2d.schema.functions.NodeResultVelocityFunction"
               id="org.kalypso.kalypsomodel1d2d.schema.functions.NodeResultVelocityFunction"
               name="NodeResultVelocityFunction"/>
         <function
               class="org.kalypso.kalypsomodel1d2d.schema.functions.NodeResultDepthFunction"
               id="org.kalypso.kalypsomodel1d2d.schema.functions.NodeResultDepthFunction"
               name="NodeResultDepthFunction"/>
         <function
               class="org.kalypso.kalypsomodel1d2d.schema.functions.StaticModelBBoxFunc"
               id="org.kalypso.kalypsomodel1d2d.schema.functions.StaticModelBBoxFunc"
               name="StaticModelBBoxFunc"/>

     </extension>

     <extension
         id="org.kalypso.core.adapters"
         name="Kalypso Model 1D 2D Adapter Factory"
         point="org.eclipse.core.runtime.adapters">
      <factory
            adaptableType="org.kalypsodeegree.model.feature.Feature"
            class="org.kalypso.kalypsomodel1d2d.schema.binding.KalypsoModel1D2DFeatureFactory">
         <adapter type="org.kalypso.kalypsomodel1d2d.schema.binding.discr.IFE1D2DNode"/>
         <adapter type="org.kalypso.kalypsomodel1d2d.schema.binding.discr.IFE1D2DEdge"/>         
         <adapter type="org.kalypso.kalypsomodel1d2d.schema.binding.discr.IElement1D"/>
         <adapter type="org.kalypso.kalypsomodel1d2d.schema.binding.discr.IFELine"/>
         <adapter type="org.kalypso.kalypsomodel1d2d.schema.binding.discr.IContinuityLine1D"/>
         <adapter type="org.kalypso.kalypsomodel1d2d.schema.binding.discr.IContinuityLine2D"/>
         <adapter type="org.kalypso.kalypsomodel1d2d.schema.binding.discr.IFE1D2DComplexElement"/>         
         <adapter type="org.kalypso.kalypsomodel1d2d.schema.binding.discr.IFEDiscretisationModel1d2d"/>
         <adapter type="org.kalypsodeegree.graphics.displayelements.DisplayElementDecorator"/>
         <adapter type="org.kalypso.kalypsosimulationmodel.core.flowrel.IFlowRelationship"/>
         <adapter type="org.kalypso.kalypsomodel1d2d.schema.binding.flowrel.IKingFlowRelation"/>
         <adapter type="org.kalypso.kalypsomodel1d2d.schema.binding.flowrel.ITeschkeFlowRelation"/>
         <adapter type="org.kalypso.kalypsomodel1d2d.schema.binding.flowrel.IWeirFlowRelation"/>
         <adapter type="org.kalypso.kalypsomodel1d2d.schema.binding.flowrel.IBridgeFlowRelation"/>
         <adapter type="org.kalypso.kalypsomodel1d2d.schema.binding.flowrel.IBuildingFlowRelation"/>
         <adapter type="org.kalypso.kalypsomodel1d2d.schema.binding.flowrel.IBoundaryCondition"/>
         <adapter type="org.kalypso.kalypsomodel1d2d.schema.binding.discr.IPolyElement"/>
         <adapter type="org.kalypso.kalypsomodel1d2d.schema.binding.model.IStaticModel1D2D"/>
         <adapter type="org.kalypso.kalypsomodel1d2d.schema.binding.model.IControlModel1D2D"/>
         <adapter type="org.kalypso.kalypsomodel1d2d.schema.binding.model.IControlModel1D2DCollection"/>
         <adapter type="org.kalypso.kalypsomodel1d2d.schema.binding.model.IControlModelGroup"/>
         <adapter type="org.kalypso.kalypsomodel1d2d.schema.binding.discr.IFE1D2DElement"/>
         <adapter type="org.kalypso.kalypsomodel1d2d.schema.binding.discr.IAbstractJunction"/>
         <adapter type="org.kalypso.kalypsomodel1d2d.schema.binding.discr.IJunctionElement"/>
         <adapter type="org.kalypso.kalypsomodel1d2d.schema.binding.discr.ITransitionElement"/>
         <adapter type="org.kalypso.kalypsomodel1d2d.schema.binding.discr.ICalculationUnit"/>
         <adapter type="org.kalypso.kalypsomodel1d2d.schema.binding.discr.ICalculationUnit1D"/>
         <adapter type="org.kalypso.kalypsomodel1d2d.schema.binding.discr.ICalculationUnit2D"/>
         <adapter type="org.kalypso.kalypsomodel1d2d.schema.binding.discr.ICalculationUnit1D2D"/>
         <adapter type="org.kalypso.kalypsomodel1d2d.schema.binding.results.INodeResult"/>
         <adapter type="org.kalypso.kalypsosimulationmodel.core.resultmeta.IResultMeta"/>
         <adapter type="org.kalypso.kalypsomodel1d2d.schema.binding.result.IScenarioResultMeta"/>
         <adapter type="org.kalypso.kalypsomodel1d2d.schema.binding.result.ICalcUnitResultMeta"/>
         <adapter type="org.kalypso.kalypsomodel1d2d.schema.binding.result.IStepResultMeta"/>
         <adapter type="org.kalypso.kalypsomodel1d2d.schema.binding.result.IDocumentResultMeta"/>
         <adapter type="org.kalypso.kalypsosimulationmodel.core.modeling.IModel"/>
         <adapter type="org.kalypso.kalypsomodel1d2d.conv.results.IRestartInfo">
         </adapter>
         <adapter
               type="org.kalypso.kalypsomodel1d2d.schema.binding.results.INodeResult">
         </adapter>
         <adapter
               type="org.kalypso.kalypsomodel1d2d.schema.binding.results.INodeResultCollection">
         </adapter>
         <adapter
               type="org.kalypso.kalypsosimulationmodel.core.roughness.IRoughnessCls">
         </adapter>
         <adapter
               type="org.kalypso.kalypsomodel1d2d.schema.binding.results.IHydrographCollection">
         </adapter>
         <adapter
               type="org.kalypso.kalypsomodel1d2d.schema.binding.results.IHydrograph">
         </adapter>
      </factory>
   </extension>

     <extension
           point="org.eclipse.ui.newWizards">
        <wizard
              class="org.kalypso.kalypsomodel1d2d.ui.featurecontrols.TimeStepFillerWizard"
              id="org.kalypso.kalypsomodel1d2d.ui.featurecontrols.TimeWizard"
              name="TimeStepFillerWizard"/>
     </extension>
     <extension
           point="org.kalypso.core.catalogContribution">
        <catalogContribution
              class="org.kalypso.kalypsomodel1d2d.schema.KalypsoModel1D2DCatalogContribution"
              name="org.kalypso.kalypsomodel1d2d.schema.KalypsoModel1D2DCatalogContribution"/>
        <catalogContribution
              class="org.kalypso.kalypsomodel1d2d.ui.catalog.Model1d2dCatalogContribution"
              name="Model1d2dCatalogContribution"/>
     </extension>
     <extension
           point="org.kalypso.ui.featureViewExtensionControl">
        <extensionControl
              class="org.kalypso.kalypsomodel1d2d.ui.featurecontrols.TimestepFillerControlFactory"
              id="org.kalypso.kalypsomodel1d2d.ui.featurecontrols.TimestepFillerControlFactory"/>
        <extensionControl
              class="org.kalypso.kalypsomodel1d2d.ui.featurecontrols.ControlModelDeleteControlFactory"
              id="org.kalypso.kalypsomodel1d2d.ui.featurecontrols.ControlModelDeleteControlFactory"/>
        <extensionControl
              class="org.kalypso.kalypsomodel1d2d.ui.featurecontrols.ControlModelNewControlFactory"
              id="org.kalypso.kalypsomodel1d2d.ui.featurecontrols.ControlModelNewControlFactory">
        </extensionControl>
        <extensionControl
              class="org.kalypso.kalypsomodel1d2d.ui.map.flowrel.ChooseProfileFeatureControlFactory"
              id="org.kalypso.kalypsomodel1d2d.ui.map.flowrel.ChooseProfileFeatureControlFactory">
        </extensionControl>
        <extensionControl
              class="org.kalypso.kalypsomodel1d2d.ui.featurecontrols.ChooseExeControlFactory"
              id="org.kalypso.kalypsomodel1d2d.ui.featurecontrols.ChooseExeControlFactory">
        </extensionControl>
     </extension>
     <!--
     <extension
           point="org.kalypso.chart.factory.LayerProvider">
        <provider
              class="org.kalypso.kalypsomodel1d2d.ui.chart.KingLayerProvider"
              id="org.kalypso.kalypsomodel1d2d.ui.chart.KingLayerProvider">
        </provider>
        <provider
              class="org.kalypso.kalypsomodel1d2d.ui.chart.BuildingParameterLayerProvider"
              id="org.kalypso.kalypsomodel1d2d.ui.chart.BuildingParameterLayerProvider">
        </provider>
     </extension>
     -->
     <extension
           point="org.eclipse.ui.handlers">
        <!--*** CreateElement handlers ***-->
		 <handler
		       commandId="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.CreateElement">
		    <activeWhen>
		       <with variable="activeContexts">
		          <iterate operator="or">
		             <equals value="{http://www.tu-harburg.de/wb/kalypso/schemata/1d2d}Element1D"/>
		          </iterate>
		       </with>
		     </activeWhen>
      		<class
            	class="org.kalypso.ogc.gml.map.widgets.SelectWidgetHandler">
              <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.widget"
	                value="org.kalypso.kalypsomodel1d2d.ui.map.element1d.CreateFEElement1DWidget"/>
              <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.icon"
                    value="icons/elcl16/01_add_1D.gif"/>
			  <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.tooltip"
                    value="%org.kalypso.kalypsomodel1d2d.ui.map.element1d.CreateFEElement1DWidget.tooltip"/>
            </class>
		 </handler>
		 <handler
		       commandId="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.CreateElement">
		    <activeWhen>
		       <with variable="activeContexts">
		          <iterate operator="or">
		             <equals value="{http://www.tu-harburg.de/wb/kalypso/schemata/1d2d}PolyElement"/>
		          </iterate>
		       </with>
		     </activeWhen>
      		<class
            	class="org.kalypso.ogc.gml.map.widgets.SelectWidgetHandler">
              <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.widget"
	                value="org.kalypso.kalypsomodel1d2d.ui.map.CreateFE2DElementWidget"/>
              <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.icon"
                    value="icons/elcl16/02_add_2D.gif"/>
			  <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.tooltip"
                    value="%org.kalypso.kalypsomodel1d2d.ui.map.CreateFE2DElementWidget.tooltip"/>
            </class>
		 </handler>
		 <handler
		       commandId="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.CreateElement">
		    <activeWhen>
		       <with variable="activeContexts">
		          <iterate operator="or">
		             <equals value="{http://www.tu-harburg.de/wb/kalypso/schemata/1d2d}Line"/>
		          </iterate>
		       </with>
		     </activeWhen>
      		<class
            	class="org.kalypso.ogc.gml.map.widgets.SelectWidgetHandler">
              <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.widget"
	                value="org.kalypso.kalypsomodel1d2d.ui.map.cline.CreateFEContinuityLineWidget"/>
              <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.icon"
                    value="icons/elcl16/03_add_conti.gif"/>
			  <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.tooltip"
                    value="%org.kalypso.kalypsomodel1d2d.ui.map.cline.CreateFEContinuityLineWidget.tooltip"/>
            </class>
		 </handler>
		 <handler
		       commandId="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.CreateElement">
		    <activeWhen>
		       <with variable="activeContexts">
		          <iterate operator="or">
		             <equals value="{http://www.tu-harburg.de/wb/kalypso/schemata/operationalmodel}BoundaryCondition"/>
		          </iterate>
		       </with>
		     </activeWhen>
      		<class
            	class="org.kalypso.ogc.gml.map.widgets.SelectWidgetHandler">
              <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.widget"
	                value="org.kalypso.kalypsomodel1d2d.ui.map.flowrel.CreateBCFlowrelationWidget"/>
              <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.icon"
                    value="icons/elcl16/13_flowrelation_add_NodalBC.gif"/>
			  <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.tooltip"
                    value="%org.kalypso.kalypsomodel1d2d.ui.map.flowrel.CreateBCFlowrelationWidget.tooltip"/>
            </class>
		 </handler>
		 <handler
		       commandId="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.CreateElement">
		    <activeWhen>
		       <with variable="activeContexts">
		          <iterate operator="or">
		             <equals value="{http://www.tu-harburg.de/wb/kalypso/schemata/1d2d}TransitionElement"/>
		          </iterate>
		       </with>
		     </activeWhen>
      		<class
            	class="org.kalypso.ogc.gml.map.widgets.SelectWidgetHandler">
              <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.widget"
	                value="org.kalypso.kalypsomodel1d2d.ui.map.junction1d2d.CreateTransitionElementWidget"/>
              <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.icon"
                    value="icons/elcl16/30_add_1D2DTransition.gif"/>
			  <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.tooltip"
                    value="%org.kalypso.kalypsomodel1d2d.ui.map.junction1d2d.CreateTransitionElementWidget.tooltip"/>
            </class>
		 </handler>
		 <handler
		       commandId="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.CreateElement">
		    <activeWhen>
		       <with variable="activeContexts">
		          <iterate operator="or">
		             <equals value="{http://www.tu-harburg.de/wb/kalypso/schemata/1d2d}JunctionElement"/>
		          </iterate>
		       </with>
		     </activeWhen>
      		<class
            	class="org.kalypso.ogc.gml.map.widgets.SelectWidgetHandler">
              <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.widget"
	                value="org.kalypso.kalypsomodel1d2d.ui.map.junction1d2d.CreateJunctionElementWidget"/>
              <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.icon"
                    value="icons/elcl16/01_add_1D.gif"/>
			  <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.tooltip"
                    value="%org.kalypso.kalypsomodel1d2d.ui.map.junction1d2d.CreateJunctionElementWidget.tooltip"/>
            </class>
		 </handler>
		 <!--*** DeleteElement handlers ***-->
		 <handler
		       commandId="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.DeleteElement">
		    <activeWhen>
		       <with variable="activeContexts">
		          <iterate operator="or">
		             <equals value="{http://www.tu-harburg.de/wb/kalypso/schemata/1d2d}PolyElement"/>
		          </iterate>
		       </with>
		     </activeWhen>
      		<class
            	class="org.kalypso.ogc.gml.map.widgets.SelectWidgetHandler">
              <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.widget"
	                value="org.kalypso.kalypsomodel1d2d.ui.map.del.DeleteFEElements2DWidget"/>
              <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.icon"
                    value="icons/elcl16/04_cut_2D.gif"/>
			  <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.tooltip"
                    value="%org.kalypso.kalypsomodel1d2d.ui.map.del.DeleteFEElements2DWidget.tooltip"/>
            </class>
		 </handler>
		 <handler
		       commandId="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.DeleteElement">
		    <activeWhen>
		       <with variable="activeContexts">
		          <iterate operator="or">
		             <equals value="{http://www.tu-harburg.de/wb/kalypso/schemata/1d2d}Element1D"/>
		          </iterate>
		       </with>
		     </activeWhen>
      		<class
            	class="org.kalypso.ogc.gml.map.widgets.SelectWidgetHandler">
              <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.widget"
	                value="org.kalypso.kalypsomodel1d2d.ui.map.del.DeleteFEElements1DWidget"/>
              <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.icon"
                    value="icons/elcl16/05_cut_1D.gif"/>
			  <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.tooltip"
                    value="%org.kalypso.kalypsomodel1d2d.ui.map.del.DeleteFEElements1DWidget.tooltip"/>
            </class>
		 </handler>
		 <handler
		       commandId="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.DeleteElement">
		    <activeWhen>
		       <with variable="activeContexts">
		          <iterate operator="or">
		             <equals value="{http://www.tu-harburg.de/wb/kalypso/schemata/1d2d}Line"/>
		          </iterate>
		       </with>
		     </activeWhen>
      		<class
            	class="org.kalypso.ogc.gml.map.widgets.SelectWidgetHandler">
              <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.widget"
	                value="org.kalypso.kalypsomodel1d2d.ui.map.del.DeleteFEContlineWidget"/>
              <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.icon"
                    value="icons/elcl16/06_cut_conti.gif"/>
			  <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.tooltip"
                    value="%org.kalypso.kalypsomodel1d2d.ui.map.del.DeleteFEContlineWidget.tooltip"/>
            </class>
		 </handler>
		 <handler
		       commandId="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.DeleteElement">
		    <activeWhen>
		       <with variable="activeContexts">
		          <iterate operator="or">
		             <equals value="{http://www.tu-harburg.de/wb/kalypso/schemata/operationalmodel}BoundaryCondition"/>
		          </iterate>
		       </with>
		     </activeWhen>
      		<class
            	class="org.kalypso.ogc.gml.map.widgets.SelectWidgetHandler">
              <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.widget"
	                value="org.kalypso.kalypsomodel1d2d.ui.map.flowrel.DeleteBCWidget"/>
              <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.icon"
                    value="icons/elcl16/14_flowrelation_cut_NodalBC.gif"/>
			  <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.tooltip"
                    value="%org.kalypso.kalypsomodel1d2d.ui.map.flowrel.DeleteBCWidget.tooltip"/>
            </class>
		 </handler>
		 <handler
		       commandId="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.DeleteElement">
		    <activeWhen>
		       <with variable="activeContexts">
		          <iterate operator="or">
		             <equals value="{http://www.tu-harburg.de/wb/kalypso/schemata/1d2d}TransitionElement"/>
		          </iterate>
		       </with>
		     </activeWhen>
      		<class
            	class="org.kalypso.ogc.gml.map.widgets.SelectWidgetHandler">
              <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.widget"
	                value="org.kalypso.kalypsomodel1d2d.ui.map.junction1d2d.DeleteTransitionElementWidget"/>
              <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.icon"
                    value="icons/elcl16/31_delete_1D2DTransition.gif"/>
			  <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.tooltip"
                    value="%org.kalypso.kalypsomodel1d2d.ui.map.junction1d2d.DeleteTransitionElementWidget.tooltip"/>
            </class>
		 </handler>
		 <handler
		       commandId="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.DeleteElement">
		    <activeWhen>
		       <with variable="activeContexts">
		          <iterate operator="or">
		             <equals value="{http://www.tu-harburg.de/wb/kalypso/schemata/1d2d}JunctionElement"/>
		          </iterate>
		       </with>
		     </activeWhen>
      		<class
            	class="org.kalypso.ogc.gml.map.widgets.SelectWidgetHandler">
              <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.widget"
	                value="org.kalypso.kalypsomodel1d2d.ui.map.junction1d2d.DeleteJunctionElementWidget"/>
              <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.icon"
                    value="icons/elcl16/cut.png"/>
			  <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.tooltip"
                    value="%org.kalypso.kalypsomodel1d2d.ui.map.junction1d2d.DeleteJunctionElementWidget.tooltip"/>
            </class>
		 </handler>

   <!--*** EditElement handlers ***-->
   <handler
         commandId="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.DeleteElement">
      <activeWhen>
         <reference
               definitionId="org.kalypso.ui.views.mapView.expressions.param1d">
         </reference>
      </activeWhen>
      <class
            class="org.kalypso.ogc.gml.map.widgets.SelectWidgetHandler">
         <parameter
               name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.widget"
               value="org.kalypso.kalypsomodel1d2d.ui.map.flowrel.DeleteParameter1DWidget">
         </parameter>
         <parameter
               name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.icon"
               value="icons/elcl16/12_flowrelation_delete.gif">
         </parameter>
         <parameter
               name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.tooltip"
               value="%org.kalypso.kalypsomodel1d2d.ui.map.flowrel.DeleteParameter1DWidget.tooltip">
         </parameter>
      </class>
   </handler>

		 <handler
		       commandId="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.EditElement">
		    <activeWhen>
		       <with variable="activeContexts">
		          <iterate operator="or">
               		 <or>
               			<equals value="{http://www.tu-harburg.de/wb/kalypso/schemata/1d2d}PolyElement"/>
                  		<equals value="{http://www.tu-harburg.de/wb/kalypso/schemata/1d2d}Element1D"/>
                  		<!--
                  		<equals value="{http://www.tu-harburg.de/wb/kalypso/schemata/1d2d}Line"/>
                  		-->
               		 </or>
		          </iterate>
		       </with>
		     </activeWhen>
      		<class
            	class="org.kalypso.ogc.gml.map.widgets.SelectWidgetHandler">
              <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.widget"
	                value="org.kalypso.kalypsomodel1d2d.ui.map.EditFEConceptGeometryWidget"/>
              <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.icon"
                    value="icons/elcl16/07_move_FE_knot.gif"/>
			  <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.tooltip"
                    value="%org.kalypso.kalypsomodel1d2d.ui.map.EditFEConceptGeometryWidget.tooltip"/>
            </class>
		 </handler>
		 
		 <handler
		       commandId="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.RefineElement">
      <activeWhen>
         <reference
               definitionId="org.kalypso.ui.views.mapView.expressions.refine">
         </reference>
      </activeWhen>
      		<class
            	class="org.kalypso.ogc.gml.map.widgets.SelectWidgetHandler">
              <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.widget"
	                value="org.kalypso.kalypsomodel1d2d.ui.map.RefineFEGeometryWidget"/>
              <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.icon"
                    value="icons/elcl16/33_refine_2D.gif"/>
			  <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.tooltip"
                    value="%org.kalypso.kalypsomodel1d2d.ui.map.RefineFEGeometryWidget.tooltip"/>
            </class>
		 </handler>
		 
		 <handler
		       commandId="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.EditElement">
		    <activeWhen>
		       <with variable="activeContexts">
		          <iterate operator="or">
               		<equals value="{http://www.tu-harburg.de/wb/kalypso/schemata/operationalmodel}BoundaryCondition"/>
		          </iterate>
		       </with>
		     </activeWhen>
      		<class
            	class="org.kalypso.ogc.gml.map.widgets.SelectWidgetHandler">
              <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.widget"
	                value="org.kalypso.kalypsomodel1d2d.ui.map.flowrel.EditBCWidget"/>
              <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.icon"
                    value="icons/elcl16/15_flowrelation_edit_NodalBC.gif"/>
			  <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.tooltip"
                    value="%org.kalypso.kalypsomodel1d2d.ui.map.flowrel.EditBCWidget.tooltip"/>
            </class>
		 </handler>
		 <handler
		       commandId="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.EditElement">
		    <activeWhen>
		       <with variable="activeContexts">
		          <iterate operator="or">
               		<equals value="{http://www.tu-harburg.de/wb/kalypso/schemata/1d2d}TransitionElement"/>
		          </iterate>
		       </with>
		     </activeWhen>
      		<class
            	class="org.kalypso.ogc.gml.map.widgets.SelectWidgetHandler">
              <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.widget"
	                value="org.kalypso.kalypsomodel1d2d.ui.map.junction1d2d.EditTransitionElementWidget"/>
              <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.icon"
                    value="icons/elcl16/32_edit_1D2DTransition.gif"/>
			  <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.tooltip"
                    value="%org.kalypso.kalypsomodel1d2d.ui.map.junction1d2d.EditTransitionElementWidget.tooltip"/>
            </class>
		 </handler>
		 <handler
		       commandId="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.EditElement">
		    <activeWhen>
		       <with variable="activeContexts">
		          <iterate operator="or">
               		<equals value="{http://www.tu-harburg.de/wb/kalypso/schemata/1d2dResults}Hydrograph"/>
		          </iterate>
		       </with>
		     </activeWhen>
      		<class
            	class="org.kalypso.ogc.gml.map.widgets.SelectWidgetHandler">
              <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.widget"
	                value="org.kalypso.kalypsomodel1d2d.ui.map.result.ShowHydrographWidget"/>
              <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.icon"
                    value="icons/elcl16/hydrograph_show.gif"/>
			  <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.tooltip"
                    value="%org.kalypso.kalypsomodel1d2d.ui.map.result.ShowHydrographWidget.tooltip"/>
            </class>
		 </handler>
   <handler
         commandId="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.EditElement">
      <activeWhen>
         <reference
               definitionId="org.kalypso.ui.views.mapView.expressions.param1d">
         </reference>
      </activeWhen>
      <class
            class="org.kalypso.ogc.gml.map.widgets.SelectWidgetHandler">
         <parameter
               name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.widget"
               value="org.kalypso.kalypsomodel1d2d.ui.map.flowrel.EditParameter1dWidget">
         </parameter>
         <parameter
               name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.icon"
               value="icons/elcl16/11_flowrelation_edit.gif">
         </parameter>
         <parameter
               name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.tooltip"
               value="%org.kalypso.kalypsomodel1d2d.ui.map.flowrel.EditParameter1dWidget.tooltip">
         </parameter>
      </class>
   </handler>
		 <handler
		       commandId="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.DeleteElement">
		    <activeWhen>
		       <with variable="activeContexts">
		          <iterate operator="or">
               		<equals value="{http://www.tu-harburg.de/wb/kalypso/schemata/1d2dResults}Hydrograph"/>
		          </iterate>
		       </with>
		     </activeWhen>
      		<class
            	class="org.kalypso.ogc.gml.map.widgets.SelectWidgetHandler">
              <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.widget"
	                value="org.kalypso.kalypsomodel1d2d.ui.map.result.DeleteHydrographWidget"/>
              <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.icon"
                    value="icons/elcl16/hydrograph_delete.gif"/>
			  <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.tooltip"
                    value="%org.kalypso.kalypsomodel1d2d.ui.map.result.DeleteHydrographWidget.tooltip"/>
            </class>
		 </handler>
		 <handler
		       commandId="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.CreateElement">
		    <activeWhen>
		       <with variable="activeContexts">
		          <iterate operator="or">
               		<equals value="{http://www.tu-harburg.de/wb/kalypso/schemata/1d2dResults}Hydrograph"/>
		          </iterate>
		       </with>
		     </activeWhen>
      		<class
            	class="org.kalypso.ogc.gml.map.widgets.SelectWidgetHandler">
              <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.widget"
	                value="org.kalypso.kalypsomodel1d2d.ui.map.result.CreateHydrographWidget"/>
              <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.icon"
                    value="icons/elcl16/hydrograph_create.gif"/>
			  <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.tooltip"
                    value="%org.kalypso.kalypsomodel1d2d.ui.map.result.CreateHydrographWidget.tooltip"/>
            </class>
		 </handler>
		 <handler
		 commandId="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.SelectProfile">
		    <activeWhen>
		       <with variable="activeContexts">
		          <iterate operator="or">
		             <equals value="{org.kalypso.model.wspmprofile}Profile"/>
		          </iterate>
		       </with>
		     </activeWhen>
	       	<class
	       		class="org.kalypso.ogc.gml.map.widgets.SelectWidgetHandler">
	          <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.widget"
	               	value="org.kalypso.model.wspm.ui.view.map.SelectionOneProfileWidget"/>
              <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.icon"
                    value="icons/elcl16/16_select_profile_enable.gif"/>
			  <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.tooltip"
                    value="%org.kalypso.model.wspm.ui.view.map.SelectionOneProfileWidget.tooltip"/>
	       	</class>
		 </handler>
		 <handler commandId="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.EditElementProperties">
		    <activeWhen>
		       <with variable="activeContexts">
		          <iterate operator="or">
               		<equals value="{http://www.tu-harburg.de/wb/kalypso/schemata/simulationbase}RoughnessPolygon"/>
		          </iterate>
		       </with>
		     </activeWhen>
      		<class
            	class="org.kalypso.ogc.gml.map.widgets.SelectWidgetHandler">
              <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.widget"
	                value="org.kalypso.kalypsomodel1d2d.ui.map.fenetRoughness.EditRoughnessParametersOfPolygonWidget"/>
              <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.icon"
                    value="icons/elcl16/editPolygon.gif"/>
			  <parameter name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.tooltip"
                    value="%org.kalypso.kalypsomodel1d2d.ui.map.fenetRoughness.EditRoughnessParametersOfPolygonWidget.tooltip"/>
            </class>
		 </handler>
		 <handler commandId="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.CreateElement">
		    <activeWhen>
		       <with variable="activeContexts">
		          <iterate operator="or">
               		<equals value="{http://www.tu-harburg.de/wb/kalypso/schemata/simulationbase}RoughnessPolygon"/>
		          </iterate>
		       </with>
		     </activeWhen>
      <class
            class="org.kalypso.ogc.gml.map.widgets.SelectWidgetHandler">
         <parameter
               name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.widget"
               value="org.kalypso.kalypsomodel1d2d.ui.map.fenetRoughness.CreatePolygonWidgetWrapper">
         </parameter>
         <parameter
               name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.icon"
               value="icons/elcl16/02_add_2D.gif">
         </parameter>
         <parameter
               name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.tooltip"
               value="%org.kalypso.kalypsomodel1d2d.ui.map.fenetRoughness.CreatePolygonWidgetWrapper.tooltip">
         </parameter>
      </class>
   </handler>
		 <handler commandId="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.DeleteElement">
		    <activeWhen>
		       <with variable="activeContexts">
		          <iterate operator="or">
               		<equals value="{http://www.tu-harburg.de/wb/kalypso/schemata/simulationbase}RoughnessPolygon"/>
		          </iterate>
		       </with>
		     </activeWhen>
      <class
            class="org.kalypso.ogc.gml.map.widgets.SelectWidgetHandler">
         <parameter
               name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.widget"
               value="org.kalypso.kalypsomodel1d2d.ui.map.fenetRoughness.DeletePolygonWidgetWrapper">
         </parameter>
         <parameter
               name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.icon"
               value="icons/elcl16/04_cut_2D.gif">
         </parameter>
         <parameter
               name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.tooltip"
               value="%org.kalypso.kalypsomodel1d2d.ui.map.fenetRoughness.DeletePolygonWidgetWrapper.tooltip">
         </parameter>
      </class>
   </handler>
		 <handler commandId="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.EditElement">
		    <activeWhen>
		       <with variable="activeContexts">
		          <iterate operator="or">
               		<equals value="{http://www.tu-harburg.de/wb/kalypso/schemata/simulationbase}RoughnessPolygon"/>
		          </iterate>
		       </with>
		     </activeWhen>
      <class
            class="org.kalypso.ogc.gml.map.widgets.SelectWidgetHandler">
         <parameter
               name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.widget"
               value="org.kalypso.kalypsomodel1d2d.ui.map.fenetRoughness.EditPolygonWidgetWrapper">
         </parameter>
         <parameter
               name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.icon"
               value="icons/elcl16/07_move_FE_knot.gif">
         </parameter>
         <parameter
               name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.tooltip"
               value="%org.kalypso.kalypsomodel1d2d.ui.map.fenetRoughness.EditPolygonWidgetWrapper.tooltip">
         </parameter>
      </class>
   </handler>
     </extension>
     <extension
           point="org.eclipse.ui.commands">
	  <command
         categoryId="org.kalypso.ogc.gml.map.category"
         id="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.CreateElement"
         name="%org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.CreateElement.name"/>
	  <command
         categoryId="org.kalypso.ogc.gml.map.category"
         id="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.DeleteElement"
         name="%org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.DeleteElement.name"/>
      <command
            categoryId="org.kalypso.ogc.gml.map.category"
            id="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.EditElement"
            name="%org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.EditElement.name"/>
      <command
            categoryId="org.kalypso.ogc.gml.map.category"
            id="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.RefineElement"
            name="%org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.RefineElement.name"/>
      <command
            categoryId="org.kalypso.ogc.gml.map.category"
            id="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.EditElementProperties"
            name="%org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.EditElementProperties.name"/>
      <command
            categoryId="org.kalypso.ogc.gml.map.category"
            id="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.SelectProfile"
            name="%org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.SelectProfile.name"/>
      <command
            categoryId="org.kalypso.ogc.gml.map.category"
            id="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.CreateTeschkeFlowRelation"
            name="%org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.CreateTeschkeFlowRelation.name">
         <defaultHandler
               class="org.kalypso.ogc.gml.map.widgets.SelectWidgetHandler">
            <parameter
                  name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.widget"
                  value="org.kalypso.kalypsomodel1d2d.ui.map.flowrel.CreateTeschkeFlowrelationWidget">
            </parameter>
         </defaultHandler>
      </command>
      <command
          categoryId="org.kalypso.ui.tupleResult.category"
          description="%command.description.addrow"
          id="org.kalypso.model1d2d.Command1D2DTimestepsAddRow"
          name="%command.name.addrow">
    </command>
    <command
          categoryId="org.kalypso.ui.tupleResult.category"
          description="%command.description.interpolate"
          id="org.kalypso.model1d2d.Command1D2DTimestepsInterpolate"
          name="%command.name.interpolate">
    </command>
      
      <command
            categoryId="org.kalypso.ogc.gml.map.category"
            id="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.CreateKingFlowRelation"
            name="%org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.CreateKingFlowRelation.name">
          <!--
         <defaultHandler
               class="org.kalypso.ogc.gml.map.widgets.SelectWidgetHandler">
            <parameter
                  name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.widget"
                  value="org.kalypso.kalypsomodel1d2d.ui.map.flowrel.CreateKingFlowrelationWidget">
            </parameter>
         </defaultHandler>
         -->
      </command>
      <command
            categoryId="org.kalypso.ogc.gml.map.category"
            id="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.CreateWeirFlowRelation"
            name="%org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.CreateWeirFlowRelation.name">
         <defaultHandler
               class="org.kalypso.ogc.gml.map.widgets.SelectWidgetHandler">
            <parameter
                  name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.widget"
                  value="org.kalypso.kalypsomodel1d2d.ui.map.flowrel.CreateWeirFlowrelationWidget">
            </parameter>
         </defaultHandler>
      </command>
      <command
            categoryId="org.kalypso.ogc.gml.map.category"
            id="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.CreateBridgeFlowRelation"
            name="%org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.CreateBridgeFlowRelation.name">
         <defaultHandler
               class="org.kalypso.ogc.gml.map.widgets.SelectWidgetHandler">
            <parameter
                  name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.widget"
                  value="org.kalypso.kalypsomodel1d2d.ui.map.flowrel.CreateBridgeFlowrelationWidget">
            </parameter>
         </defaultHandler>
      </command>
     </extension>
	 <extension
           point="org.eclipse.ui.menus">
        <menuContribution
              locationURI="toolbar:org.kalypso.ui.views.mapView?before=actions">
           <command
                 commandId="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.CreateElement"
                 icon="icons/elcl16/add.gif"
                 label="%org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.CreateElement.label"
                 style="radio"
                 tooltip="%org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.CreateElement.tooltip">
           </command>
           <command
                 commandId="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.DeleteElement"
                 icon="icons/elcl16/cut.png"
                 label="%org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.DeleteElement.label"
                 style="radio"
                 tooltip="%org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.DeleteElement.tooltip">
           </command>
           <command
                 commandId="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.EditElement"
                 icon="icons/elcl16/edit.gif"
                 label="%org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.EditElement.label"
                 style="radio"
                 tooltip="%org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.EditElement.tooltip">
           </command>
           <command
                 commandId="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.EditElementProperties"
                 icon="icons/elcl16/editPolygon.gif"
                 label="%org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.EditElementProperties.label"
                 style="radio"
                 tooltip="%org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.EditElementProperties.tooltip">
           </command>
           <command
                 commandId="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.SelectProfile"
                 icon="icons/elcl16/16_select_profile_enable.gif"
                 label="%org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.SelectProfile.label"
                 style="radio"
                 tooltip="%org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.SelectProfile.tooltip">
           </command>
           <command
                 commandId="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.CalculateFlowRelations"
                 icon="icons/elcl16/startCalulation.gif"
                 label="%org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.CalculateFlowRelations.label"
                 style="radio"
                 tooltip="%org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.CalculateFlowRelations.tooltip">
              <visibleWhen>
                 <reference
                       definitionId="org.kalypso.ui.views.mapView.expressions.param1d">
                 </reference>
              </visibleWhen>
           </command>
        </menuContribution>
        <menuContribution
              locationURI="menu:org.kalypso.ui.view.mapView.refine2DMenu">
           <command
                 commandId="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.RefineElement"
                 icon="icons/elcl16/edit.gif"
                 label="%org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.RefineElement.label"
                 style="radio"
                 tooltip="%org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.RefineElement.tooltip">
           </command>
        </menuContribution>
        <menuContribution
              locationURI="menu:org.kalypso.ui.view.mapView.createParameterMenu">
           <command
                 commandId="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.CreateTeschkeFlowRelation"
                 icon="icons/elcl16/09_add_parameter_teschke.gif"
                 label="%org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.CreateTeschkeFlowRelation.label"
                 style="radio"
                 tooltip="%org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.CreateTeschkeFlowRelation.tooltip">
           </command>
           <command
                 commandId="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.CreateKingFlowRelation"
                 icon="icons/elcl16/10_add_parameter_king.gif"
                 label="%org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.CreateKingFlowRelation.label"
                 style="radio"
                 tooltip="%org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.CreateKingFlowRelation.tooltip">
           </command>
           <command
                 commandId="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.CreateWeirFlowRelation"
                 icon="icons/elcl16/08_add_weir.gif"
                 label="%org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.CreateWeirFlowRelation.label"
                 style="radio"
                 tooltip="%org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.CreateWeirFlowRelation.tooltip">
           </command>
           <command
                 commandId="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.CreateBridgeFlowRelation"
                 icon="icons/elcl16/08a_add_bridge.gif"
                 label="%org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.CreateBridgeFlowRelation.label"
                 style="radio"
                 tooltip="%org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.CreateBridgeFlowRelation.tooltip">
           </command>
        </menuContribution>
        <menuContribution
              locationURI="toolbar:org.kalypso.ui.views.mapView?after=actions">
           <command
                 commandId="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.RefineElement"
                 icon="icons/elcl16/33_refine_2D.gif"
                 id="org.kalypso.ui.view.mapView.refine2DMenu"
                 label="%org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.RefineElement.label"
                 style="pulldown"
                 tooltip="%org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.RefineElement.tooltip">
              <visibleWhen>
                 <reference
                       definitionId="org.kalypso.ui.views.mapView.expressions.refine">
                 </reference>
              </visibleWhen>
           </command>
        </menuContribution>
        <menuContribution
              locationURI="toolbar:org.kalypso.ui.views.mapView?after=actions">
           <command
                 commandId="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.CreateTeschkeFlowRelation"
                 icon="icons/elcl16/09_add_parameter_teschke.gif"
                 id="org.kalypso.ui.view.mapView.createParameterMenu"
                 label="%org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.CreateTeschkeFlowRelation.label"
                 style="pulldown"
                 tooltip="%org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.CreateTeschkeFlowRelation.tooltip">
              <visibleWhen>
                 <reference
                       definitionId="org.kalypso.ui.views.mapView.expressions.param1d">
                 </reference>
              </visibleWhen>
           </command>
        </menuContribution>
     </extension>

  <extension
        point="org.eclipse.core.expressions.definitions">
     <definition
           id="org.kalypso.ui.views.mapView.expressions.param1d">
        <with
              variable="activeContexts">
           <iterate
                 operator="or">
              <equals
                    value="{http://www.tu-harburg.de/wb/kalypso/schemata/simulationbase}_FlowRelationship">
              </equals>
           </iterate>
        </with>
     </definition>
  </extension>
  <extension
        point="org.eclipse.core.expressions.definitions">
     <definition
           id="org.kalypso.ui.views.mapView.expressions.refine">
        <with
              variable="activeContexts">
           <iterate
                 operator="or">
              <equals
                    value="{http://www.tu-harburg.de/wb/kalypso/schemata/1d2d}PolyElement">
              </equals>
           </iterate>
        </with>
     </definition>
  </extension>
  <extension
        point="org.kalypso.deegree.functionExpression">
     <function
           class="org.kalypso.kalypsomodel1d2d.ui.map.function.BorderEdgeFunctionExpression"
           label="%org.kalypso.kalypsomodel1d2d.ui.map.function.BorderEdgeFunctionExpression.label"
           name="org.kalypso.kalypsomodel1d2d.ui.map.function.BorderEdgeFunctionExpression">
     </function>
  </extension>
  <extension
        point="org.kalypso.afgui.scenarioData">
     <dataSet
           id="org.kalypso.kalypso1d2d">
        <scenarioDatum
              classKey="org.kalypso.kalypsomodel1d2d.schema.binding.result.IScenarioResultMeta"
              modelPath="models/scenarioResultMeta.gml">
        </scenarioDatum>
        <scenarioDatum
              classKey="org.kalypso.kalypsomodel1d2d.schema.binding.model.IStaticModel1D2D"
              modelPath="models/static_model.gml">
        </scenarioDatum>
        <scenarioDatum
              classKey="org.kalypso.kalypsomodel1d2d.schema.binding.model.IControlModelGroup"
              modelPath="models/control.gml">
        </scenarioDatum>
        <scenarioDatum
              classKey="org.kalypso.kalypsomodel1d2d.schema.binding.discr.IFEDiscretisationModel1d2d"
              modelPath="models/discretisation.gml">
        </scenarioDatum>
     </dataSet>
  </extension>
  <extension
        point="org.kalypso.ui.modelAdapter">
     <modelAdapter
           adapterClass="org.kalypso.kalypsomodel1d2d.schema.binding.OriginalDiscretizationModelAdaptor"
           featureType="{http://www.tu-harburg.de/wb/kalypso/schemata/1d2d}DiscretisationModel">
     </modelAdapter>
     <modelAdapter
           adapterClass="org.kalypso.kalypsomodel1d2d.schema.binding.ControlModelAdapter"
           featureType="{http://www.tu-harburg.de/wb/kalypso/schemata/1d2dControl}ControlModelGroup">
     </modelAdapter>
  </extension>
  <extension
        name="1d2dChartCommands"
        point="org.eclipse.ui.commands">
     <command
           categoryId="org.kalypso.chart.ui.commands.category"
           id="org.kalypso.model1d2d.removeBuildingParameter"
           name="%org.kalypso.model1d2d.removeBuildingParameter.name">
     </command>
     <command
           categoryId="org.kalypso.chart.ui.commands.category"
           id="org.kalypso.model1d2d.saveBuildingParameter"
           name="%org.kalypso.model1d2d.saveBuildingParameter.name">
     </command>
  </extension>
  <extension
        name="chartHandlers"
        point="org.eclipse.ui.handlers">
     <handler
           class="org.kalypso.kalypsomodel1d2d.ui.chart.EditBuildingParameterHandler"
           commandId="org.kalypso.model1d2d.removeBuildingParameter">
     </handler>
     <handler
           class="org.kalypso.kalypsomodel1d2d.ui.chart.SaveBuildingParameterHandler"
           commandId="org.kalypso.model1d2d.saveBuildingParameter">
     </handler>
    <handler
          class="org.kalypso.kalypsomodel1d2d.ogc.gml.om.table.command.handler.Command1D2DTimestepsAddRow"
          commandId="org.kalypso.model1d2d.Command1D2DTimestepsAddRow">
    </handler>
    <handler
          class="org.kalypso.kalypsomodel1d2d.ogc.gml.om.table.command.handler.Command1D2DTimestepsInterpolate"
          commandId="org.kalypso.model1d2d.Command1D2DTimestepsInterpolate">
    </handler>
  </extension>
  <extension
        point="org.eclipse.ui.commandImages">
     <image
           commandId="org.kalypso.model1d2d.removeBuildingParameter"
           icon="icons/obj16/removeBuildingParameter.gif">
     </image>
     <image
           commandId="org.kalypso.model1d2d.saveBuildingParameter"
           icon="icons/obj16/saveBuildingParameter.gif">
     </image>
    <image
          commandId="org.kalypso.model1d2d.Command1D2DTimestepsAddRow"
          icon="icons/obj16/add.gif">
    </image>
    <image
          commandId="org.kalypso.model1d2d.Command1D2DTimestepsInterpolate"
          icon="icons/obj16/loop.gif">
    </image>
  </extension>
  <extension
        id="velodiff2d"
        point="org.eclipse.core.runtime.applications">
     <application
           cardinality="singleton-global"
           thread="main"
           visible="true">
        <run
              class="org.kalypso.kalypsomodel1d2d.apps.velodiff2d.VeloDiff2dApplication">
        </run>
     </application>
  </extension>
  <extension
        id="velodiff2d"
        point="org.eclipse.core.runtime.products">
     <product
           application="org.kalypso.model1d2d.velodiff2d"
           description="VeloDiff2D"
           name="VeloDiff">
        <property
              name="appName"
              value="VeloDiff">
        </property>
     </product>
  </extension>
  <extension
        point="org.kalypso.simulation.core.simulation">
     <simulation
           simulationClass="org.kalypso.kalypsomodel1d2d.sim.RMAKalypsoSimulation"
           typeID="org.kalypso.model1d2d">
     </simulation>
  </extension>
</plugin>
