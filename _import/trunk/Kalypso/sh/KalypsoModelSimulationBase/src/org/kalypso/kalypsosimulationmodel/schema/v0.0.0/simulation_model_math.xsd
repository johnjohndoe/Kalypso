<?xml version="1.0" encoding="UTF-8"?>

<!--  
	Provides Generic math types and elements
		
	@author Patrice Congo
-->


<xs:schema 
	targetNamespace="http://www.tu-harburg.de/wb/kalypso/schemata/simulationbase" 
	xmlns:gml="http://www.opengis.net/gml" 
	xmlns:xs="http://www.w3.org/2001/XMLSchema" 
	xmlns:simBase="http://www.tu-harburg.de/wb/kalypso/schemata/simulationbase" 
	xmlns:xlink="http://www.w3.org/1999/xlink" 
	elementFormDefault="qualified" 
	attributeFormDefault="unqualified">

	<xs:import
		namespace="http://www.opengis.net/gml"
		schemaLocation="platform:/resource/KalypsoContributionsOGC31/src/org/kalypso/contribs/ogc31/schemata/gml/3.1.1/base/gml.xsd"
		/>
		
	<!--xs:element 
		name="WlDisRel"
		type="wb:WlDisRelType"
		substitutionGroup="wb:_FlowRelationship">
		<xs:annotation>
			<xs:documentation>
				Element to define RMAS10S style vertical distribution 
				of eddy viscosity
			</xs:documentation>
		</xs:annotation>
	</xs:element>
	
	
	<xs:complexType 
		name="WlDisRelType">
		<xs:complexContent>
			<xs:extension 
				base="simBase:2DPolynom">
				<xs:sequence>
					<xs:element name="waterLevel">
						<xs:simpleType>
							<xs:list itemType="xs:double"/>
						</xs:simpleType>
					</xs:element>
					<xs:element name="discharge">
						<xs:simpleType>
							<xs:list itemType="xs:double"/>
						</xs:simpleType>
					</xs:element>
				</xs:sequence>
			</xs:extension>
		</xs:complexContent>
	</xs:complexType -->
	<!-- ======================================================================
			_Polynom element
	======================================================================= -->
	<xs:element
		name="_Polynom"
		type="simBase:AbstractPolynomType">
		<xs:annotation>
			<xs:documentation>
				Substitutions head for all polynom
			</xs:documentation>
		</xs:annotation>
	</xs:element>
	<!-- ======================================================================
			AbstractPolynomType
	======================================================================= -->
	<xs:complexType 
		name="AbstractPolynomType"
		abstract="true">
		<xs:annotation>
			<xs:documentation>
				Base type for all polynoms
			</xs:documentation>
		</xs:annotation>
		<xs:complexContent>
			<xs:extension 
				base="gml:AbstractGMLType"/>
		</xs:complexContent>
	</xs:complexType>

	
	<!-- ======================================================================
			Polynom1D element
	======================================================================= -->
	<xs:element 
		name="Polynom1D"
		type="simBase:Polynom1DType"
		substitutionGroup="simBase:_Polynom">
		<xs:annotation>
			<xs:documentation>
				1D polynom; a0+a1*x^1+...+an*x^n
			</xs:documentation>
		</xs:annotation>
	</xs:element>
	
	<!-- ======================================================================
			Polynom1DType
	======================================================================= -->
	<xs:complexType 
		name="Polynom1DType"
		abstract="false">
		<xs:annotation>
			<xs:documentation>
				Type for 1D polynoms: y=sum of ai*xi for all i less than oder
			</xs:documentation>
		</xs:annotation>
		<xs:complexContent>
			<xs:extension 
				base="simBase:AbstractPolynomType">
				<xs:sequence>
					<xs:element 
						name="order"
						type="xs:positiveInteger"
						minOccurs="1" maxOccurs="1"/>
						
					<xs:element
						name="coeficients"
						type="gml:doubleList"
						minOccurs="1" maxOccurs="1"/>
				</xs:sequence>
			</xs:extension>
		</xs:complexContent>
	</xs:complexType>
	
	<!-- ======================================================================
			Polynom2D element
	======================================================================= -->
	<xs:element 
		name="Polynom2D"
		type="simBase:Polynom2DType"
		substitutionGroup="simBase:_Polynom">
		<xs:annotation>
			<xs:documentation>
				Represent a 2D polynom
			</xs:documentation>
		</xs:annotation>
	</xs:element>
	<!-- ======================================================================
			Polynom2DType
	======================================================================= -->
	<xs:complexType 
		name="Polynom2DType"
		abstract="false">
		<xs:annotation>
			<xs:documentation>
				Type for 1D polynoms: y=sum of ai*bj*xi*yj for all i less 
										than orderX and jless than oderY
			</xs:documentation>
		</xs:annotation>
		<xs:complexContent>
			<xs:extension 
				base="simBase:AbstractPolynomType">
				<xs:sequence>
					<xs:element 
						name="orderX"
						type="xs:positiveInteger"
						minOccurs="1" maxOccurs="1"/>
					<xs:element 
						name="orderY"
						type="xs:positiveInteger"
						minOccurs="1" maxOccurs="1"/>
						
					<xs:element
						name="coeficients"
						minOccurs="1" maxOccurs="1">
						<xs:annotation>
							<xs:documentation>
								Table of coeficients as one dimentional array
								of double. index for aij is i*oderX+j  
							</xs:documentation>
						</xs:annotation>
						<xs:simpleType>
							<xs:list itemType="xs:double"/>
						</xs:simpleType>
					</xs:element>
					
				</xs:sequence>
			</xs:extension>
		</xs:complexContent>
	</xs:complexType>
	
</xs:schema>
	