<?xml version="1.0" encoding="UTF-8"?>
<chapter id="Kalypso1D2DPostprozessing">
  <title>Postprocessing</title>

  <indexterm>
    <primary>Postprocessing Kalypso1D2D</primary>
  </indexterm>

  <para>Nach dem Processing können die Ergebnisse im Postprocessing behandelt
  werden. Dazu stehen fogende wesentliche Funktionen zur Verfügung:</para>

  <orderedlist>
    <listitem>
      <para>Kartenansicht</para>
    </listitem>

    <listitem>
      <para>Längsschnittansicht</para>
    </listitem>

    <listitem>
      <para>Differenzenbildung</para>
    </listitem>
  </orderedlist>

  <figure>
    <title>Ansicht "Aktivitäten" im Postprocessing</title>

    <mediaobject>
      <imageobject>
        <imagedata fileref="img/1D2D/postp_01_aktivitaetenansicht.png" />
      </imageobject>
    </mediaobject>
  </figure>

  <section id="Kalypso1D2DKartenansicht">
    <title>Kartenansicht</title>

    <indexterm>
      <primary>Kartenansicht in Kalypso1D2D</primary>
    </indexterm>

    <para>Bevor eine Karte mit Ergebnissen angezeigt wird, konfiguriert der
    Benutzer die Ergebniskarte.</para>

    <section id="Kalypso1D2DErgebniskarte_konfigurieren">
      <title>Ergebniskarte konfigurieren</title>

      <indexterm>
        <primary>Ergebniskarte konfigurieren in Kalypso 1D2D</primary>
      </indexterm>

      <para>In der Ansicht "Aktivitäten" muss der Baum
      <guimenuitem>Postprocessing &gt; Kartenansicht </guimenuitem>geöffnet
      werden und <guilabel>Ergebniskarte konfigurieren </guilabel>mit einem
      Doppelklick aktiviert werden, um den zugehörigen Assistenten zu öffnen.
      Der Assistent ermöglicht es Ergebnisse in die Kartenansicht
      hinzuzufügen. Im Allgemeinen stehen folgende Ergebnisse zu
      Verfügung</para>

      <itemizedlist>
        <listitem>
          <para>Stationäre/ instationäre Ergebnisse<itemizedlist>
              <listitem>
                <para>Geschwindigkeiten (als skalare Größe,
                richtungsabhängig)</para>
              </listitem>

              <listitem>
                <para>Geschwindigkeitsvektoren</para>
              </listitem>

              <listitem>
                <para>Fließtiefen (Wasserstand minus Modellhöhe)</para>
              </listitem>

              <listitem>
                <para>Wasserstände</para>
              </listitem>
            </itemizedlist></para>
        </listitem>

        <listitem>
          <para>Modellhöhen</para>
        </listitem>
      </itemizedlist>

      <para>Der Assistent ist in zwei Bereiche unterteilt:</para>

      <itemizedlist>
        <listitem>
          <para>Auf der linken Seite stellt eine Baumansicht die vorliegenden
          Ergebnisse dar. Die oberste Ebene des Baumes besteht aus den
          vorhandenen Teilmodellen. Diesen untergeordnet folgen die
          berechneten Zeitschritte, welche wiederum die eigentlichen
          Ergebnisse beinhalten.</para>

          <para>Ausnahme bilden hierbei die Modellhöhen, da diese unabhängig
          von einzelnen Berechnungen sind.</para>

          <para>Durch Anhaken eines Eintrages werden automatisch alle
          untergeordneten Elemente ebenfalls angehakt.</para>
        </listitem>
      </itemizedlist>

      <itemizedlist>
        <listitem>
          <para>Auf der rechten Seite des Assistenten werden Informationen
          über die aktuell selektierten Einträge des Baumes dargestellt. Je
          nach Typ des gerade im Baum selektierten Eintrages (Teilmodell-,
          Zeitschritt- oder Ergebnis-Ebene) werden unterschiedliche
          Informationen angezeigt.</para>

          <para>Wurde ein Ergebnis selektiert, kann in der Info-Ansicht
          spezifiziert werden, ob das Ergebnis anhand von Isoflächen oder
          Isolinien angezeigt werden soll. Wenn ein Ergebnis in der Karte
          dargestellt werden soll, muss das Ergebnis also im Baum angehakt
          sein.</para>

          <para>Jedem Ergebnis wird automatisch eine Standard-Darstellung
          (Style) zugewiesen, der mittles des Style-Managers individuell
          verändert werden kann.</para>
        </listitem>
      </itemizedlist>

      <figure>
        <title>Assistent zur Konfiguration der Ergebniskarte</title>

        <mediaobject>
          <imageobject>
            <imagedata fileref="img/1D2D/postp_02_Kartekonfig.png" />
          </imageobject>
        </mediaobject>
      </figure>

      <figure>
        <title>Anzeigen von Informationen im Assistenten</title>

        <mediaobject>
          <imageobject>
            <imagedata fileref="img/1D2D/postp_04_ergebnisskarte.png" />
          </imageobject>
        </mediaobject>
      </figure>

      <para>Es besteht die Möglichkeit verschiedene Styles zu erzeugen, zu
      bearbeiten oder zu löschen.</para>

      <para><table>
          <title>Styles bearbeiten</title>

          <tgroup cols="2">
            <tbody>
              <row>
                <entry><mediaobject>
                    <imageobject>
                      <imagedata fileref="img/1D2D/postp_06_style.png" />
                    </imageobject>
                  </mediaobject></entry>

                <entry>Style auswählen</entry>
              </row>

              <row>
                <entry><mediaobject>
                    <imageobject>
                      <imagedata fileref="img/1D2D/postp_07_style.png" />
                    </imageobject>
                  </mediaobject></entry>

                <entry>Ausgewählten Style bearbeiten oder neuen Style
                erzeugen</entry>
              </row>

              <row>
                <entry><mediaobject>
                    <imageobject>
                      <imagedata fileref="img/1D2D/postp_08_style.png" />
                    </imageobject>
                  </mediaobject></entry>

                <entry>Ausgewählten Style löschen</entry>
              </row>
            </tbody>
          </tgroup>
        </table></para>

      <para>Wenn ein bereits verwendeter Style verändert wird, wirkt sich das
      auch schon auf vorhandene Ergebnisdarstellungen in der Karte aus. Soll
      ein neuer Style angelegt werden, kann ein bereits vorhandener Style
      selektiert und im Style-Manager bearbeitet werden. Dort muss nun im Feld
      "Style-Name" ein neuer Name eingegeben werden, unter dem der Style
      abgespeichert werden soll.</para>

      <para>Je nach Darstellungsform (Isolinien, Isoflächen) erscheint ein
      unterschiedliches Fenster. Generell hat der Benutzer die Möglichkeit den
      darzustellenden Wertebereich im oberen Bereich des Style-Managers
      anzupassen.</para>

      <figure>
        <title>Style bearbeiten oder neu erstellen</title>

        <mediaobject>
          <imageobject>
            <imagedata fileref="img/1D2D/postp_09_stylemanager.png" />
          </imageobject>
        </mediaobject>
      </figure>

      <para>Im unteren Bereich können die einzelnen Attribute für die Linien
      bzw. Farbflächen geändert werden. Für die Farbflächendarstellung erfolgt
      eine Interpolation dieser Attribute.</para>

      <para>Der Style Manager wird mit <guilabel>OK </guilabel>beendet.</para>

      <para>Der Assistent wird mit <guilabel> Finish</guilabel>
      beendet.</para>
    </section>

    <section id="Kalypso1D2DErgebniskarte_anzeigen">
      <title>Ergebniskarte anzeigen</title>

      <indexterm>
        <primary>Ergebniskarte anzeigen in Kalypso 1D2D</primary>
      </indexterm>

      <para>Um die Ergebnisse in einer Karte zu visualisieren, muss in der
      Ansicht " Aktivitäten" der Baum <guimenuitem>Postprocessing &gt;
      Kartenansicht</guimenuitem> geöffnet werden. Die Karte wird geöffnet,
      wenn <guimenuitem>Ergebniskarte anzeigen</guimenuitem> mit einem
      Doppelklick aktiviert wird. In der Ansicht "Gliederung" kann ausgewählt
      werden, welche Werte beziehungsweise Objekte angezeigt werden
      sollen.</para>

      <figure>
        <title>Ergebniskarte anzeigen</title>

        <mediaobject>
          <imageobject>
            <imagedata fileref="img/1D2D/postp_02b_ergebnisskarte.png" />
          </imageobject>
        </mediaobject>
      </figure>

      <para>Im Postprocessing können auch sämtliche Kartenansichten aus dem
      Preprocessing bis hin zu den importierten Grundlagenkarten angezeigt
      werden. Werden diese nicht benötigt, können sie genau wie die
      berechneten Ergebnisse in der Ansicht "Gliederung" mittels Checkbox
      deaktiviert werden. Des weiteren können die Ergebnis-Themen auch
      komplett aus der Kartenansicht gelöscht werden.</para>

      <figure>
        <title>Daten aus dem Preprocessing im Postprocessing anzeigen</title>

        <mediaobject>
          <imageobject>
            <imagedata fileref="img/1D2D/postp_05b_ergebnisskarte.png" />
          </imageobject>
        </mediaobject>
      </figure>

      <para>In <guilabel>Ergebniskarte anzeigen </guilabel>können Werte aus
      den TINs abgefragt werden.</para>

      <table>
        <title>Anzeigen von TIN Infos</title>

        <tgroup cols="2">
          <tbody>
            <row>
              <entry><mediaobject>
                  <imageobject>
                    <imagedata fileref="img/1D2D/postp_20_info.png" />
                  </imageobject>
                </mediaobject></entry>

              <entry>Zeigt per Cursor, die Werte des TIN´s an</entry>
            </row>
          </tbody>
        </tgroup>
      </table>

      <para>Der Benutzer wird nun aufgefordert das TIN-Thema in der Gliederung
      auszuwählen, dessen Werte angezeigt werden sollen.</para>

      <figure>
        <title>Aufforderung ein TIN- Thema zu aktivieren</title>

        <mediaobject>
          <imageobject>
            <imagedata fileref="img/1D2D/postp_21_info.png" />
          </imageobject>
        </mediaobject>
      </figure>

      <para>Ausgewählt wird das TIN-Thema mittels Linksklick auf den
      Schriftzug. Ein ausgewähltes Thema erscheint in der Ansicht "Gliederung"
      blau hinterlegt.</para>

      <figure>
        <title>Auswahl eines TIN-Themas</title>

        <mediaobject>
          <imageobject>
            <imagedata fileref="img/1D2D/postp_22_info.png" />
          </imageobject>
        </mediaobject>
      </figure>

      <para>Wenn der Mauscursor nun über die Karte gefahren wird, wird an den
      Stellen, an denen Ergebnisse vorhanden sind, die entsprechenden Werte
      angezeigt.</para>

      <figure>
        <title>Anzeigen von Werten</title>

        <mediaobject>
          <imageobject>
            <imagedata fileref="img/1D2D/postp_23_info.png" />
          </imageobject>
        </mediaobject>
      </figure>
    </section>

    <section id="Kalypso1D2DGanglinien">
      <title>Ganglinien erstellen</title>

      <indexterm>
        <primary>Ganglinien erstellen in Kalypso 1D2D</primary>
      </indexterm>

      <para></para>
    </section>
  </section>

  <section id="Kalypso1D2DLaengsschnittansicht">
    <title>Längsschnittansicht</title>

    <indexterm>
      <primary>Längsschnittansicht in Kalypso 1D2D</primary>
    </indexterm>

    <para>Sowohl für eindimensionale als auch für zweidimensionale Modelle
    können Längsschnitte erstellt und angezeigt werden. Für zweidimensionale
    Modellabschnitte muss zuvor eine Linien-shape-Datei importiert worden
    sein. Die shape Datei muss die Kilometrierung und den Verlauf der
    Gewässerachse enthalten.</para>

    <para>Die Konfiguration des Längsschnittes ist nur für zweidimensionale
    Modellbereiche erforderlich.</para>

    <section id="Kalypso1D2DLaengsschnitt_konfigurieren">
      <title>Längsschnitt konfigurieren</title>

      <indexterm>
        <primary>Längsschnitt konfigurieren in Kalypso 1D2D</primary>
      </indexterm>

      <para>Um einen Längsschnitt für ein zweidimensionales Modell zu
      konfigurieren, muss in der Ansicht " Aktivitäten" der Baum
      <guimenuitem>Postprocessing &gt; Längsschnittansicht</guimenuitem>
      geöffnet werden und<guilabel> Längsschnitt konfigurieren</guilabel> mit
      einem Doppelklick aktiviert werden.</para>

      <para>Im anschließenden Assistenten ist unter "Gewässerachse" zunächst
      die entsprechende Shape-Datei auszuwählen, welche die zu verwendende
      Gewässerachse enthält. Unter "Parameter" werden dann die entprechenden
      Spalten der Shape-Datei ausgewählt. Generell sollte das Thema ein
      Linienthema sein, welches aus mehreren Liniensegmenten bestehen kann.
      Zunächst muss die Tabellenspalte selektiert werden, die die vorhandenen
      Gewässer enthält (Gewässer-ID). Daraufhin wird die darunterliegende
      Auswahlliste mit den vohandenen Gewässern gefüllt.</para>

      <para>Für jedes Liniensegment muss ein Eintrag der Anfangsstation und
      Endstation vorhanden sein. Durch Selektion der Tabellenspalten, welche
      diese Informationen enthalten, werden die Werte ausgelesen.</para>

      <para>Abschließend muss die Stützpunktweite des Längsschnitts angegeben
      werden. Über den Knopf <guibutton>Next</guibutton> gelangt man zur
      Fortsetzung des Assistenten.</para>

      <figure>
        <title>Längsschnitteinstellungen</title>

        <mediaobject>
          <imageobject>
            <imagedata fileref="img/1D2D/postp_11_laengskonfig.png" />
          </imageobject>
        </mediaobject>
      </figure>

      <para>Im nächsten Assistenten muss der Benutzer auswählen, welches
      Ergebnis im Längsschnitt angezeigt werden soll.</para>

      <figure>
        <title>Ergebnis für Längsschnitt auswählen</title>

        <mediaobject>
          <imageobject>
            <imagedata fileref="img/1D2D/postp_12_laengskonfig.png" />
          </imageobject>
        </mediaobject>
      </figure>

      <para>Der Assistent wird mit <guilabel>Finish</guilabel> beendet.</para>

      <para>In der Ergebnisansicht ändert sich zunächst nichts. Wie der
      Längsschnitt visualisiert wird, wird im folgenden Abschnitt
      erläutert.</para>
    </section>

    <section id="Kalypso1D2DLaengsschnitt_anzeigen">
      <title>Längsschnitt anzeigen</title>

      <indexterm>
        <primary>Längsschnitt anzeigen in Kalypso 1D2D</primary>
      </indexterm>

      <para>Damit ein Längsschnitt angezeigt wird muss in der Ansicht
      "Aktivitäten" der Baum <guimenuitem>Postprocessing &gt;
      Längsschnittansicht</guimenuitem> geöffnet und<guilabel> Längsschnitt
      anzeigen</guilabel> mit einem Doppelklick aktiviert werden.</para>

      <para>Wenn es sich um ein zweidimensionales Modell handelt und im
      vorherigen Schritt alles richtig gemacht wurde, steht der zuvor
      konfigurierte Längsschnitt hier zur Auswahl.</para>

      <para>Bei einer eindimensionalen Rechnung wird der Längsschnitt
      automatisch erzeugt.</para>

      <figure>
        <title>Assistent zum Anzeigen eines Längsschnittes</title>

        <mediaobject>
          <imageobject>
            <imagedata fileref="img/1D2D/postp_13_laengsanz.png" />
          </imageobject>
        </mediaobject>
      </figure>

      <para>Der Assistent kann nun mit <guilabel>Finish</guilabel> beendet
      werden. Der Längsschnitt wird automatisch in der Feature View angezeigt.
      Die Ergebnisse werden grafisch als auch in einer Tabelle dargestellt.
      Über die Reiter kann zwischen den verschiedenen Ansichten gewechselt
      werden.</para>

      <figure>
        <title>Längsschnittansicht in Kalypso 1D2D</title>

        <mediaobject>
          <imageobject>
            <imagedata fileref="img/1D2D/Laengsschn_anzeigen.png" />
          </imageobject>
        </mediaobject>
      </figure>

      <para><emphasis role="bold">Funktionen des Diagramms</emphasis></para>

      <para>Neben den Standardfunktionen der Karte, die in der Einführung
      erläutert werden, gibt es für den Zoom noch zusätzliche Funktionalitäten
      um bestimmte Abschnitte des Diagramms zu betrachten. Wenn der Knopf
      <inlinemediaobject>
          <imageobject>
            <imagedata fileref="img/1D2D/Icon_Karte_zoomen.png" />
          </imageobject>
        </inlinemediaobject> aktiviert wird, dann erscheint der Mauszeiger als
      Kreuz. Nun gibt es folgende Möglichkeiten:</para>

      <itemizedlist>
        <listitem>
          <para>Standardzoom: Mit der gedrückten linken Maustaste ein Rechteck
          aufziehen. Nur der ausgewählte Abschnitt wird im gesamten Diagramm
          dargestellt.</para>
        </listitem>

        <listitem>
          <para>Vertikaler Zoom aller Achsen: Neben einer beliebigen Achse,
          außerhalb der Diagrammfläche, (Wasserspiegel, Geschwindigkeit oder
          Abfluss) mit der linken Maustaste klicken, gedrückt halten und dann
          senkrecht nach oben ziehen. Die Ansicht aller Achsen wird auf diesen
          ausgewählten Ausschnitt reduziert.</para>
        </listitem>

        <listitem>
          <para>Horizontaler Zoom: Unterhalb der Achse der Stationen mit der
          linken Maustaste klicken, gedrückt halten und waagerecht zur Seite
          ziehen. Die Ansicht wird vertikal nicht verändert, aber es werden
          nur die Stationen angezeigt, die innerhalb der Auswahl lagen.
          </para>
        </listitem>

        <listitem>
          <para>Nur eine Achse wird gezoomt (vertikal): Der Vorgang entspricht
          dem vertikalen Zoom aller Achsen, nur dass zusätzlich während des
          gesamten Vorgangs die <guibutton>Strg</guibutton>-Taste gedrückt
          gehalten werden muss. Dementsprechend wird nur die Achsendarstellung
          verändert/ gezoomt, neben der auch mit dem Mauszeiger geklickt
          wurde. </para>
        </listitem>
      </itemizedlist>

      <table align="center" id="symbolleiste im Profileditor wspm">
        <title>Funktionen der Tabelle des Längsschnittes</title>

        <tgroup align="center" cols="3">
          <colspec colwidth="1*" />

          <colspec colwidth="2*" />

          <colspec colwidth="5*" />

          <tbody>
            <row>
              <entry><figure>
                  <mediaobject>
                    <imageobject>
                      <imagedata align="center"
                                 fileref="img/1D2D/Icon_Tabelle_kopieren.png"
                                 scale="110" valign="middle" />
                    </imageobject>
                  </mediaobject>
                </figure></entry>

              <entry align="left" valign="middle">Tabelle kopieren</entry>

              <entry align="left" valign="middle">Wenn dieser Knopf betätigt
              wird und kein Eintrag markiert ist, dann wird die gesamte
              Tabelle in den Zwischenspeicher abgelegt und kann z. B. in Word
              kopiert werden. Wenn vorher ein Eintrag markiert wurde, dann
              wird nur dieser eine Eintrag in den Zwischenspeicher
              abgelegt.</entry>
            </row>

            <row>
              <entry><figure>
                  <mediaobject>
                    <imageobject>
                      <imagedata align="center"
                                 fileref="img/1D2D/Icon_Tabelle_loeschen.png"
                                 scale="110" valign="middle" />
                    </imageobject>
                  </mediaobject>
                </figure></entry>

              <entry align="left" valign="middle">Eintrag löschen</entry>

              <entry align="left" valign="middle">Um einen Eintrag in der
              Tabelle zu löschen, muss dieser zunächst markiert werden. Durch
              Betätigung des Knopfes wird dieser dann gelöscht.</entry>
            </row>
          </tbody>
        </tgroup>
      </table>
    </section>
  </section>

  <section id="Kalypso1D2DDifferenzenbildung">
    <title>Differenzenbildung</title>

    <indexterm>
      <primary>Differenzenbildung in Kalypso 1D2D</primary>
    </indexterm>

    <para>Kalypso1D2D stellt die Funktion Differenzen zu bilden zur
    Verfügung.</para>

    <section id="Kalypso1D2DDifferenzen_erzeugen">
      <title>Differenzen erzeugen</title>

      <indexterm>
        <primary>Diffenrenzen erzeugen in Kalypso 1D2D</primary>
      </indexterm>

      <para>Um eine Differenz bilden zu können, muss in der Ansicht "
      Aktivitäten" der Baum <guimenuitem>Postprocessing &gt;Differenzenbildung
      </guimenuitem>geöffnet werden. Wenn <guilabel>Differenzen
      erzeugen</guilabel> mit einem Doppelklick aktiviert wird, öffnet sich
      der zugehörige Assistent für die Differenzenbildung. Als erstes wird der
      Minuend ausgewählt. Anschließend wird der Assistent mit
      <guibutton>Next</guibutton> fortgesetzt.</para>

      <figure>
        <title>Assistent zur Auswahl des Minuenden</title>

        <mediaobject>
          <imageobject>
            <imagedata fileref="img/1D2D/postp_15_minuend.png" />
          </imageobject>
        </mediaobject>
      </figure>

      <para>Nun muss der Subtrahend ausgewählt werden.</para>

      <figure>
        <title>Assistent zur Auswahl des Subtrahenden</title>

        <mediaobject>
          <imageobject>
            <imagedata fileref="img/1D2D/postp_16_subtrahent.png" />
          </imageobject>
        </mediaobject>
      </figure>

      <para>Anschließend ist noch der Ort auszuwählen, an dem die Differenz
      abgelegt werden soll.</para>

      <figure>
        <title>Ziel auswählen</title>

        <mediaobject>
          <imageobject>
            <imagedata fileref="img/1D2D/postp_17_diff.png" />
          </imageobject>
        </mediaobject>
      </figure>

      <para>Die Differenz wird als zusätzliches Ergebnis abgelegt und kann
      über die Funktion <guilabel>Ergebniskarte konfigurieren</guilabel> in
      die Karte geladen werden. Wenn nun in der Ansicht "Aktivitäten" der Baum
      <guimenuitem>Postprocessing &gt; Kartenansicht </guimenuitem>geöffnet
      wird und <guimenuitem>Ergebniskarte konfigurieren</guimenuitem> mit
      einem Doppelklick aktiviert wird, ist in dem Assistenten die neu
      erzeugte Differenz zu sehen.</para>

      <figure>
        <title>Differnz in Ergebniskarte laden</title>

        <mediaobject>
          <imageobject>
            <imagedata fileref="img/1D2D/postp_18_diffanz.png" />
          </imageobject>
        </mediaobject>
      </figure>

      <para>Jetzt kann die Differenz in der Karte angezeigt werden (Siehe
      <link linkend="???">1.2 Ergebniskarte anzeigen)</link> Die Differenz
      kann in der Ansicht "Gliederung" mittels Checkbox aktiviert
      beziehungsweise deaktiviert werden.</para>

      <figure>
        <title>Anzeigen einer selbst erstellten Differenz in der Karte</title>

        <mediaobject>
          <imageobject>
            <imagedata fileref="img/1D2D/postp_19_diffanz.png" />
          </imageobject>
        </mediaobject>
      </figure>
    </section>
  </section>
</chapter>