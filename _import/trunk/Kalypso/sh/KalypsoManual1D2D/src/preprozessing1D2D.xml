<?xml version="1.0" encoding="UTF-8"?>
<chapter id="Kalypso1D2DPreprocessing">
  <title>Preprocessing - Modellaufbau</title>

  <indexterm>
    <primary>Preprocessing Kalypso1D2D</primary>
  </indexterm>

  <para>Nach der Datenaufbereitung im betrachteten Gewässer kann mit dem
  eigentlichen Modellaufbau begonnen werden. Hierbei werden folgende
  Teilschritte bearbeitet:</para>

  <orderedlist>
    <listitem>
      <para>Daten laden</para>
    </listitem>

    <listitem>
      <para>Netzaufbau</para>
    </listitem>

    <listitem>
      <para>Rauheitsmodellierung</para>
    </listitem>
  </orderedlist>

  <section id="Kalypso1D2DDatenLaden">
    <title>Daten laden</title>

    <indexterm>
      <primary>Daten einladen in Kalypso1D2D</primary>
    </indexterm>

    <para>Der erste Schritt zum Modellaufbau besteht darin, die benötigten
    Grundlagendaten in das Projekt zu integrieren.</para>

    <section id="Kalypso1D2DImportBackgroundmaps">
      <title>Import von Hintergrundkarten</title>

      <indexterm>
        <primary>Hintergrundkarten Kalypso 1D2D</primary>
      </indexterm>

      <para>Es gibt drei Möglichkeiten Hintergrundinformationen für die
      Modellierung bereitzustellen:</para>

      <itemizedlist>
        <listitem>
          <para>georeferenzierte <filename>*.tif</filename> oder
          <filename>*.jpg</filename> Dateien importieren</para>
        </listitem>

        <listitem>
          <para>Esri Shape Files importieren oder</para>
        </listitem>

        <listitem>
          <para>einen Web-Map-Service einbinden.</para>
        </listitem>
      </itemizedlist>

      <para>Gegebenenfalls kann auch mehr als nur eine Möglichkeit genutzt
      werden. Um mehrere Hintergrunddaten zu laden, muss die Aktivität erneut
      angesteuert werden.</para>

      <para>Um Hintergrundinformationen bereitzustellen, öffnen Sie in der
      Ansicht "Aktivitäten" den Baum <guimenu>Preprocessing &gt; Daten
      laden</guimenu>. Aktivieren Sie <guibutton>Import von
      Hintergrundkarten</guibutton> mit einem Doppelklick. Ein Assistent
      öffnet sich und führt Sie durch die Möglichkeiten der Dateneinbindung.
      Hierbei ist zunächst die Art der einzubindenden Daten auszuwählen. Wenn
      Sie sich für eine Option entschieden haben, klicken Sie anschließend auf
      den Knopf <guibutton>Weiter</guibutton>.</para>

      <figure>
        <title>Assistent zum Import von Hintergrundkarten</title>

        <mediaobject>
          <imageobject>
            <imagedata fileref="img/1D2D/Import_Hintergrundkarten.png" />
          </imageobject>
        </mediaobject>
      </figure>

      <section id="Kalypso1D2DImportBackgroundmaps_TIF_JPG">
        <title>Import von Hintergrunddaten in den Formaten TIF oder
        JPG</title>

        <indexterm>
          <primary>Hintergrunddatenimport in den Formaten TIF und JPG in
          Kalypso1D2D</primary>
        </indexterm>

        <para>Bei der Auswahl von <filename>*.tif</filename> oder
        <filename>*.jpg</filename> Daten ist neben der Angabe des Datenfiles
        die Angabe des Ursprungkoordinatensystems der Geodaten erforderlich.
        Es ist darauf zu achten, dass lediglich georeferenzierte Daten
        integriert werden können. Dies bedeutet, dass neben den Daten selbst
        ein World File existieren muss.</para>

        <para>Im folgenden Schritt müssen die Hintergrunddaten ausgewählt
        werden. Klicken Sie hierfür auf den Knopf
        <guibutton>Durchsuchen...</guibutton>, wählen Sie das entsprechende
        Bild mit zugehörigem Ursprungkoordinatensystem (z.B. EPSG: 31467) aus
        und klicken Sie dann auf <guibutton>Fertig stellen</guibutton>.</para>

        <para>Der Vorgang kann wiederholt werden, wenn die Hintergrundkarte
        aus mehreren Bildern besteht.</para>

        <para>Diese Art des Datenimports emfpiehlt sich nicht für das Anzeigen
        großer Mengen an Hintergrundkarten und -dateien. Bei flächendeckender
        Kartendarstellung sollte ein MAP-Service (siehe <xref
        linkend="Kalypso1D2DImportBackgroundmaps_WebMapService" />) verwendet
        werden.</para>

        <figure>
          <title>Assistent zum Import von Hintergrundkarten in den Formaten
          TIF oder JPG</title>

          <mediaobject>
            <imageobject>
              <imagedata fileref="img/1D2D/Import_Hintergrundkarten_tif_jpg.png" />
            </imageobject>
          </mediaobject>
        </figure>
      </section>

      <section id="Kalypso1D2DImportBackgroundmaps_SHP">
        <title>Import von Hintergrunddaten in den Formaten Esri(tm)
        SHP</title>

        <indexterm>
          <primary>Hintergrunddatenimport in den Formaten Esri(tm) SHP in
          Kalypso1D2D</primary>
        </indexterm>

        <para>Bei der Auswahl von <filename>*.shp</filename> ist neben der
        Angabe des Datenfiles die Angabe des Ursprungkoordinatensystems der
        Geodaten erforderlich. Shape-Daten können sowohl reinen
        Hintergrundcharakter als auch Datencharakter haben. Folgende
        Bearbeitungstools benötigen den Shape- Import:</para>

        <itemizedlist>
          <listitem>
            <para>Flussschlauchgenerator: Uferlinien als zusammenhängende
            Polylinie</para>
          </listitem>

          <listitem>
            <para>Längsschnittdarstellung bei zweidimensionalen Bereichen:
            Gewässerverlauf mit Stationierung</para>
          </listitem>
        </itemizedlist>

        <para>Im folgenden Schritt müssen die Hintergrunddaten ausgewählt
        werden. Klicken Sie hierfür auf den Knopf
        <guibutton>Durchsuchen...</guibutton>, wählen Sie die entsprechende
        Shapedatei mit zugehörigem Ursprungkoordinatensystem (z.B. EPSG:
        31467) aus und klicken Sie dann auf <guibutton>Fertig
        stellen</guibutton>.</para>

        <figure>
          <title>Assistent zum Import von Hintergrundkarten im Format
          SHP</title>

          <mediaobject>
            <imageobject>
              <imagedata fileref="img/1D2D/Import_Hintergrundkarten_shp.png" />
            </imageobject>
          </mediaobject>
        </figure>
      </section>

      <section id="Kalypso1D2DImportBackgroundmaps_WebMapService">
        <title>Web-Map-Service einbinden</title>

        <indexterm>
          <primary>Einbinden eines Web-Map-Services in Kalypso1D2D</primary>
        </indexterm>

        <para>Bei der Einbindung des Web-Map-Services muss lediglich die URL
        des Servers angegeben werden. Es wird eine Verbindung zu der
        angegebenen URL erstellt und eine Liste der verfügbaren Themen
        bereitgestellt. Der Anwender ist dazu aufgefordert die entsprechenden
        Themen des Servers der Kartenansicht hinzuzufügen. Diese erscheinen
        später als Einzellayer in der Karte, sofern die Option
        <guilabel>Themen zusammenfassen</guilabel> nicht gewählt wurde.</para>

        <para>Nach dem Import der Daten wird zugleich die Basiskarte mit den
        vorhandenen Layern in der Gliederungsansicht geöffnet.</para>

        <figure>
          <title>Assistent zum Einbinden des Web-Map-Service</title>

          <mediaobject>
            <imageobject>
              <imagedata fileref="img/1D2D/Import_Hintergrundkarten_wms.png" />
            </imageobject>
          </mediaobject>
        </figure>
      </section>
    </section>

    <section id="Kalypso1D2DImportDHM">
      <title>Import von Höhendaten</title>

      <indexterm>
        <primary>Höhendaten Kalypso 1D2D</primary>
      </indexterm>

      <para>Das Höhenmodell dient in der späteren Netzbearbeitung der
      Zuweisung von Knotenhöhen. Es können Höhendaten in den Formaten
      <filename>*.hmo</filename> (spezielles TIN Format- Triangular Irrgulated
      Network), <filename>*.asg</filename> und <filename>*.asc
      </filename>(Ascii-GRID) verwendet werden. Die <filename>*.hmo</filename>
      Datei kann im Programm ArcView oder ArcGis mit der Extension tin2hmo
      (frei verfügbar unter <ulink
      url="http://ibpm.björnsen.de/cms/">http://ibpm.björnsen.de/cms/</ulink>
      ) aus einem bestehenden TIN erstellt werden.</para>

      <para>Um Höhendaten zu importieren, öffnen Sie in der Ansicht
      "Aktivitäten" den Baum <guimenuitem>Preprocessing &gt; Daten
      laden</guimenuitem>. Aktivieren Sie <guimenu>Import von
      Höhendaten</guimenu> mit einem Doppelklick, um den Assistenten zur
      Einbindung von Höhendaten zu öffnen. Dieser erfordert lediglich die
      Angabe der Datendatei und wiederum des Ursprungkoordinatensystems.
      Sinnvoll ist es zudem das Höhenmodell zu bezeichnen und ggf. eine
      längere Beschreibung hinzuzufügen. Bei der späteren Bearbeitung wird so
      eine Unterscheidung der Höhenmodelle (falls mehrere vorhanden sind)
      einfach ermöglicht. Erfolgt die Angabe des Namens nicht, so wird zur
      Unterscheidung der Modelle automatisch der Dateiname verwendet. Bei
      Verwendung von GRID-Höhenmodellen ist davon abzuraten hohe Mengen an
      Daten zu laden.</para>

      <para>Zunächst müssen im Assistenten die Höhendaten ausgewählt werden.
      Benutzen Sie hierfür den Knopf <guibutton>Durchsuchen...</guibutton>,
      wählen Sie die entsprechende <filename>*.hmo</filename> Datei und das
      zugehörige Koordinatensystem aus. Standardmäßig ist hier EPSG:31467
      voreingestellt. Wenn Sie einen Namen und ggf. eine Beschreibung
      eingegeben haben, klicken Sie auf den Knopf <guibutton>Fertig
      stellen</guibutton>.</para>

      <figure>
        <title>Assistent zum Import von Höhendaten</title>

        <mediaobject>
          <imageobject>
            <imagedata fileref="img/1D2D/Import_Hoehendaten.png" />
          </imageobject>
        </mediaobject>
      </figure>

      <para>Nach der erfolgreichen Einbindung des Höhenmodelles wird es in der
      Basiskarte angezeigt. Durch die <guimenu>Edit-Optionen</guimenu> am
      rechten Fensterrand ist eine Auswahl der Höhenmodelle und die
      Bearbeitung der Farbskala verfügbar. In der Karte wird über den
      Mauszeiger die aktuelle Höhe der Punkte dargestellt.</para>
    </section>

    <section id="Kalypso1D2DImportRoughness">
      <title>Import von Rauheitsshapes</title>

      <indexterm>
        <primary>Rauheitsshapes Kalypso 1D2D</primary>
      </indexterm>

      <para>Die Rauheiten müssen zunächst bei der Gewässerbegehung aufgenommen
      und entsprechend in einem Polygonthema aufgearbeitet werden. Hierauf
      basierend können in der Rauheitszuweisung den 2D Elementen entsprechende
      Attribute zugewiesen werden.</para>

      <para>Um Rauheitsshapes zu importieren, öffnen Sie in der Ansicht
      "Aktivitäten" den Baum <guimenuitem>Preprocessing &gt; Daten
      laden</guimenuitem>. Aktivieren Sie <guimenu>Import von
      Rauheitsshapes</guimenu> mit einem Doppelklick, um den zugehörigen
      Assistenten zu öffnen. Zunächst müssen die Rauheitsdaten im Shape Datei
      Format importiert werden. Gehen Sie hierfür auf den Knopf
      <guibutton>Durchsuchen...</guibutton> und wählen sie die entsprechende
      <filename>*.shp</filename> Datei aus. Nun erscheint bei dem
      Rauheitsattribut ein Pull Down Menü das die verschiedenen Spalten der
      Attribut Tabelle der ausgewählten Shape Datei anzeigt. Wählen Sie die
      Spalte aus, welche die Rauheitsklassifizierung der Polygone enthält.
      Anschließend muss wieder das zugehörige Ursprungkoordinatensystem
      ausgewählt werden und der Layertyp der Shape Datei (der Layertyp ist
      später für die Rauheitsmodellierung wichtig. Siehe <xref
      linkend="Kalypso1D2DRauheitsmodellierung_RauheitszonenBearbeiten" />).
      Betätigen Sie nun den Knopf <guibutton>Weiter</guibutton>.</para>

      <note>
        <para>Grundsätzlich müssen die Rauheitszonen nicht mit z.B. ArcView
        GIS vorbereitet werden. Dies ist jedoch wegen der umfangreichen
        GIS-Bearbeitungswerkzeuge zu empfehlen.</para>
      </note>

      <figure>
        <title>Assistent zum Import von Rauheitsdaten</title>

        <mediaobject>
          <imageobject>
            <imagedata fileref="img/1D2D/Import_Rauheitsshapes.png" />
          </imageobject>
        </mediaobject>
      </figure>

      <para>Im nächsten Fenster des Assistenten werden auf der linken Seite
      die in der gewählten Spalte der Shape Datei vorhandenen Bezeichnungen
      der Rauheitspolygone dargestellt (Einträge der ausgewählten
      Rauheitsattribut-Spalte). Sie müssen diese einer in der
      Rauheitsdatenbank (siehe <xref
      linkend="Kalypso1D2DRauheitsmodellierung" />) vorhandenen Klasse
      zuordnen (z.B. im Fluss ist eine Sohlschüttung vorhanden und auf dem
      Vorland findet man "Gras mit lockerem Baumbewuchs", etc.). Sollten sich
      in der Rauheitsdatenbank nicht alle notwendigen Klassen befinden, so
      sind diese zunächst anzulegen und der Import der Rauheitspolygone muss
      abgebrochen werden. Um den Import der Rauheitsshapes abzuschließen,
      betätigen Sie den Knopf <guibutton>Fertig stellen</guibutton>.</para>

      <para>Nach dem Import der Shape Daten wird eine neue Karte mit dem Namen
      Rauheitszonen geöffnet.</para>

      <figure>
        <title>Assistent zur Zuordnung der Rauheiten</title>

        <mediaobject>
          <imageobject>
            <imagedata fileref="img/1D2D/Import_Rauheitsshapes_zuordnen.png" />
          </imageobject>
        </mediaobject>
      </figure>
    </section>

    <section id="Kalypso1D2DImportTimeseries">
      <title>Import von Zeitreihen</title>

      <indexterm>
        <primary>Zeitreihen Kalypso 1D2D</primary>
      </indexterm>

      <para>Zeitreihen werden im Falle einer instationären Berechnung für die
      Definition der entsprechenden Q- oder W- Randbedingungen sowie Quellen-
      und Senkentermen benötigt. Die Daten können aus den Formaten
      <filename>*.zrx</filename>, <filename>*.csv</filename>,
      <filename>*.grap</filename>, <filename>*.dat</filename> in das Kalypso
      interne Zeitreihenformat <filename>*.zml</filename> importiert werden.
      Neben der Zeitreihendatei muss hierzu das Format und der Datentyp
      angegeben werden. Entsprechend dieser Metadaten wird dann eine Zeitreihe
      erstellt.</para>

      <para>Um Zeitreihen zu importieren öffnen Sie in der Ansicht
      "Aktivitäten" den Baum <guimenuitem>Preprocessing &gt; Daten
      laden</guimenuitem>. Aktivieren Sie <guimenuitem>Import von
      Zeitreihen</guimenuitem> mit einem Doppelklick, um den zugehörigen
      Assistenten zu öffnen. Zunächst müssen die Zeitreihendaten ausgewählt
      werden. Gehen Sie hierfür auf den Knopf
      <guibutton>Durchsuchen...</guibutton> und wählen Sie die entsprechende
      <filename>*.zrx</filename>, <filename>*.csv</filename>,
      <filename>*.grap</filename> oder <filename>*.dat</filename> Datei aus.
      In dem Pulldownmenü muss das zugehörige Format ausgewählt werden in dem
      die Datei vorliegt.</para>

      <para>Die angegebenen Optionen müssen lediglich berücksichtigt werden,
      wenn man eine Zeitreihe zum zweiten mal importiert, d.h. aktualisiert.
      Sie haben dann die Möglichkeit die Metadaten beizubehalten und die
      aktualisierten Werte hinzuzufügen anstatt sie zu überschreiben.</para>

      <para>Anschließend können Sie entweder den Import abschließen, indem Sie
      auf den Knopf <guibutton>Fertig stellen</guibutton> klicken, oder Sie
      klicken erst auf den Knopf <guibutton>Weiter</guibutton> und gelangen
      zum zweiten Fenster des Assistenten. In diesem Fenster ist die Vorschau
      der Achsenzuordnung zu sehen (Hinweis: die Achsenbeschriftung kann
      derzeit nicht geändert werden).</para>

      <figure>
        <title>Assistent zum Import von Zeitreihendaten</title>

        <mediaobject>
          <imageobject>
            <imagedata fileref="img/1D2D/import_zeitreihen.png" />
          </imageobject>
        </mediaobject>
      </figure>

      <para>Die Ansicht Zeitreihen Repositories wird der Kalypso1D2D
      Oberfläche hinzugefügt:</para>

      <figure>
        <title>Zeitreihenansicht</title>

        <mediaobject>
          <imageobject>
            <imagedata fileref="img/1D2D/Zeitreihen.png" />
          </imageobject>
        </mediaobject>
      </figure>

      <para>Die importierten Zeitreihen können über ein lokales
      Zeitreihenrepository eingesehen werden. Hierzu ist beim ersten Aufruf im
      Zeitreihenbrowser ein neues Repository anzulegen. Die Zeitreihen des
      aktuellen Projektes befinden sich im Projektverzeichnis unter
      <filename>\imports\timeseries</filename>. Die im Repository vorhandenen
      Zeitreihen werden durch die Selektion in der Tabellen und
      Diagrammansicht dargestellt.</para>
    </section>

    <section id="Kalypso1D2DImportProf">
      <title>Import von Profildaten (Trippel)</title>

      <indexterm>
        <primary>Profildaten Kalypso 1D2D</primary>

        <secondary>Trippel 1D2D</secondary>
      </indexterm>

      <para>Zur Anwendung des Flussschlauchgenerators sind Profildaten
      erforderlich. Die Aufgabe <guimenuitem>Import von
      Profildaten</guimenuitem> stellt eine Schnittstelle zum Import dieser
      Profildaten im Trippelformat dar. Hierzu sind die Profildaten in einer
      Textdatei im folgenden Format aufzubereiten:</para>

      <para>Fluss-Km; x-Koordinate; y-Koordinate; z-Koordinate</para>

      <para>Beispiel:</para>

      <para>58.450;3552967.118;5986894.321;6.180</para>

      <para>58.450;3552965.851;5986894.031;6.650</para>

      <para>58.450;3552964.165;5986893.644;6.170</para>

      <para>58.450;3552958.685;5986892.387;5.070</para>

      <para>58.450;3552956.793;5986891.953;5.940</para>

      <para>58.450;3552955.954;5986891.761;4.980</para>

      <para>Um Profildaten zu importieren öffnen Sie in der Ansicht
      "Aktivitäten" den Baum <guimenuitem>Preprocessing &gt; Daten
      laden</guimenuitem>. Der zugehörige Assistent öffnet sich, wenn Sie
      <guimenu>Import von Profildaten</guimenu> mit einem Doppelklick
      aktivieren. Klicken Sie im Assistenten auf
      <guibutton>Durchsuchen...</guibutton> und wählen Sie die entsprechende
      <filename>*.txt </filename>Datei aus. Anschließend ist das zugehörige
      Koordinatensystem zu bestimmen. Um den Import abzuschließen, klicken Sie
      auf <guibutton>Fertig stellen</guibutton>.</para>

      <figure>
        <title>Assistent zum Import von Profildaten</title>

        <mediaobject>
          <imageobject>
            <imagedata fileref="img/1D2D/import_profildaten.png" />
          </imageobject>
        </mediaobject>
      </figure>

      <para>Indem Sie in der Hauptmenüleiste auf <guimenuitem>Window &gt; Show
      View &gt; Other...</guimenuitem> klicken und im Fenster die
      <guimenu>Diagrammansicht</guimenu> auswählen, können Sie sich Profile
      anzeigen lassen.</para>

      <figure>
        <title>Assistent zur Anzeige von Profilen</title>

        <mediaobject>
          <imageobject>
            <imagedata fileref="img/1D2D/profil_view.png" />
          </imageobject>
        </mediaobject>
      </figure>

      <figure>
        <title>Profilansicht</title>

        <mediaobject>
          <imageobject>
            <imagedata fileref="img/1D2D/Profilansicht.png" />
          </imageobject>
        </mediaobject>
      </figure>

      <para>Das Laden der Daten ist nun abgeschlossen. Es kann ausgewählt
      werden welche Daten in der Karte angezeigt werden sollen. Dies geschieht
      in der Ansicht "Gliederung (Map)". Die Punkte die dort mittels des
      grünen Häkchens ausgewählt sind werden in der Ansicht "FE-Netz"
      dargestellt.</para>

      <figure>
        <title>Beispielansicht wenn alle Daten eingeladen worden sind</title>

        <mediaobject>
          <imageobject>
            <imagedata fileref="img/1D2D/Import_abgeschlossen_Ansicht.png" />
          </imageobject>
        </mediaobject>
      </figure>
    </section>
  </section>

  <section id="Kalypso1D2DNetzaufbau">
    <title>Netzaufbau</title>

    <indexterm>
      <primary>Netrzaufbau Kalypso 1D2D</primary>
    </indexterm>

    <para>Der Netzaufbau gliedert sich in die Erstellung des 1D Netzes, des 2D
    Netzes sowie der Berechnungseinheiten und Randbedingungen.</para>

    <section id="Kalypso1D2DNetzaufbau_1DGewaessernetz">
      <title>1D-Gewässernetz</title>

      <indexterm>
        <primary>Gewässernetz Kalypso 1D2D</primary>
      </indexterm>

      <para>Das 1D-Gewässernetz wird durch Knoten und Kanten dargestellt. Ein
      1D Element besteht aus 2 Knoten und die verbindende Kante. An den
      Knoten, welche jeweils eine Profilstation darstellen, werden die
      Parameter angesetzt. Wahlweise kann die Berechnung auf Grundlage von
      bereits in KalypsoWSPM erstellten Polynomfunktionen (oder zu
      erstellenden einfachen Kanalprofilen durchgeführt werden).</para>

      <section id="Kalypso1D2DWSPMimport">
        <title>WSPM Modell</title>

        <indexterm>
          <primary>WSPM Modell Kalypso 1D2D</primary>
        </indexterm>

        <para>In einem WSPM-Projekt muss der eindimensional zu simulierende
        Abschnitt des Gewässers bereits modelliert und eine Berechnung mit
        konstantem Reibungsgefälle zur Erstellung der Polynomfunktionen
        durchgeführt worden sein. Die Daten einer Berechnungsvariante eines
        WSPM-Projektes können dann ein ein 1D2D Projekt importiert
        werden.</para>

        <para>Der KalypsoWSPM Import Assistent fordert von dem Anwender
        zunächst die Auswahl des entsprechenden Projektes aus dem
        Arbeitsverzeichnis. In dem Datenbaum des ausgewählten Projektes muss
        anschließend aus den WSPM Berechnungen die entsprechende
        Berechnungsvariante ausgewählt werden.</para>

        <para>Öffnen Sie hierfür in der Ansicht "Aktivitäten" den Baum
        <emphasis role="bold"><guimenuitem>Preprocessing &gt; Netzaufbau &gt;
        1D-Gewässernetz &gt; Fremddaten importieren</guimenuitem></emphasis>.
        Aktivieren Sie nun mit einem Doppelklick <guimenuitem>WSPM
        Modell</guimenuitem>. Es öffnet sich der KalypsoWSPM Import Assistent.
        Klicken Sie auf <guibutton>Durchsuchen...</guibutton> und wählen Sie
        die entsprechende <filename>*.gml</filename> Datei aus. Klicken Sie
        auf die gewünschte Berechnungsvariante und schließen Sie den Import
        ab, indem sie auf den Knopf <guibutton>Fertig stellen</guibutton>
        klicken.</para>

        <figure>
          <title>Assistent zum Import eines WSPM- Modells</title>

          <mediaobject>
            <imageobject>
              <imagedata fileref="img/1D2D/import_wspm2.png" />
            </imageobject>
          </mediaobject>
        </figure>

        <para>Nach dem Beenden des Assistenten werden die kompletten Daten
        dieser WSPM Berechnung in das 1D2D Modell importiert. Hierbei wird
        neben den Ergebnissen (Polynomfunktionen) auch die Profilgeometrie
        importiert und zur Netzgeometrie zusammengefasst. Nach dem Import der
        Projektdaten wird das importierte Netz mit den Netzparametern in der
        FE-Netz Karte dargestellt. Der 1D-FE-Knoten wird an der Position des
        tiefsten Punktes im Profil verankert.</para>

        <figure>
          <title>Ansicht eines importierten WSPM- Modells in der Karte</title>

          <mediaobject>
            <imageobject>
              <imagedata fileref="img/1D2D/wspm_importiert.png" />
            </imageobject>
          </mediaobject>
        </figure>

        <section id="Kalypso1D2DNetzaufbau_1DGewassernetz_Profile">
          <title>Profile in Karte anzeigen</title>

          <indexterm>
            <primary>Profile in der Karte anzeigen in Kalypso1D2D</primary>
          </indexterm>

          <para>Sollen die Profildaten der importierten WSPM Berechnung
          ebenfalls in der FE-Netz Karte angezeigt werden (sie werden für die
          Berechnung nicht benötigt und dienen lediglich der
          Hintergrundinformation), so ist die Auswahl der bereits importierten
          Berechnungsvariante erforderlich. Sind die Profile in der Karte
          dargestellt, so kann über das Kartenmenü <guimenuitem>Profil
          selektieren und in Karte anzeigen </guimenuitem>auch die Anzeige
          eines selektierten Profils in einer Profilansicht erfolgen.</para>

          <para>Öffnen Sie hierfür in der Ansicht "Aktivitäten" den Baum
          <guimenuitem>Preprocessing &gt; Netzaufbau &gt; 1D-Gewässernetz &gt;
          Fremddaten importieren</guimenuitem>. Aktivieren Sie
          <guimenuitem>Profile in Karte anzeigen</guimenuitem> mit einem
          Doppelklick und der zugehörige Assistent wird geöffnet. Markieren
          Sie das Profilthema, das Sie in der Karte anzeigen möchten und
          klicken Sie dann auf <guibutton>OK</guibutton>.</para>

          <figure>
            <title>Assistent um Profile in die Karte zu laden</title>

            <mediaobject>
              <imageobject>
                <imagedata fileref="img/1D2D/profile_anzeigen.png" />
              </imageobject>
            </mediaobject>
          </figure>

          <para>Eine weitere Möglichkeit ein eingeladenes Profil in der
          Diagrammansicht zu öffnen ist über das FE-Netz. Aktivieren Sie
          hierfür die Ansicht, indem Sie auf den Reiter FE-Netz klicken.
          Dieser sollte sich nun blau färben. Die Symbolleiste für diese
          Ansicht ist nun ebenfalls aktiv. Wählen Sie nun das Symbol
          <inlinemediaobject>
              <imageobject>
                <imagedata fileref="img/1D2D/Button_profil_selektieren.png" />
              </imageobject>
            </inlinemediaobject> und selektieren Sie das gewünschte
          Profil.</para>

          <figure>
            <title>Diagrammansicht der Profile</title>

            <mediaobject>
              <imageobject>
                <imagedata fileref="img/1D2D/profile_anzeigen2.png" />
              </imageobject>
            </mediaobject>
          </figure>
        </section>
      </section>

      <section id="Kalypso1D2DNetzaufbau_bearbeiten">
        <title>Netz bearbeiten</title>

        <indexterm>
          <primary>Netz Kalypso 1D2D</primary>
        </indexterm>

        <para>Um ein 1D Netz zu bearbeiten, öffnen Sie in der Ansicht
        "Aktivitäten" den Baum <guimenuitem>Preprocessing &gt; Netzaufbau &gt;
        1D-Gewässernetz</guimenuitem>. Aktivieren Sie <guimenuitem>Netz
        bearbeiten</guimenuitem> mit einem Doppelklick und die zugehörigen
        Kartenfunktionen werden angezeigt. Die Netzbearbeitung ermöglicht das
        Neuzeichnen, Löschen und Editieren von 1D Elementen.</para>

        <note>
          <para>Die Funktionen <guimenuitem>Netz bearbeiten</guimenuitem> und
          <guimenuitem>Netzparameter bearbeiten</guimenuitem> sind derzeit
          noch nicht implementiert. Die 1D Modellierung sollte in WSPM
          durchgeführt werden. Die Darstellung dient lediglich der
          Ansicht.</para>
        </note>

        <table>
          <title>Kartenfunktionen um ein 1D-Gewässernetz zu bearbeiten</title>

          <tgroup align="left" arch="" char="" charoff="" class="" cols="3">
            <colspec colwidth="1*" />

            <colspec colwidth="2*" />

            <colspec colwidth="5*" />

            <tbody>
              <row>
                <entry><mediaobject>
                    <imageobject>
                      <imagedata align="center"
                                 fileref="img/1D2D/Netz_bearbeiten_Icon_erzeugen.png"
                                 width="" />
                    </imageobject>
                  </mediaobject></entry>

                <entry align="left" valign="middle">1D Element(e)
                erzeugen</entry>

                <entry align="left" valign="middle">Drücken Sie den Knopf und
                klicken Sie mit der linken Maustaste beliebig oft in die
                Karte. Mit einem Doppelklick beenden Sie die Kette von 1D
                Elementen.</entry>
              </row>

              <row>
                <entry><mediaobject>
                    <imageobject>
                      <imagedata fileref="img/1D2D/Netz_bearbeiten_Icon_loeschen.png" />
                    </imageobject>
                  </mediaobject></entry>

                <entry align="left" valign="middle">1D Element(e)
                löschen</entry>

                <entry align="left" valign="middle">Drücken Sie zunächst den
                Knopf und selektieren Sie dann die 1D Elemente, die Sie
                entfernen möchten. Alle selektierten Elemente werden rot
                dargestellt. Drücken Sie auf Entf und die selektierten
                Elemente werden gelöscht.</entry>
              </row>

              <row>
                <entry><mediaobject>
                    <imageobject>
                      <imagedata fileref="img/1D2D/Netz_bearbeiten_Icon_bewegen.png" />
                    </imageobject>
                  </mediaobject></entry>

                <entry align="left" valign="middle">Knoten bewegen</entry>

                <entry align="left" valign="middle">Drücken Sie den Knopf und
                selektieren Sie mit der Snapfunktion den Knoten, den Sie
                verschieben möchten. Halten Sie die linke Maustaste gedrückt
                und verschieben Sie den Knoten an die gewünschte
                Stelle.</entry>
              </row>
            </tbody>
          </tgroup>
        </table>
      </section>

      <section id="Kalypso1D2DNetzaufbau_Parameter">
        <title>Netzparameter bearbeiten</title>

        <indexterm>
          <primary>Netzparameter Kalypso 1D2D</primary>
        </indexterm>

        <para>Die Netzparameter unterscheiden sich in folgende
        Kategorien:</para>

        <orderedlist>
          <listitem>
            <para>Profilparameter</para>

            <itemizedlist>
              <listitem>
                <para>Polynomfunktion</para>
              </listitem>

              <listitem>
                <para>Kanalprofilparameter</para>
              </listitem>
            </itemizedlist>
          </listitem>

          <listitem>
            <para>1D Elementparameter</para>

            <itemizedlist>
              <listitem>
                <para>Wehr</para>
              </listitem>

              <listitem>
                <para>Brücke</para>
              </listitem>
            </itemizedlist>
          </listitem>
        </orderedlist>

        <note>
          <para>Die Funktionen <guimenuitem>Netz bearbeiten</guimenuitem> und
          <guimenuitem>Netzparameter bearbeiten</guimenuitem> sind derzeit
          noch nicht implementiert. Die 1D Modellierung sollte in WSPM
          durchgeführt werden. Die Darstellung dient lediglich der Ansicht.
          Kartenfunktionen zur Bearbeitung der Netzparameter</para>
        </note>

        <table>
          <title>Kartenfunktionen zur Bearbeitung der Netzparameter</title>

          <tgroup align="left" arch="" char="" charoff="" class="" cols="3">
            <colspec colwidth="1*" />

            <colspec colwidth="2*" />

            <colspec colwidth="5*" />

            <tbody>
              <row>
                <entry><mediaobject>
                    <imageobject>
                      <imagedata align="center"
                                 fileref="img/1D2D/Netzp_bearbeiten_Icon_loeschen.png"
                                 width="" />
                    </imageobject>
                  </mediaobject></entry>

                <entry align="left" valign="middle">Zugeordnete Parameter
                löschen</entry>

                <entry align="left" valign="middle">Drücken Sie auf diesen
                Knopf. Selektieren Sie dann in der Karte das 1D Element oder
                das Profil, dessen Parameter Sie löschen möchten. Drücken Sie
                anschließend auf der Tastatur Entf und die Parameter werden
                gelöscht.</entry>
              </row>

              <row>
                <entry><mediaobject>
                    <imageobject>
                      <imagedata fileref="img/1D2D/Netzp_bearbeiten_Icon_bearbeiten.png" />
                    </imageobject>
                  </mediaobject></entry>

                <entry align="left" valign="middle">Zugeordnete Parameter
                bearbeiten</entry>

                <entry align="left" valign="middle">Drücken Sie diesen Knopf
                und selektieren Sie anschließend in der Karte das 1D Element
                bzw. das Profil, dessen Parameter Sie bearbeiten möchten. Es
                öffnet sich die Feature View mit den zugehörigen
                Editiermöglichkeiten.</entry>
              </row>

              <row>
                <entry><mediaobject>
                    <imageobject>
                      <imagedata fileref="img/1D2D/Netzp_bearbeiten_Icon_Polynomf.png" />
                    </imageobject>
                  </mediaobject></entry>

                <entry align="left" userlevel=""
                valign="middle">Polynomfunktion zuordnen</entry>

                <entry align="left" valign="middle">Drücken Sie zunächst neben
                den Knopf und das zugehörige Pulldownmenü wird geöffnet. Die
                einzelnen Funktionen sind in der folgenden Tabelle
                aufgelistet.</entry>
              </row>
            </tbody>
          </tgroup>
        </table>

        <table>
          <title>Funktionen des Pulldownmenüs um Polynomfunktionen
          zuzuordnen</title>

          <tgroup align="left" arch="" char="" charoff="" class="" cols="3">
            <colspec colwidth="1*" />

            <colspec colwidth="2*" />

            <colspec colwidth="5*" />

            <tbody>
              <row>
                <entry><mediaobject>
                    <imageobject>
                      <imagedata align="center"
                                 fileref="img/1D2D/Netzp_bearbeiten_Icon_Polynomf_2.png"
                                 width="" />
                    </imageobject>
                  </mediaobject></entry>

                <entry align="left" valign="middle">Polynomfunktionsparameter
                einem 1D Knoten hinzufügen</entry>
              </row>

              <row>
                <entry><mediaobject>
                    <imageobject>
                      <imagedata fileref="img/1D2D/Netzp_bearbeiten_Icon_Wehr+.png" />
                    </imageobject>
                  </mediaobject></entry>

                <entry align="left" valign="middle">Wehr zu einem 1D Element
                hinzufügen</entry>

                <entry align="left" valign="middle">Drücken Sie diesen Knopf
                und wählen Sie dann ein 1D Element in der Karte, zu dem ein
                Wehr hinzugefügt werden soll. Es öffnet sich die Feature View,
                wo zunächst Einstellungen vorgenommen werden müssen.</entry>
              </row>

              <row>
                <entry><mediaobject>
                    <imageobject>
                      <imagedata fileref="img/1D2D/Netzp_bearbeiten_Icon_Bruecke+.png" />
                    </imageobject>
                  </mediaobject></entry>

                <entry align="left" valign="middle">Brücke zu einem 1D Element
                hinzufügen</entry>

                <entry align="left" valign="middle">Drücken Sie diesen Knopf
                und wählen Sie dann ein 1D Element in der Karte, zu dem eine
                Brücke hinzugefügt werden soll. Es öffnet sich die Feature
                View, wo zunächst Einstellungen vorgenommen werden
                müssen.</entry>
              </row>
            </tbody>
          </tgroup>
        </table>
      </section>
    </section>

    <section id="Kalypso1D2DNetzaufbau_2DNetz">
      <title>2D-Netz</title>

      <indexterm>
        <primary>2D-Netz Kalypso 1D2D</primary>
      </indexterm>

      <para>Das 2D Netz besteht aus Drei- und Vierecken, welche wiederum durch
      die Kanten und Knoten definiert sind. Die <filename>*.2d</filename>
      Dateien unterliegen einer Formatspezifikation, d.h. die Datei muss eine
      bestimmte Struktur aufweisen, damit sie vom Programm gelesen werden
      kann. Wenn Sie über die Formatspezifikation mehr wissen möchten, finden
      Sie eine ausführliche Erläuterung im Theorieteil zu Kalypso1D2D.</para>

      <section id="Kalypso1D2DNetzaufbau_2DNetz_Import">
        <title>BCE-2D-Netz importieren</title>

        <indexterm>
          <primary>BCE-2D-Netz importieren Kalypso 1D2D</primary>
        </indexterm>

        <para>Über diese Funktion können bereits mit dem Programmsystem BCE-2D
        erstellte 2D-Strömungsmodelle importiert werden.</para>

        <para>Im Assistenten muss lediglich die zum Import verwendete
        <filename>*.2d</filename> Datei ausgewählt und das
        Ursprungskoordinatensystem angegeben werden. Nach dem Abschluss des
        Assistenten werden die Daten über die Schnittstelle importiert. Der
        Vorgang kann einige Zeit - je nach Modellgröße - andauern. In der
        geöffneten FE-Netz Karte wird das importierte Netz angezeigt.</para>

        <para>Um ein BCE-2D-Netz zu importieren öffnen Sie in der Ansicht
        "Aktivitäten" den Baum <guimenuitem>Preprocessing &gt; Netzaufbau &gt;
        2D-Netz</guimenuitem>. Aktivieren Sie <guimenuitem>2D-Netz
        importieren</guimenuitem> mit einem Doppelklick um den zugehörigen
        Assistenten zu öffnen. Klicken Sie auf
        <guibutton>Durchsuchen...</guibutton> und wählen Sie die entsprechende
        <filename>*.2d</filename> Datei aus. Geben Sie anschließend das
        Koordinatensystem an und klicken Sie auf <guibutton>Fertig
        stellen</guibutton> um den Import abzuschließen.</para>

        <figure>
          <title>Assistent zum Import eines 2D-Netzes</title>

          <mediaobject>
            <imageobject>
              <imagedata fileref="img/1D2D/import_2d.png" />
            </imageobject>
          </mediaobject>
        </figure>
      </section>

      <section id="Kalypso1D2DNetzaufbau_2DNetz_bearbeiten">
        <title>Netz bearbeiten</title>

        <indexterm>
          <primary>Netz bearbeiten Kalypso 1D2D</primary>
        </indexterm>

        <para>Um das 2D-Netz zu bearbeiten öffnen Sie in der Ansicht
        "Aktivitäten" den Baum <guimenuitem>Preprocessing &gt; Netzaufbau &gt;
        2D-Netz</guimenuitem>. Aktivieren Sie <guimenuitem>Netz
        bearbeiten</guimenuitem> mit einem Doppelklick.</para>

        <table>
          <title>Symbole zur Bearbeitung des 2D-Netzes</title>

          <tgroup align="left" arch="" char="" charoff="" class="" cols="3">
            <colspec colwidth="1*" />

            <colspec colwidth="2*" />

            <colspec colwidth="5*" />

            <tbody>
              <row>
                <entry><mediaobject>
                    <imageobject>
                      <imagedata align="center"
                                 fileref="img/1D2D/Button_add_2d.png" width="" />
                    </imageobject>
                  </mediaobject></entry>

                <entry align="left" arch="" valign="middle">2D-Element
                erzeugen</entry>

                <entry align="left" valign="middle">Um ein neues 2D-Element zu
                erzeugen, aktivieren Sie zunächst den Knopf. Nun können Sie in
                der Karte entweder ein Dreieck oder ein Viereck als 2D-Element
                erstellen. Klicken Sie einmal mit der linken Maustaste auf den
                ersten gewünschten Punkt, danach auf den zweiten. Um ein
                Dreieckelement abzuschließen klicken Sie mit einem Doppelklick
                auf den dritten Punkt. Das Viereckelement wird automatisch
                nach dem vierten einfachen Mausklick abgeschlossen
                (Doppelklick ist aber auch hier möglich). Ein Element kann an
                bestehende Elemente angeschlossen werden indem die vorhandenen
                Knoten gesnapt werden.</entry>
              </row>

              <row>
                <entry><mediaobject>
                    <imageobject>
                      <imagedata fileref="img/1D2D/button_cut_2d.png" />
                    </imageobject>
                  </mediaobject></entry>

                <entry align="left" valign="middle">2D-Element löschen
                entfernen</entry>

                <entry align="left" valign="middle">Um ein 2D-Element zu
                löschen, betätigen Sie zunächst den Knopf. Gehen Sie dann in
                die Karte und selektieren Sie die zu löschenden
                Elemente.<para>Die selektierten Elemente erscheinen nun
                leuchtend gelb mit einem roten Rand. Drücken Sie auf der
                Tastatur Entf um diese Elemente zu löschen.</para></entry>
              </row>

              <row>
                <entry><mediaobject>
                    <imageobject>
                      <imagedata fileref="img/1D2D/button_move_2d.png" />
                    </imageobject>
                  </mediaobject></entry>

                <entry align="left" valign="middle">Knoten verschieben</entry>

                <entry align="left" valign="middle">Die Knoten von Elementen
                können durch das einfache Ziehen mit der linken Maustaste
                verschoben werden (Drag&amp; Drop).</entry>
              </row>
            </tbody>
          </tgroup>
        </table>

        <para>Achtung! - Wenn das Element markiert ist und man dann über die
        rechte Maustaste "Feature Löschen" betätigt. Wird nicht das ganze
        Element gelöscht! Das Kontextmenü sollte hier generell nicht betätigt
        werden.<mediaobject>
            <imageobject>
              <imagedata fileref="img/1D2D/Löschen.png" />
            </imageobject>
          </mediaobject></para>
      </section>

      <section id="Kalypso1D2DNetzaufbau_2DNetz_Flussschlauchgenerator">
        <title>Flussschlauchgenerator</title>

        <indexterm>
          <primary>Flussschlauchgenerator Kalypso 1D2D</primary>
        </indexterm>

        <para>Um die den Flussschlauchgenerator zu öffnen, öffnen Sie in der
        Ansicht "Aktivitäten" den Baum <guimenuitem>Preprocessing &gt;
        Netzaufbau &gt; 2D-Netz</guimenuitem>. Aktivieren Sie
        <guimenuitem>Flusschlauchgenerator </guimenuitem>mit einem
        Doppelklick, um den Flussschlauchgenerator und die dazugehörige Karten
        Werkzeugansicht zu öffnen. Wählen Sie in der Werkzeugansicht das
        gewünschte Profil aus.</para>

        <para>Dieses Werkzeug dient der Erstellung des 2D-Netzes im
        Flussschlauch, dessen Form und Lage anhand von Querprofilen definiert
        ist. Voraussetzung hierfür ist das Vorhandensein der
        Profilinformationen nach Trippel-Import und Uferlinien</para>

        <para>Um die Profildaten im Trippel-Format zu importieren siehe <xref
        linkend="Kalypso1D2DImportProf" />. Die Uferlinien gehören mit zu den
        Hintergrunddaten. Wie diese eingeladen werden siehe <xref
        linkend="Kalypso1D2DImportBackgroundmaps" />.</para>

        <para>Wenn Sie die Uferlinien und die Profildaten eingeladen haben und
        den Flussschlauchgenerator aktiviert haben, dann sollte die Ansicht in
        etwa so aussehen wie das Beispiel unten. Überprüfen Sie, ob die
        Grundlagen und die Profile in der Gliederung aktiviert sind.
        Voraussetzung für ein korrektes Funktionieren des
        Flussschlauchgenerators ist, dass jedes selektierte Profil von beiden
        Uferlinien geschnitten wird. Ziehen Sie die Karten Werkzeugansicht so
        weit auf, bis alle Knöpfe zu sehen sind.</para>

        <figure>
          <title>Ansicht Flussschlauchgenerator</title>

          <mediaobject>
            <imageobject>
              <imagedata fileref="img/1D2D/Flussschlauchg_01.png" />
            </imageobject>
          </mediaobject>
        </figure>

        <para>Zunächst wählen Sie unter dem Menüpunkt
        <guimenuitem>Profile</guimenuitem> das gewünschte Profilthema aus.
        Danach können Sie über den Selektionsknopf <inlinemediaobject>
            <imageobject>
              <imagedata fileref="img/1D2D/Flussschlauchg_Selektion.png" />
            </imageobject>
          </inlinemediaobject>aus diesem Thema einzelne Profile in der Karte
        selektieren, mit denen Sie Ihr 2D-Netz erstellen möchten. Gehen Sie
        hierfür in die Karte und ziehen Sie mit der linken Maustaste ein
        Rechteck auf. Alle Profile, die das Rechteck schneidet, werden
        selektiert. Als nächstes ist die Anzahl der Profilstützstellen zu
        definieren. Die hier angegebene Anzahl gilt global für alle Profile
        und richtet sich nach der Breite des Gewässers und der Heterogenität
        der Profilgeometrie.</para>

        <note>
          <para>Wenn Sie die Anzahl der Stützstellen im Menüpunkt Profile oder
          Uferlinien während der Bearbeitung erneut verändern, dann erfolgt
          die Änderung global! D.h. dass eine Neuberechnung anhand der
          Ausgangsdaten stattfindet und bis dahin vorgenommene Anpassungen
          z.B. einzelner Segmente verworfen werden!</para>
        </note>

        <para>Auf dem folgenden Bild ist zu sehen, dass alle selektierten
        Profile gelb dargestellt werden. Sie müssen nicht alle Profile auf
        einmal selektieren, sondern Sie könnten mit dem selben Verfahren nun
        noch weitere Profile selektieren. Wenn Sie sich geirrt haben und die
        Selektion wieder rückgängig machen wollen, dann öffnen Sie einfach
        wieder so ein Rechteck über alle selektierten Profile, die nicht mehr
        markiert sein sollen und sie werden wieder orange dargestellt (nur
        beim Flussschlauchgenerator ist das Drücken der Strg-Taste um mehrere
        Selektionsvorgänge nacheinander durchzuführen nicht notwendig).</para>

        <figure>
          <title>Profilauswahl mit dem Flussschlauchgenerator</title>

          <mediaobject>
            <imageobject>
              <imagedata fileref="img/1D2D/Flussschlauchg_03.png" />
            </imageobject>
          </mediaobject>
        </figure>

        <figure>
          <title>Bezeichnungen für den Netzaufbau</title>

          <mediaobject>
            <imageobject>
              <imagedata fileref="img/1D2D/Flussschlauchg_02.png" />
            </imageobject>
          </mediaobject>
        </figure>

        <para>Nach dem gleichen Verfahren werden die beiden Uferlinien unter
        dem Menüpunkt <guimenuitem>Uferlinien</guimenuitem> ausgewählt.
        Drücken Sie zunächst den oberen Selektionsknopf und wählen Sie die
        erste Uferlinie aus (der aktivierte Selektionsknopf erscheint etwas
        heller als die anderen). Diese wird nach der Selektion grün
        dargestellt (siehe Abbildung). Wenn Sie für beide Uferlinien nur eine
        shape-Datei eingeladen haben, spielt die Reihenfolge der Selektion
        keine Rolle, ansonsten müssen Sie auf das Profilthema achten und
        dementsprechend die zugehörigen Uferlinienen selektieren.</para>

        <para>Auch hier haben Sie die Möglichkeit die Anzahl der Stützstellen
        in Fließrichtung zu definieren. Diese können später noch in der
        Segmentansicht für jedes Segment individuell angepasst werden.</para>

        <figure>
          <title>Selektion der Uferlinien</title>

          <mediaobject>
            <imageobject>
              <imagedata fileref="img/1D2D/Flussschlauchg_04.png" />
            </imageobject>
          </mediaobject>
        </figure>

        <para>Es sollte nun eine Vorschau zu sehen sein (siehe Abbildung
        unten). Ist dies nicht der Fall sind die Daten fehlerhaft. Überprüfen
        Sie ob alle selektierten Profile von beiden Uferlinien geschnitten
        werden.</para>

        <figure>
          <title>Netzvorschau</title>

          <mediaobject>
            <imageobject>
              <imagedata fileref="img/1D2D/Flussschlauchg_05.png" />
            </imageobject>
          </mediaobject>
        </figure>

        <para>Sobald alle nötigen Spezifikationen vorliegen findet die
        Berechung der Segmente statt. Bei der ersten Berechnung werden die
        selektierten Profile anhand der Methode von DOUGLAS-PEUCKER ausgedünnt
        und die wesentlichen Profilpunkte beibehalten. Gleichzeitig öffnet
        sich die Segment- und Profilansicht, in welcher Sie weitere
        Editiermöglichkeiten für die Uferlinien und die Profilunterteilungen
        finden.</para>

        <para>In der <guimenuitem>Segmentansicht</guimenuitem> hat man die
        Möglichkeit zwischen den einzelnen erzeugten Segmenten zu navigieren.
        Ein Segment ist hierbei definiert als der Raum zwischen zwei Profilen.
        Wenn der automatische Zoom aktiviert ist (Häkchen setzen), dann ist in
        der Karte das ausgewählte Segment zu sehen. Nach der Auswahl des
        gewünschten Segments kann für dieses die Anzahl der
        Uferlinienstützpunkte gewählt werden und der anhand der
        Uferlinien-Shapedatei erzeugte Uferverlauf nach Betätigen der
        Editierknöpfe <inlinemediaobject>
            <imageobject>
              <imagedata fileref="img/1D2D/Flussschlauchg_Editieren.png" />
            </imageobject>
          </inlinemediaobject> angepasst werden. Es können jedoch nur die
        Stützpunkte zwischen den Profilen editiert werden, da die
        Schnittstellen der Uferlinien mit den Profilen fest definiert
        sind.</para>

        <para>In der <guimenuitem>Profilansicht</guimenuitem> werden die
        beiden Profile angezeigt, die das Segment definieren. Die
        Originalprofile werden in orange dargestellt. Das ausgedünnte Profil
        für das spätere 2D-Netz ist blau. In dieser Ansicht haben Sie die
        Möglichkeit die Profilunterteilungen durch Ziehen der blauen
        Stützpunkte individuell der Profilgeometrie anzupassen. Hier gilt
        wiederum, dass die äußersten Knoten nicht verschoben werden können, da
        dies die definierten Schnittstellen mit den Uferlinien sind.</para>

        <para>Folgende Funktionen sind in der Profilansicht möglich:</para>

        <table>
          <title>Funktionen der Profilansicht</title>

          <tgroup cols="3">
            <colspec colwidth="1*" />

            <colspec colwidth="2*" />

            <colspec colwidth="5*" />

            <tbody>
              <row>
                <entry><mediaobject>
                    <imageobject>
                      <imagedata fileref="img/1D2D/Flussschlauchg_rauszoomen.png" />
                    </imageobject>
                  </mediaobject></entry>

                <entry align="left" valign="middle">Ausschnitt
                verkleinern</entry>

                <entry align="left" valign="middle">Wenn dieser Knopf gedrückt
                wird, wird der Ausschnitt schrittweise verkleinert, also
                herausgezoomt.</entry>
              </row>

              <row>
                <entry><mediaobject>
                    <imageobject>
                      <imagedata fileref="img/1D2D/Flussschlauchg_reinzoomen.png" />
                    </imageobject>
                  </mediaobject></entry>

                <entry align="left" valign="middle">Ausschnitt
                vergrößern</entry>

                <entry align="left" valign="middle">Ziehen Sie mit der linken
                Maustaste ein Rechtecht über den Bereich, der vergrößert
                werden soll.</entry>
              </row>

              <row>
                <entry><mediaobject>
                    <imageobject>
                      <imagedata fileref="img/1D2D/Flussschlauchg_verschieben.png" />
                    </imageobject>
                  </mediaobject></entry>

                <entry align="left" valign="middle">Ausschnitt
                verschieben</entry>

                <entry align="left" valign="middle">Halten Sie die linke
                Maustaste gedrückt und schieben Sie so das Bild zu dem
                Ausschnitt, den Sie betrachten möchten.</entry>
              </row>

              <row>
                <entry><mediaobject>
                    <imageobject>
                      <imagedata fileref="img/1D2D/Flussschlauchg_maximieren.png" />
                    </imageobject>
                  </mediaobject></entry>

                <entry align="left" valign="middle">Ausschnitt
                maximieren</entry>

                <entry align="left" valign="middle">Das gesamte Profil wird
                angezeigt.</entry>
              </row>

              <row>
                <entry><mediaobject>
                    <imageobject>
                      <imagedata fileref="img/1D2D/Flussschlauchg_wechseln.png" />
                    </imageobject>
                  </mediaobject></entry>

                <entry align="left" valign="middle">Profil wechseln</entry>

                <entry align="left" valign="middle">Zu einem Segment gehören
                jeweils zwei Profile, die das Segment abschließen. Wenn Sie
                den Knopf drücken wird jeweils das andere Profil aktiviert und
                angezeigt.</entry>
              </row>
            </tbody>
          </tgroup>
        </table>

        <para>Nachdem alle Profile und Uferlinien zufriedenstellend bearbeitet
        wurden, kann man abschließend durch die Betätigung des
        Konvertierungsknopfes <inlinemediaobject>
            <imageobject>
              <imagedata fileref="img/1D2D/Flussschlauchg_konvertieren.png" />
            </imageobject>
          </inlinemediaobject> die Vorschau in ein Finite-Elemente-Netz
        umwandeln.</para>
      </section>

      <section id="Kalypso1D2DNetzaufbau_2DNetz_Bandgenerator">
        <title>Bandgenerator</title>

        <indexterm>
          <primary>Bandgenerator Kalypso 1D2D</primary>
        </indexterm>

        <para>Um den Bandgenerator zu öffnen, öffnen Sie in der Ansicht
        "Aktivitäten" den Baum <guimenuitem>Preprocessing &gt; Netzaufbau &gt;
        2D-Netz</guimenuitem>. Aktivieren Sie
        <guimenuitem>Bandgenerator</guimenuitem> mit einem Doppelklick, um den
        Bandgenerator und die zugehörige Karten Werkzeugansicht zu
        öffnen.</para>

        <para>Der Bandgenerator stellt ein Werkzeug zur halb-automatischen
        Erzeugung eines 2D-Netzes dar. Mittels der Definition von vier
        aneinander liegenden Linien haben Sie die Möglichkeit auf schnelle und
        einfache Weise ein flächendeckendes Netz aus Viereck-Elementen zu
        erzeugen (geeignet z.B. für weite Vorländer). Um ein Viereck-Netz
        erzeugen zu können ist es notwendig, dass die jeweils
        gegenüberliegenden Linien die gleiche Anzahl an Stützstellen haben.
        Durch Klicken in der Karte kann der Benutzer die vier Linien
        definieren, die später den äußeren Rand des Netzes repräsentieren. Die
        Vorgehensweise zur Erstellung des Netzes wird im Folgenden
        beispielhaft beschrieben. Die Karten Werkzeugansicht unterstützt Sie
        bei der Erstellung und zeigt den aktuellen Bearbeitungsstatus.</para>

        <figure>
          <title>Erstellen der ersten Linie im Bandgenerator</title>

          <mediaobject>
            <imageobject>
              <imagedata fileref="img/1D2D/Bandgenerator_Linie1.png" />
            </imageobject>
          </mediaobject>
        </figure>

        <para>Klicken Sie mit der linken Maustaste auf beliebig ausgewählte
        Punkte. So erzeugen Sie die Stützstellen für die erste Linie (Kante).
        Mit einem Doppelklick beim letzten Punkt beenden Sie diese und es wird
        automatisch mit der zweiten Linie begonnen. Der aktuelle
        Bearbeitungsstatus zeigt nur den Ist-Zustand an, da für die erste
        Linie die Anzahl der Stützstellen frei gewählt werden kann.</para>

        <figure>
          <title>Erstellen der zweiten Linie im Bandgenerator</title>

          <mediaobject>
            <imageobject>
              <imagedata fileref="img/1D2D/Bandgenerator_Linie2.png" />
            </imageobject>
          </mediaobject>
        </figure>

        <para>Die erste Linie (blau dargestellt) wurde beendet, indem die
        vierte Stützstelle durch einen Doppelklick erstellt wurde. Die zweite
        Linie (schwarz dargestellt) verwendet nun die letzte Stützstelle der
        ersten Linie als erste Stützstelle. Auch bei der zweiten Linie kann
        die Anzahl der Stützstellen frei gewählt werden und somit wird beim
        Bearbeitungsstatus wieder nur der Ist-Zustand angezeigt.</para>

        <figure>
          <title>Erstellen der dritten Linie im Bandgenerator</title>

          <mediaobject>
            <imageobject>
              <imagedata fileref="img/1D2D/Bandgenerator_Linie3.png" />
            </imageobject>
          </mediaobject>
        </figure>

        <para>Die zweite Linie wurde beendet, indem die letzte Stützstelle
        durch einen Doppelklick erstellt wurde. Auch hier verwendet nun die
        dritte Linie die letzte Stützstelle der zweiten Linie als erste
        Stützstelle. Die Anzahl der Stützstelle kann nun aber nicht mehr frei
        gewählt werden, sondern muss der Anzahl der Stützstellen der ersten
        Linie entsprechen. Im Bearbeitungsstatus wird nun ein Sollwert von 4
        Stützstellen angezeigt. Sobald die Sollanzahl der Stützstellen
        erreicht ist (einfacher Mausklick), wird automatisch mit der vierten
        Linie begonnen (Linienfarbe wechselt).</para>

        <figure>
          <title>Fertig erstelltes Netz</title>

          <mediaobject>
            <imageobject>
              <imagedata fileref="img/1D2D/Bandgenerator_Linie4.png" />
            </imageobject>
          </mediaobject>
        </figure>

        <para>Für die vierte Linie gilt, dass die Stützstellenanzahl die der
        zweiten Linie entspricht. Wenn man mit einem einfach linken Mausklick
        die vorletzte Stützstelle erstellt hat wird das Netz automatisch
        geschlossen und eine Netzvorschau erstellt. Durch Betätigen der
        mittleren Maustaste kann man nun zwischen den vier Linien wechseln und
        die Knoten durch Ziehen mit der Maus individuell anpassen. Um die
        Netzvorschau in die Karte einzufügen, drücken Sie auf den Knopf
        <inlinemediaobject>
            <imageobject>
              <imagedata fileref="img/1D2D/Bandgenerator_FENetz_generieren.png" />
            </imageobject>
          </inlinemediaobject>FE-Netz generieren.</para>

        <para>Um das erstellte Netz zu speichern siehe <xref
        linkend="Kalypso1D2DExportFENetz" />.</para>

        <para><emphasis role="bold">Karten Werkzeugansicht des
        Bandgenerators</emphasis></para>

        <para>Die Karten Werkzeugansicht besteht aus vier Teilen, dem
        aktuellen Bearbeitungsstatus, der Konfiguration, der Hilfe und dem
        Knopf um das FE-Netz zu generieren. Die Funktion des aktuellen
        Bearbeitungsstatus wurde in dem obigen Beispiel schon erläutert und
        wird hier somit vernachlässigt.</para>

        <para>Um die <emphasis role="bold">Konfiguration</emphasis>sfunktion
        zu öffnen, klicken Sie auf den blauen kleinen Pfeil. Die Ansicht
        sollte dann so aussehen wie in der Abbildung unten. Hier kann nun die
        Punktfangweite (Größe des Snapmodus) eingestellt werden und die Farben
        für die Darstellung der Linien frei gewählt werden.</para>

        <para>Um die <emphasis role="bold">Hilfe</emphasis>funktion zu öffnen,
        klicken Sie auf den blauen kleinen Pfeil. Die Ansicht sollte dann so
        aussehen wie in der Abbildung unten. Hier werden die
        Tastenkombinationen zur Linienerstellung noch einmal in Kurzform
        erläutert:</para>

        <itemizedlist>
          <listitem>
            <para>Linienpunkt setzen: Linke Maustaste</para>
          </listitem>

          <listitem>
            <para>Linienpunkt löschen: Rücktaste</para>
          </listitem>

          <listitem>
            <para>Linie beenden: Doppelklick</para>
          </listitem>

          <listitem>
            <para>Aktuelle Linie verwerfen: Esc-Taste (Funktioniert nicht bei
            der ersten Linie! Hier muss Shift + Esc-Taste gedrückt werden. Die
            letzte Stützstelle der letzten Linie wird hierbei nicht
            gelöscht!)</para>
          </listitem>

          <listitem>
            <para>Zurück zur letzten Linie: Shift + Rücktaste (Achtung! Die
            letzte Stützstelle der letzten Linie wird gelöscht!)</para>
          </listitem>

          <listitem>
            <para>Abbrechen: Shift + Esc-Taste (Sämtliche Linien und Punkte
            werden gelöscht)</para>
          </listitem>
        </itemizedlist>

        <para>Bewegen der Knoten durch:</para>

        <orderedlist>
          <listitem>
            <para>Klicken auf mittlere Taste zur Auswahl der Kante</para>
          </listitem>

          <listitem>
            <para>Verschieben von Knoten auf aktiver Kante</para>
          </listitem>
        </orderedlist>

        <para>Wenn Sie denn Knopf <inlinemediaobject>
            <imageobject>
              <imagedata fileref="img/1D2D/Bandgenerator_FENetz_generieren.png" />
            </imageobject>
          </inlinemediaobject><guilabel> FE-Netz generieren</guilabel>
        drücken, dann wird die Netzvorschau umgesetzt und in die Karte
        integriert.</para>

        <figure>
          <title>Karten Werkzeugansicht des Bandgenerators</title>

          <mediaobject>
            <imageobject>
              <imagedata fileref="img/1D2D/Bandgenerator_Werkzeug.png" />
            </imageobject>
          </mediaobject>
        </figure>
      </section>

      <section id="Kalypso1D2DNetzaufbau_2DNetz_Hoehen">
        <title>Höhen zuweisen</title>

        <indexterm>
          <primary>Höhen zuweisen Kalypso 1D2D</primary>
        </indexterm>

        <para>Diese Funktionsgruppe zeigt die vorhandenen Höhenmodelle in
        einer Tabelle. Die Reihenfolge in der Tabelle ist für die Bestimmung
        der Höhen entscheidend, wenn der Benutzer kein Höhenmodell explizit
        auswählt. Die Auswertungsreihenfolge ist von oben nach unten und die
        Höhe wird von dem ersten Höhenmodell genommen, das eine Höhen-Info
        bereit stellt. Folgende Aktionen stehen Ihnen zur Verfügung:</para>

        <itemizedlist>
          <listitem>
            <para>Selektieren eines Höhenmodells als alleinige und aktive
            Quelle.</para>

            <para>Dies wird durch klicken auf das Höhenmodell in der Tabelle
            durchgeführt.</para>
          </listitem>
        </itemizedlist>

        <table>
          <title>Höhenmodell-System Funktionen</title>

          <tgroup cols="3">
            <colspec colwidth="1*" />

            <colspec colwidth="2*" />

            <colspec colwidth="5*" />

            <tbody>
              <row>
                <entry><mediaobject>
                    <imageobject>
                      <imagedata fileref="img/1D2D/Hoehenzuweisen_Icon_Pfeiloben.png" />
                    </imageobject>
                  </mediaobject></entry>

                <entry align="left" valign="middle">Manipulation der
                Anzeigereihenfolge eines selektierten Höhenmodells</entry>

                <entry align="left" valign="middle">Klicken Sie mit der linken
                Maustaste auf den Pfeil nach oben, um das selektierte
                Höhenmodell nach oben zu verschieben.</entry>
              </row>

              <row>
                <entry><mediaobject>
                    <imageobject>
                      <imagedata fileref="img/1D2D/Hoehenzuweisen_Icon_Pfeilunten.png" />
                    </imageobject>
                  </mediaobject></entry>

                <entry align="left" valign="middle">Manipulation der
                Auswertungsreihenfolge eines selektierten Höhenmodells</entry>

                <entry align="left" valign="middle">Klicken Sie mit der linken
                Maustaste auf den Pfeil nach unten, um das selektierte
                Höhenmodell nach unten zu verschieben.</entry>
              </row>

              <row>
                <entry><mediaobject>
                    <imageobject>
                      <imagedata fileref="img/1D2D/Hoehenzuweisen_Icon_Gelaendemmax.png" />
                    </imageobject>
                  </mediaobject></entry>

                <entry align="left" valign="middle">Geländemodell anzeigen
                (zentrieren) und maximieren</entry>

                <entry align="left" valign="middle">Klicken Sie mit der linken
                Maustaste auf diesen Knopf um das selektierte Höhenmodell zu
                zentrieren und maximieren.</entry>
              </row>

              <row>
                <entry><mediaobject>
                    <imageobject>
                      <imagedata fileref="img/1D2D/Hoehenzuweisen_Icon_Gelaendemloeschen.png" />
                    </imageobject>
                  </mediaobject></entry>

                <entry align="left" valign="middle">Geländemodell
                löschen</entry>

                <entry align="left" valign="middle">Klicken Sie auf den Knopf
                mit dem roten Kreuz um das selektierte Höhenmodell zu
                löschen.</entry>
              </row>
            </tbody>
          </tgroup>
        </table>

        <para><guimenu>Knoten bearbeiten</guimenu></para>

        <para>Hier haben Sie zwei Möglichkeiten:</para>

        <itemizedlist>
          <listitem>
            <para>Zuweisung der Höhen direkt auf der Karte</para>

            <para>Mit einem Doppelklick auf einen Knoten können Sie eine
            Höhenzuweisung vornehmen. Die Höheninformation wird aus dem
            selektierten Höhenmodell oder aus dem gesamten Höhenmodellsystem
            abgerufen.</para>
          </listitem>

          <listitem>
            <para>Verwendung der Funktionsgruppe Knoten bearbeiten</para>

            <para>Diese Gruppe zeigt das aktuell selektierte Höhenmodell und
            eine Liste von editierbaren Knoten in einer Tabelle. Zur
            Höhenzuweisung gehören folgende Bedienschritte:</para>

            <itemizedlist>
              <listitem>
                <para>Selektieren von Knoten auf der Karte.</para>

                <para>Die in der Karte selektierten Knoten werden in der
                Tabelle der editierbaren Knoten hinzugefügt.</para>
              </listitem>

              <listitem>
                <para>Modifikation der Knotenhöhe</para>

                <para>Manuell - Durch direktes Eintippen einer Zahl der Höhe
                in der Spalte Höhe.</para>

                <para>Automatisch - Als erster Schritte müssen Knoten in der
                Tabelle selektiert werden. Dies geschieht mit der Maus oder
                mit dem Knopf <guibutton>Alles selektieren</guibutton> um alle
                Knoten in der Tabelle zu selektieren. Dann können Sie mit dem
                Knopf <guibutton>Höhen zuweisen</guibutton> die Modifikation
                der Knotenhöhe vornehmen.</para>
              </listitem>
            </itemizedlist>
          </listitem>
        </itemizedlist>

        <para><guimenu>Höhen Info</guimenu></para>

        <para>Sie können sich mit dem Mauszeiger Höheninformation anzeigen
        lassen. Es wird die Höhe aus dem selektierten Höhenmodell oder aus dem
        gesamten Höhenmodellsystem und die Höheninformation der Knoten
        angezeigt, wenn der Mauszeiger über einem Knoten liegt.</para>

        <para><guimenu>Farbeinstellungen</guimenu></para>

        <para>Diese Funktionsgruppe ermöglicht die Einstellung der Farbe für
        die Darstellung der Höhenmodelle. Der Farbbereich basiert auf einer
        Maximum und Minimum Farbe und einer linearen Variation der
        Farbtonnuancierung. Die Funktionsgruppe bietet folgende
        Einstellungsmöglichkeiten:</para>

        <itemizedlist>
          <listitem>
            <para>Ober- und Untergrenze des Darstellungsbereiches</para>
          </listitem>

          <listitem>
            <para>Auswahl der Maximum- und Minimum Farbe</para>
          </listitem>

          <listitem>
            <para>Auswahl der Fehlfarbe</para>
          </listitem>

          <listitem>
            <para>Anzahl der Farbklassen</para>
          </listitem>

          <listitem>
            <para>Transparenz</para>
          </listitem>
        </itemizedlist>
      </section>
    </section>

    <section id="Kalypso1D2DNetzaufbau_BerechnungseundRB">
      <title>Berechnungseinheiten und Randbedingungen</title>

      <indexterm>
        <primary>Berechnungseinheiten und Randbedingungen</primary>
      </indexterm>

      <para>Für die Berechnung ist es erforderlich, dass zunächst die
      Teilmodelle 1D und 2D separat berechnet werden, so dass eine
      Anfangslösung für das Modell vorliegt. Hierzu ist die Aufgliederung in
      Berechnungseinheiten notwendig. Eine Berechnungseinheit besteht aus
      einer Elementgruppe und den Randlinien und Randbedingungen des
      Berechnungsabschnittes. Berechnungseinheiten können als separate Modelle
      gerechnet werden. Zusätzlich ist es möglich Berechnungseinheiten erneut
      zu übergeordneten Berechnungseinheiten zusammenzufassen, um ein
      gekoppeltes Modell berechnen zu können. Diese Gruppen können auch aus
      Bereichen gleicher Dimension stammen.</para>

      <section id="Kalypso1D2DNetzaufbau_BerechnungseundRB_Raenderdefinieren">
        <title>Ränder und Übergänge definieren</title>

        <indexterm>
          <primary>Ränder und Übergänge</primary>
        </indexterm>

        <para>Kontinuitätslinien sind Linien, mit denen "aktive" Fließränder
        definiert werden. Hier ist es bei Vorhandensein von Randbedingungen
        erlaubt über den Rand zu strömenen. Wenn zwei Berechnungseinheiten
        zusammen kommen, müssen sie eine Kontinuitätslinie teilen.</para>

        <table align="center" id="symbolleiste im Profileditor wspm">
          <title>Zusatzfunktionen der Karte zur Bearbeitung der
          Kontinuitätslinien</title>

          <tgroup align="center" cols="3">
            <colspec colwidth="1*" />

            <colspec colwidth="2*" />

            <colspec colwidth="5*" />

            <tbody>
              <row>
                <entry><mediaobject>
                    <imageobject>
                      <imagedata align="center"
                                 fileref="img/1D2D/Icon_Karte_Kontin_hinzufuegen.png"
                                 scale="110" valign="middle" />
                    </imageobject>
                  </mediaobject></entry>

                <entry align="left" valign="middle">Kontinuitätslinie
                erzeugen</entry>

                <entry align="left" valign="middle">Legen Sie den Startpunkt
                der Kontinuitätslinie mit einem einfachen Mausklick fest.
                Weitere Punkte können ebenfalls mit einem Mausklick festgelegt
                werden. Mit einem Doppelklick auf den Endpunkt beenden Sie
                eine Kontinuitätslinie. Der Algorithmus findet den Pfad. Bei
                geraden Linien muss nur der Anfangs- und Endpunkt bestimmt
                werden.</entry>
              </row>

              <row>
                <entry><figure>
                    <mediaobject>
                      <imageobject>
                        <imagedata align="center"
                                   fileref="img/1D2D/Icon_Karte_Kontin_entfernen.png"
                                   scale="110" valign="middle" />
                      </imageobject>
                    </mediaobject>
                  </figure></entry>

                <entry align="left" valign="middle">Kontinuitätslinie
                markieren und entfernen</entry>

                <entry align="left" valign="middle">Markieren Sie mit dem
                Mauszeiger die Kontinuitätslinie. Wenn sie rot erscheint
                drücken Sie Entf auf der Tastatur und die Kontinuitätslinie
                wird entfernt.</entry>
              </row>
            </tbody>
          </tgroup>
        </table>
      </section>

      <section id="Kalypso1D2DNetzaufbau_BerechnungseundRB_RB">
        <title>Randbedingungen</title>

        <indexterm>
          <primary>Randbedingungen</primary>
        </indexterm>

        <para>Randbedingungen können Kontinuitätslinien oder als Quellen-
        Senkenterme Elementen zugeordnet werden. Dies sind nicht explizit
        Randbedingungen, sondern die Zeitreihen. Die Randbedingungen werden
        bei den Berechnungseinstellungen aus diesen Zeitreihen definiert. In
        der Karte sind Randbedingungen als gelbe Punkte dargestellt bzw. gelb
        umrahmte Knoten.</para>

        <table align="center" id="symbolleiste im Profileditor wspm">
          <title>Zusatzfunktionen der Karte zur Bearbeitung der
          Randbedingungen</title>

          <tgroup align="center" cols="3">
            <colspec colwidth="1*" />

            <colspec colwidth="2*" />

            <colspec colwidth="5*" />

            <tbody>
              <row>
                <entry><figure>
                    <mediaobject>
                      <imageobject>
                        <imagedata align="center"
                                   fileref="img/1D2D/Icon_Karte_Randb_zuordnen.png"
                                   scale="110" valign="middle" />
                      </imageobject>
                    </mediaobject>
                  </figure></entry>

                <entry align="left" valign="middle">Randbedingungen
                zuordnen</entry>

                <entry align="left" valign="middle">Betätigen Sie den Knopf
                und fahren Sie mit der Maus über eine Kontinuitätslinie oder
                ein Element. Wenn sich das gewünschte Element rot färbt,
                können Sie mit einem Mausklick die Randbedingung
                setzen.</entry>
              </row>

              <row>
                <entry><figure>
                    <mediaobject>
                      <imageobject>
                        <imagedata align="center"
                                   fileref="img/1D2D/Icon_Karte_Randb_entfernen.png"
                                   scale="110" valign="middle" />
                      </imageobject>
                    </mediaobject>
                  </figure></entry>

                <entry align="left" valign="middle">Randbedingungen markieren
                und entfernen</entry>

                <entry align="left" valign="middle">Betätigen Sie den Knopf
                und markieren Sie die Randbedingung, die gelöscht werden soll.
                Diese wird dann automatisch entfernt.</entry>
              </row>

              <row>
                <entry><mediaobject>
                    <imageobject>
                      <imagedata fileref="img/1D2D/Icon_Karte_Randb_bearbeiten.png" />
                    </imageobject>
                  </mediaobject></entry>

                <entry align="left" valign="middle">Randbedingungen
                bearbeiten</entry>

                <entry align="left" valign="middle">Sobald eine Randbedingung
                ausgewählt worden ist, öffnet sich die Feature View und die
                Randbedingung kann bearbeitet werden.</entry>
              </row>
            </tbody>
          </tgroup>
        </table>

        <para><emphasis role="bold">Randbedingungen zuordnen</emphasis></para>

        <figure>
          <title>Assistent zur Definition von Randbedingungen</title>

          <mediaobject>
            <imageobject>
              <imagedata fileref="img/1D2D/Randbed_zuordnen_1.png" />
            </imageobject>
          </mediaobject>
        </figure>

        <para>Zunächst legen Sie die Art der Randbedingung fest, entweder der
        Abfluss in [m³/s] oder die Wassertiefe in [m]. Im Kästchen für die
        <guilabel>stationäre Randbedingung</guilabel>, geben Sie einen
        stationären Wert ein. Dieser Wert wird im Fall einer stationären
        Rechnung verwendet. Wenn Sie <guilabel>Spezifische Abfluss -
        Zeitreihe</guilabel> auswählen, erfolgt die Zeitreihendefinition
        manuell.</para>

        <para>Für die Definition der Zeitreihe müssen Sie zunächst einen
        Zeitraum bestimmen. Drücken Sie hierzu auf den Knopf neben der
        entsprechenden Zeile. Als nächstes können Sie ein Intervall festlegen,
        indem Sie den Zeitschritt und die Einheit des Zeitschrittes mit dem
        Pull Down Menü festlegen. Achten Sie beim Standardwert auf die
        Einheit. Der spezifische Abfluss eines 2D Elements muss in [m/s] und
        der eines 1D Elements in [m²/s] eingegeben werden. Der hier
        festgelegte Standardwert ist lediglich eine temporäre Eingabe, um
        einen Graphen zu erstellen. Die einzelnen Werte für jedes Intervall
        müssen später über die Feature View angepasst werden.</para>

        <figure>
          <title>Assistent bei Variation der Einstellungen</title>

          <mediaobject>
            <imageobject>
              <imagedata fileref="img/1D2D/Randbed_zuordnen_2.png" />
            </imageobject>
          </mediaobject>
        </figure>

        <para>Haben Sie statt der spezifischen Abfluss - Zeitreihe die
        <guilabel>importierte Zeitreihe</guilabel> ausgewählt, können Sie im
        nächsten Schritt eine Zeitreihe einladen. Drücken Sie den Knopf
        <guibutton>Importieren</guibutton>. Der Assistent für den
        Zeitreihenimport hier entspricht dem des Preprocessing Schritt
        <guimenuitem>Import von Zeitreihen</guimenuitem> (siehe <xref
        linkend="Kalypso1D2DImportTimeseries" />). Bestimmen Sie mittels der
        Knöpfe neben den entsprechenden Zeilen einen gültigen Bereich der
        Zeitreihe. Drücken Sie auf <guibutton>Fertig stellen</guibutton> um
        die Zeitreihe zu erstellen.</para>

        <para><emphasis role="bold">Randbedingungen
        bearbeiten</emphasis></para>

        <para>Markieren Sie die gewünschte Randbedingung. Es öffnet sich die
        Feature View mit folgenden Optionen:</para>

        <figure>
          <title>Ansicht zur Bearbeitung von Randbedingungen</title>

          <mediaobject>
            <imageobject>
              <imagedata fileref="img/1D2D/Randbed_bearbeiten.png" />
            </imageobject>
          </mediaobject>
        </figure>

        <para>In der Abbildung oben ist die Feature View der Randbedingungen
        zu sehen. In der Tabelle ist die Zeit mit der dazugehörigen
        Wassertiefe in [m] dargestellt. Die Werte in der Tabelle entsprechen
        zunächst dem eingegebenen Standardwert. Die Zeitreihe muss nun manuell
        editiert werden. Die Stationäre Randbedingung ist wiederum für eine
        stationäre Rechnung von Bedeutung.</para>
      </section>

      <section id="Kalypso1D2DNetzaufbau_BerechnungseundRB_1DEinmuendung">
        <title>1D-Einmündung</title>

        <indexterm>
          <primary>1D-Einmündungen in Kalypso1D2D</primary>
        </indexterm>

        <para>Diese Funktion wird derzeit noch überarbeitet.</para>
      </section>

      <section id="Kalypso1D2DNetzaufbau_BerechnungseundRB_1D2DLinienkopplung">
        <title>1D-2D-Linienkopplung</title>

        <indexterm>
          <primary>Lininenkopplung Kalypso 1D2D</primary>
        </indexterm>

        <para>Ermöglicht die Erstellung einer Kopplung von 1D zu 2D zwischen
        einem 1D-Element und einer 2D-Randlinie.</para>

        <para>Eine 1D-2D Kopplung erscheint in einem hellen grün</para>

        <table align="center" id="symbolleiste im Profileditor wspm">
          <title>Zusatzfunktionen der Karte zur Erstellung einer
          1D-2D-Linienkopplung</title>

          <tgroup align="center" cols="3">
            <colspec colwidth="1*" />

            <colspec colwidth="2*" />

            <colspec colwidth="5*" />

            <tbody>
              <row>
                <entry><figure>
                    <mediaobject>
                      <imageobject>
                        <imagedata align="center"
                                   fileref="img/1D2D/Icon_Karte_1D2DKopplung_herstellen.png"
                                   scale="110" valign="middle" />
                      </imageobject>
                    </mediaobject>
                  </figure></entry>

                <entry align="left" valign="middle">1D-2D-Linienkopplung
                erstellen</entry>

                <entry align="left" valign="middle">Markieren Sie zunächst die
                eine Randlinie (z.B. des 1D Elements), die dann rot erscheint
                und markieren Sie dann die andere Randlinie (z.B. die
                2D-Randlinie), so dass diese ebenfalls rot wird. Drücken Sie
                anschließend auf Enter (Einfügen) und die Kopplung wird
                abgeschlossen.</entry>
              </row>

              <row>
                <entry><figure>
                    <mediaobject>
                      <imageobject>
                        <imagedata align="center"
                                   fileref="img/1D2D/Icon_Karte_1D2DKopplung_entfernen.png"
                                   scale="110" valign="middle" />
                      </imageobject>
                    </mediaobject>
                  </figure></entry>

                <entry align="left" valign="middle">Kopplung markieren und
                entfernen</entry>

                <entry align="left" valign="middle">Markieren Sie mit dem
                Mauszeiger die Kontinuitätslinie. Wenn sie rot erscheint
                drücken Sie Entf auf der Tastatur und die Kontinuitätslinie
                wird entfernt.</entry>
              </row>
            </tbody>
          </tgroup>
        </table>

        <figure>
          <title>1D-2D-Linienkopplung erstellen</title>

          <mediaobject>
            <imageobject>
              <imagedata fileref="img/1D2D/1D2DKopplung_erstellen.png" />
            </imageobject>
          </mediaobject>
        </figure>
      </section>

      <section id="Kalypso1D2DNetzaufbau_BerechnungseundRB_BerechnungseModellieren">
        <title>Berechnungeinheiten modellieren</title>

        <indexterm>
          <primary>Berechnungseinheiten</primary>
        </indexterm>

        <para>Bei diesem Schritt öffnet sich neben der Karte eine Karten
        Werkzeugansicht. Sie enthält alle Tools die nötig sind, um
        Berechnungseinheiten zu erstellen und zu bearbeiten. Im ersten Schritt
        müssen Berechnungseinheiten eingerichtet werden. Drücken Sie hierfür
        den Knopf <inlinemediaobject>
            <imageobject>
              <imagedata fileref="img/1D2D/Icon_Werkzeug_Berechneinh_hinzufuegen.png" />
            </imageobject>
          </inlinemediaobject>. Es öffnet sich ein Assistent, in dem Sie der
        Berechnungseinheit einen Namen geben und einen Typ auswählen. Folgende
        drei Typen stehen zur Auswahl:</para>

        <itemizedlist>
          <listitem>
            <para>1D Berechnungseinheit,</para>
          </listitem>

          <listitem>
            <para>2D Berechnungseinheit oder eine zusammengesetzte
            Berechnungseinheit</para>
          </listitem>

          <listitem>
            <para>1D-2D, 1D-1D, 2D-2D</para>
          </listitem>
        </itemizedlist>

        <para>Wie die Bezeichnungen schon andeuten, kann eine 1D
        Berechnungseinheit nur 1D Elemente enthalten und eine 2D
        Berechnungseinheit nur 2D Elemente. Die zusammengesetzte
        Berechnungseinheit besteht aus vorher definierten 1D und/ oder 2D
        Berechnungseinheiten.</para>

        <para>In der Tabelle sind die verschiedenen Berechnungseinheiten mit
        unterschiedlichen Symbolen dargestellt:</para>

        <itemizedlist>
          <listitem>
            <para><inlinemediaobject>
                <imageobject>
                  <imagedata fileref="img/1D2D/Symbol_Berechnungseinh_1D.png" />
                </imageobject>
              </inlinemediaobject> für eine 1D Berechnungseinheit</para>
          </listitem>

          <listitem>
            <para><inlinemediaobject>
                <imageobject>
                  <imagedata fileref="img/1D2D/Symbol_Berechnungseinh_2D.png" />
                </imageobject>
              </inlinemediaobject> für eine 2D Berechnungseinheit</para>
          </listitem>

          <listitem>
            <para><inlinemediaobject>
                <imageobject>
                  <imagedata fileref="img/1D2D/Symbol_Berechnungseinh_gekoppelt.png" />
                </imageobject>
              </inlinemediaobject> für eine zusammengesetzte
            Berechnungseinheit</para>
          </listitem>
        </itemizedlist>

        <para>Ist eine Berechnungseinheit erstellt worden, kann sie mit den
        Knöpfen, die sie im Menü Berechnungseinheiten verwalten finden,
        bearbeitet werden. Die verschiedenen Funktionalitäten der Knöpfe sind
        in den unten stehenden Tabellen aufgeführt.</para>

        <para>Wird in der Tabelle der Berechnungseinheiten eine
        Berechnungseinheit markiert, so wird sie zum einen in der Karte
        dargestellt (wie in der Abbildung unten; 1D Elemente: blaue Linie
        durch zugehörige Knoten, 2D Elemente: blau schraffiert, Randlinien:
        blaue Striche und Randbedingungen: grünes Häkchen im Knoten) und zum
        anderen werden im <guilabel>Status der aktiven
        Berechnungseinheit</guilabel> angezeigt wie viele 2D Elemente, 1D
        Elemente, Randlinien und Randbedingungen zur Berechnungseinheit
        dazugehören bzw. bei einer zusammengesetzen Berechnungseinheit
        zusätzlich welche Subberechnungseinheiten ausgewählt worden
        sind.</para>

        <figure>
          <title>Ansicht zur Modellierung der Berechnungseinheiten</title>

          <mediaobject>
            <imageobject>
              <imagedata fileref="img/1D2D/Berechneinh_Ansicht.png" />
            </imageobject>
          </mediaobject>
        </figure>

        <table align="center" id="symbolleiste im Profileditor wspm">
          <title>Funktionen der Karten Werkzeugansicht/
          Berechnungseinheiten</title>

          <tgroup align="center" cols="3">
            <colspec colwidth="1*" />

            <colspec colwidth="2*" />

            <colspec colwidth="5*" />

            <tbody>
              <row>
                <entry><figure>
                    <mediaobject>
                      <imageobject>
                        <imagedata align="center"
                                   fileref="img/1D2D/Icon_Werkzeug_Berechneinh_max.png"
                                   scale="110" valign="middle" />
                      </imageobject>
                    </mediaobject>
                  </figure></entry>

                <entry align="left" valign="middle">Berechnungseinheit
                maximieren</entry>

                <entry align="left" valign="middle">Markieren Sie zunächst
                eine Berechnungseinheit in der Tabelle. Wenn Sie nun auf den
                Knopf drücken, wird die ausgewählte Berechnungseinheit
                komplett in der Karte dargestellt (Zoomfunktion).</entry>
              </row>

              <row>
                <entry><figure>
                    <mediaobject>
                      <imageobject>
                        <imagedata align="center"
                                   fileref="img/1D2D/Icon_Werkzeug_Berechneinh_loeschen.png"
                                   scale="110" valign="middle" />
                      </imageobject>
                    </mediaobject>
                  </figure></entry>

                <entry align="left" valign="middle">Berechnungseinheit
                löschen</entry>

                <entry align="left" valign="middle">Markieren Sie eine
                Berechnungseinheit in der Tabelle und drücken Sie dann auf den
                Knopf. Die ausgewählte Berechnungseinheit bzw. ihre Zuordnung
                wird gelöscht.</entry>
              </row>

              <row>
                <entry><mediaobject>
                    <imageobject>
                      <imagedata fileref="img/1D2D/Icon_Werkzeug_Berechneinh_hinzufuegen.png" />
                    </imageobject>
                  </mediaobject></entry>

                <entry align="left" valign="middle">Berechnungseinheit
                hinzufügen</entry>

                <entry align="left" valign="middle">Wenn Sie diesen Knopf
                drücken öffnet sich ein Assistent, in dem Sie einen Namen und
                den Typ der neu zu erstellenden Berechnungseinheit eingeben
                bzw. auswählen müssen. Die Berechnungseinheit erscheint dann
                in der Tabelle.</entry>
              </row>
            </tbody>
          </tgroup>
        </table>

        <table align="center" id="symbolleiste im Profileditor wspm">
          <title>Funktionen der Karten Werkzeugansicht/ Berechnungseinheiten
          verwalten</title>

          <tgroup align="center" cols="3">
            <colspec colwidth="1*" />

            <colspec colwidth="2*" />

            <colspec colwidth="5*" />

            <tbody>
              <row>
                <entry><figure>
                    <mediaobject>
                      <imageobject>
                        <imagedata align="center"
                                   fileref="img/1D2D/Icon_Werkzeug_Element+.png"
                                   scale="110" valign="middle" />
                      </imageobject>
                    </mediaobject>
                  </figure></entry>

                <entry align="left" valign="middle">2D-Element(e) zur
                2D-Basisberechnungseinheit hinzufügen/ entfernen</entry>

                <entry align="left" valign="middle">Aktivieren Sie dieses
                Werkzeug in der Karten Werkzeugansicht. Selektieren Sie dann
                in der Karte die 2D-Elemente, die Sie hinzufügen bzw.
                entfernen möchten. Öffnen Sie nun in der Karte das Menü der
                rechten Maustaste und wählen Sie <guimenuitem>Element(e)
                hinzufügen</guimenuitem> bzw. <guimenuitem>Element(e)
                entfernen</guimenuitem>. Wenn bei der Selektion auch 1D
                Elemente markiert wurden, werden diese nicht mit
                hinzugefügt.</entry>
              </row>

              <row>
                <entry><mediaobject>
                    <imageobject>
                      <imagedata fileref="img/1D2D/Icon_Werkzeug_Element+_1d.png" />
                    </imageobject>
                  </mediaobject></entry>

                <entry align="left" valign="middle">1D-Element(e) zur
                1D-Basisberechnungseinheit hinzufügen/ entfernen</entry>

                <entry align="left" valign="middle">Aktivieren Sie dieses
                Werkzeug in der Karten Werkzeugansicht. Selektieren Sie dann
                in der Karte die 1D-Elemente, die Sie hinzufügen bzw.
                entfernen möchten. Öffnen Sie nun in der Karte das Menü der
                rechten Maustaste und wählen Sie <guimenuitem>Element(e)
                hinzufügen</guimenuitem> bzw. <guimenuitem>Element(e)
                entfernen</guimenuitem>. Wenn bei der Selektion auch 2D
                Elemente markiert wurden, werden diese nicht mit
                hinzugefügt.</entry>
              </row>

              <row>
                <entry><figure>
                    <mediaobject>
                      <imageobject>
                        <imagedata align="center"
                                   fileref="img/1D2D/Icon_Werkzeug_Randlinie+-.png"
                                   scale="110" valign="middle" />
                      </imageobject>
                    </mediaobject>
                  </figure></entry>

                <entry align="left" valign="middle">Randlinie(n) zur
                Basisberechnungseinheit hinzufügen/ entfernen</entry>

                <entry align="left" valign="middle">Aktivieren Sie dieses
                Werkzeug in der Karten Werkzeugansicht. Selektieren Sie dann
                in der Karte die Randlinie(n), die Sie hinzufügen bzw.
                entfernen möchten. Öffnen Sie nun in der Karte das Menü der
                rechten Maustaste und wählen Sie <guimenuitem>Randlinie zur
                Berechnungseinheit hinzufügen</guimenuitem> bzw.
                <guimenuitem>Randlinie von Berechnungseinheit
                entfernen</guimenuitem>. Wenn bei der Selektion auch Elemente
                markiert wurden, werden diese nicht mit hinzugefügt.</entry>
              </row>

              <row>
                <entry><mediaobject>
                    <imageobject>
                      <imagedata fileref="img/1D2D/Icon_Werkzeug_Subberechneinh+.png" />
                    </imageobject>
                  </mediaobject></entry>

                <entry align="left" valign="middle">Basisberechnungseinheit
                zum gekoppelten Element hinzufügen/ entfernen</entry>

                <entry align="left" valign="middle">Dieses Werkzeug ist nur
                aktiv, wenn der Typ der Berechnungseinheit gekoppelt ist. Wenn
                Sie den Knopf drücken öffnet sich ein Assistent. Nun können
                bestehende Sub-Berechnungseinheiten zusammengesetzt werden.
                Markieren Sie eine Berechnungseinheit auf der linken Seite und
                drücken Sie auf den Pfeil, der nach rechts zeigt, wenn Sie
                eine Sub-Berechnungseinheit hinzufügen wollen.</entry>
              </row>

              <row>
                <entry><mediaobject>
                    <imageobject>
                      <imagedata fileref="img/1D2D/Icon_Werkzeug_RB+-.png" />
                    </imageobject>
                  </mediaobject></entry>

                <entry align="left" valign="middle">Randbedingung(en) zur
                Basisberechnungseinheit hinzufügen/ entfernen</entry>

                <entry align="left" valign="middle">Aktivieren Sie dieses
                Werkzeug in der Karten Werkzeugansicht. Selektieren Sie dann
                in der Karte die Randbedingung, die Sie hinzufügen bzw.
                entfernen möchten. Öffnen Sie nun in der Karte das Menü der
                rechten Maustaste und wählen Sie <guimenuitem>Randbedingung
                zur Berechnungseinheit hinzufügen</guimenuitem> bzw.
                <guimenuitem>Randbedingung von Berechnungseinheit
                entfernen</guimenuitem>. Wenn bei der Selektion auch Elemente
                markiert wurden, werden diese nicht mit hinzugefügt.</entry>
              </row>
            </tbody>
          </tgroup>
        </table>
      </section>
    </section>
  </section>

  <section id="Kalypso1D2DRauheitsmodellierung">
    <title>Rauheitsmodellierung</title>

    <indexterm>
      <primary>Rauheitsmodellierung Kalypso 1D2D</primary>
    </indexterm>

    <para>Für die Rauheitsmodellierung müssen Sie Rauheitsshapes importiert
    haben (siehe <xref linkend="Kalypso1D2DImportRoughness" />). Die
    Rauheitsmodellierung besteht aus zwei Schritten. Im ersten Schritt werden
    die Rauheitswerte in einer Tabelle bearbeitet. Im zweiten Schritt können
    die Rauheitszonen in der Karte bearbeitet werden und z. B. neue
    Rauheitspolygone erstellt werden.</para>

    <section id="Kalypso1D2DRauheitsmodellierung_RauheitswerteBearbeiten">
      <title>Rauheitswerte bearbeiten</title>

      <indexterm>
        <primary>Rauheitswerte bearbeiten</primary>
      </indexterm>

      <para>Wenn Sie die Rauheitswerte zur Rauheitsdatenbank hinzufügen
      möchten, öffnen Sie den Baum <guimenuitem>Preprocessing &gt;
      Rauheitsmodellierung</guimenuitem>. Die Rauheitsdatenbank wird geöffnet,
      wenn Sie <guimenuitem>Rauheitswerte bearbeiten</guimenuitem> mit einem
      Doppelklick aktivieren. In der Ansicht sind vier Tabellen zu sehen, die
      im Folgenden einzeln erläutert werden.</para>

      <para><emphasis
      role="bold">Fließwiderstandsklassifizierung:</emphasis></para>

      <para>Diese Tabelle steht ganz oben, da sie die Verbindung aller anderen
      Tabellen darstellt. Drei Spalten dieser Tabelle haben die selben
      Bezeichnungen wie die anderen Tabellen dieser Ansicht:</para>

      <itemizedlist>
        <listitem>
          <para>Rauheitsklasse,</para>
        </listitem>

        <listitem>
          <para>Vegetationsklasse und</para>
        </listitem>

        <listitem>
          <para>Wirbelviskosität.</para>
        </listitem>
      </itemizedlist>

      <para>Die Einträge der Tabelle Fließwiderstandsklassifizierungen sind
      mit den entsprechenden anderen Tabellen verlinkt. Diese Funktionalität
      wird aber für jede Tabelle im Folgenden separat erläutert. Die untere
      Abbildung zeigt jedoch schon einmal wie so eine Verlinkung im Prinzip
      gesetzt wird.</para>

      <para>Die Farbdarstellung ist erst für die Bearbeitung der Rauheitszonen
      in der Karte wichtig. Optional kann auch eine Beschreibung für das
      Element hinzugefügt werden.</para>

      <para>Per Rechtsklick auf das Tabellenfeld kann zwischen verschiedenen
      Funktionen gewählt werden um die Tabelle zu bearbeiten (die Zeile darf
      vorher nicht markiert sein, sonst öffnet sich ein anderes Menü). Eine
      neue Zeile wird immer in der ersten Zeile der Tabelle
      hinzugefügt.</para>

      <figure>
        <title>Tabelle der Fließwiderstandsklassifizierung</title>

        <mediaobject>
          <imageobject>
            <imagedata fileref="img/1D2D/Fliesswiderstandsklassifizierung_1.png" />
          </imageobject>
        </mediaobject>
      </figure>

      <figure>
        <title>Pulldownmenü zur Verlinkung der Tabellen</title>

        <mediaobject>
          <imageobject>
            <imagedata fileref="img/1D2D/Fliesswiderstandsklassifizierung_2.png" />
          </imageobject>
        </mediaobject>
      </figure>

      <para><emphasis role="bold">Rauheitsklassen:</emphasis></para>

      <para>Jedem Element muss eine Rauheitsklasse zugeordnet sein. Zu jeder
      Rauheitsklasse gehört ein k<subscript>S</subscript>-Wert. Die
      standardmäßig voreingestellten Werte setzen sich aus den Werten aus der
      Literatur (BWK- und DVWK-Merkblatt) und aus Erfahrung an der Stör
      zusammen. Die Quelle ist zum Teil der Spalte Beschreibung zu entnehmen.
      Die voreingestellte Rauheitsklassenzuordnung stammt aus der importierten
      Shape-Datei. Der Name für die einzelnen Elemente kann also von Ihnen
      frei gewählt werden.</para>

      <para>Um die Einträge in der Tabelle zu bearbeiten, klicken Sie mit der
      rechten Maustaste auf den gewünschten Eintrag (die Zeile darf vorher
      nicht markiert sein, sonst öffnet sich ein anderes Menü). Die
      Funktionalitäten sind der folgenden Abbildung zu entnehmen.</para>

      <figure>
        <title>Tabelle der Rauheitsklassen</title>

        <mediaobject>
          <imageobject>
            <imagedata fileref="img/1D2D/Rauheitsklassen.png" />
          </imageobject>
        </mediaobject>
      </figure>

      <para>Wenn Sie eine neue Zeile hinzufügen wollen, wählen Sie Neues
      Feature. Die neue Zeile wird immer in der ersten Zeile der Tabelle
      hinzugefügt.</para>

      <para><emphasis role="bold">Vegetationsklassen:</emphasis></para>

      <para>Die Eingabe bzw. Verlinkung einer Vegetationsklasse ist optional.
      In der Tabelle können Sie den mittleren Abstand (ax, ay) sowie den
      mittleren Durchmesser (dp) der Bewuchselemente einstellen.</para>

      <para>Um die Einträge in der Tabelle zu bearbeiten, klicken Sie mit der
      rechten Maustaste auf den gewünschten Eintrag (die Zeile darf vorher
      nicht markiert sein, sonst öffnet sich ein anderes Menü). Die
      Funktionalitäten sind der folgenden Abbildung zu entnehmen.</para>

      <figure>
        <title>Tabelle der Bewuchsklassen</title>

        <mediaobject>
          <imageobject>
            <imagedata fileref="img/1D2D/Bewuchsklassen.png" />
          </imageobject>
        </mediaobject>
      </figure>

      <para>Wenn Sie eine neue Zeile hinzufügen wollen, wählen Sie Neues
      Feature. Die neue Zeile wird immer in der ersten Zeile der Tabelle
      hinzugefügt.</para>

      <para>Um die Einträge zu verlinken, klicken Sie in der Tabelle
      Fließwiderstandsklassifizierung auf den gewünschten Eintrag wo
      standardmäßig <guibutton>&lt;kein Link&gt;</guibutton> zu sehen ist. Es
      öffnet sich ein Pulldownmenü, in dem Sie den gewünschten Namen des
      Bewuchses auswählen können. Um eine Verlinkung wieder rückgängig zu
      machen, wählen Sie einfach im Pulldownmenü wieder <guimenuitem>&lt;kein
      Link&gt;</guimenuitem> aus.</para>

      <para><emphasis role="bold">Wirbelviskosität:</emphasis></para>

      <para>Die Wirbelviskosität wird nur verwendet, wenn bei den
      Steuerparametern eine konstante Wirbelviskosität eingestellt wird. Wenn
      kein Link gesetzt wird, dann rechnet das Programm mit dem
      voreingestellten Wert 2900 für jeden Epsilonwert. In der Tabelle können
      die einzelnen Komponenten eingestellt werden.</para>

      <para>Um die Einträge in der Tabelle zu bearbeiten, klicken Sie mit der
      rechten Maustaste auf den gewünschten Eintrag (die Zeile darf vorher
      nicht markiert sein, sonst öffnet sich ein anderes Menü). Die
      Funktionalitäten sind der folgenden Abbildung zu entnehmen:</para>

      <figure>
        <title>Tabelle der Wirbelviskosität</title>

        <mediaobject>
          <imageobject>
            <imagedata fileref="img/1D2D/Wirbelviskositaet.png" />
          </imageobject>
        </mediaobject>
      </figure>

      <para>Wenn Sie eine neue Zeile hinzufügen wollen, wählen Sie Neues
      Feature. Die neue Zeile wird immer in der ersten Zeile der Tabelle
      hinzugefügt.</para>

      <para>Um die Einträge zu verlinken, klicken Sie in der Tabelle
      Fließwiderstandsklassifizierung auf den gewünschten Eintrag wo
      standardmäßig <guibutton>&lt;kein Link&gt;</guibutton> zu sehen ist. Es
      öffnet sich ein Pulldownmenü, in dem Sie den gewünschten Namen der
      Wirbelviskosität (z.B. in der Abbildung entweder Fluss oder Vorland)
      auswählen können. Um eine Verlinkung wieder rückgängig zu machen, wählen
      Sie einfach im Pull Down Menü wieder <guimenuitem>&lt;kein
      Link&gt;</guimenuitem> aus.</para>
    </section>

    <section id="Kalypso1D2DRauheitsmodellierung_RauheitszonenBearbeiten">
      <title>Rauheitszonen bearbeiten</title>

      <indexterm>
        <primary>Rauheitszonen</primary>
      </indexterm>

      <para>Um die Rauheitszonen zu bearbeiten, öffnen Sie den Baum
      <guimenuitem>Preprocessing &gt; Rauheitsmodellierung</guimenuitem>.
      Aktivieren Sie <guimenuitem>Rauheitszonen bearbeiten </guimenuitem>mit
      einem Doppelklick und der folgende Assistent öffnet sich:</para>

      <figure>
        <title>Assistent zur Einstellung des aktuellen Layers</title>

        <mediaobject>
          <imageobject>
            <imagedata fileref="img/1D2D/Rauheitszonen_bearbeiten.png" />
          </imageobject>
        </mediaobject>
      </figure>

      <para>Im Assistenten haben Sie die Möglichkeit zwischen zwei
      verschiedenen Themen auszuwählen:</para>

      <itemizedlist>
        <listitem>
          <para>Korrekturrauheiten und</para>
        </listitem>

        <listitem>
          <para>Basisrauheiten.</para>
        </listitem>
      </itemizedlist>

      <para>Bei dem Import von Rauheitsshapes (siehe <xref
      linkend="Kalypso1D2DImportRoughness" />) hatten Sie die Möglichkeit ihre
      Shapedatei als Basis- oder als Korrekturlayer einzuladen. Die Basisdaten
      sind zu grob und stimmen eigentlich nur im Vorland mit der Realität
      überein. Der Flussschlauch muss meistens überarbeitet werden. Ihnen
      steht frei, ob Sie diese Korrektur mit Kalypso1D2D durchführen wollen,
      oder ob Sie mit einer anderen GIS-Software arbeiten.</para>

      <para>Wenn Sie den Flussschlauch mit Kalypso1D2D korrigieren wollen,
      dann markieren Sie in dem Assistenten Korrekturrauheiten und gehen
      anschließend auf <guibutton>OK</guibutton>. Haben Sie die Korrektur
      bereits mit einer anderen Software durchgeführt, dann importieren Sie
      diese Shapedatei als Korrekturlayer (siehe <xref
      linkend="Kalypso1D2DImportRoughness" />). Der Basislayer wird dann
      automatisch in den korrigierten Bereichen mit dem Korrekturlayer
      überschrieben, ohne dass sie die Basisshapedatei verändert haben.</para>

      <para>Damit die Rauheitszonen in der Karte dargestellt werden, muss in
      der Gliederung <guimenuitem>Rauheiten</guimenuitem> mit einem Häkchen
      markiert sein.</para>

      <figure>
        <title>Kartendarstellung der Rauheitszonen</title>

        <mediaobject>
          <imageobject>
            <imagedata fileref="img/1D2D/Rauheitszonen_bearbeiten_Ansicht.png" />
          </imageobject>
        </mediaobject>
      </figure>

      <table align="center" id="symbolleiste im Profileditor wspm">
        <title>Funktionen der Karte zur Bearbeitung der Rauheitszonen</title>

        <tgroup align="center" cols="3">
          <colspec colwidth="1*" />

          <colspec colwidth="2*" />

          <colspec colwidth="5*" />

          <tbody>
            <row>
              <entry><figure>
                  <mediaobject>
                    <imageobject>
                      <imagedata align="center"
                                 fileref="img/1D2D/Rauheitszonen_Icon_Polygonneu.png"
                                 scale="110" valign="middle" />
                    </imageobject>
                  </mediaobject>
                </figure></entry>

              <entry align="left" valign="middle">Neues Polygon
              erstellen</entry>

              <entry align="left" valign="middle">Benutzen Sie diesen Knopf um
              neue Polygone zu erstellen. Klicken Sie beliebig oft mit dem
              linken Mauszeiger auf gewählte Knotenpunkte. Beenden Sie das
              Polygon mit einem Doppelklick auf den letzten Knoten.</entry>
            </row>

            <row>
              <entry><figure>
                  <mediaobject>
                    <imageobject>
                      <imagedata align="center"
                                 fileref="img/1D2D/Rauheitszonen_Icon_Polygonloeschen.png"
                                 scale="110" valign="middle" />
                    </imageobject>
                  </mediaobject>
                </figure></entry>

              <entry align="left" valign="middle">Polygon löschen</entry>

              <entry align="left" valign="middle">Benutzen Sie diesen Knopf um
              Polygone zu löschen. Markieren Sie mit der linken Maustaste ein
              Polygon, dieses dann gelb mit einem roten Rand erscheinen
              sollte. Drücken Sie anschließend auf der Tastatur auf
              <guibutton>Entf</guibutton> und das Polygon wird
              gelöscht.</entry>
            </row>

            <row>
              <entry align="center"><mediaobject>
                  <imageobject>
                    <imagedata align="center"
                               fileref="img/1D2D/Rauheitszonen_Icon_Polygonbearbeiten.png" />
                  </imageobject>
                </mediaobject></entry>

              <entry align="left" valign="middle">Polygon bearbeiten</entry>

              <entry align="left" valign="middle">Benutzen Sie diesen Knopf,
              wenn Sie einzelne Knoten bestehender Polygone verschieben
              wollen. Die Snapfunktion erleichtert das Suchen der Knoten, d.h.
              alle Knoten, die in der näheren Umgebung des Mauszeigers sind
              werden angezeigt.</entry>
            </row>

            <row>
              <entry><mediaobject>
                  <imageobject>
                    <imagedata fileref="img/1D2D/Rauheitszonen_Icon_Rauheitszonenbearbeiten.png" />
                  </imageobject>
                </mediaobject></entry>

              <entry align="left" valign="middle">Rauheitszonen des
              ausgewählten Polygons bearbeiten</entry>

              <entry align="left" valign="middle">Benutzen Sie diesen Knopf um
              Rauheitspolygone zu kalibrieren. Klicken Sie einmal mit der
              linken Maustaste in ein Polygon. Das Polygon wird markiert (es
              wird gelb mit einer roten Umrandung dargestellt) und unter der
              Karte öffnet sich die Feature View indem die Einstellungen
              vorgenommen werden können.</entry>
            </row>
          </tbody>
        </tgroup>
      </table>

      <para>Wenn Sie ein neues Rauheitspolygon im Korrekturlayer erstellt
      haben, müssen Sie es in der Feature View editieren. Hierfür stehen Ihnen
      die verschiedenen Rauheitsklassen aus der Basisshapedatei zur Verfügung,
      die Sie nur noch mit einem Korrekturfaktor bearbeiten sollten, damit die
      Basisdaten nicht verändert werden. In der folgenden Abbildung die
      Eingabe von Korrekturfaktoren beispielhaft dargestellt.</para>

      <figure>
        <title>Die Feature View eines neu erstellen Polygons im
        Korrekturlayer</title>

        <mediaobject>
          <imageobject>
            <imagedata fileref="img/1D2D/Rauheitszonen_bearbeiten_korrektur.png" />
          </imageobject>
        </mediaobject>
      </figure>

      <section id="Kalypso1D2DRauheitsmodellierung_RauheitszonenBearbeiten_Polygonneu">
        <title>Neues Polygon erstellen</title>

        <indexterm>
          <primary>Neues Rauheitspolygon erstellen in Kalypso1D2D</primary>
        </indexterm>

        <para>Benutzen Sie den Knopf <inlinemediaobject>
            <imageobject>
              <imagedata fileref="img/1D2D/Rauheitszonen_Icon_Polygonneu.png" />
            </imageobject>
          </inlinemediaobject> um neue Polygone zu erstellen. Klicken Sie
        beliebig oft mit dem linken Mauszeiger auf gewählte Knotenpunkte.
        Beenden Sie das Polygon mit einem Doppelklick auf den letzten Knoten.
        Ein neu erstelltes Polygon wird mit einer gestrichelten roten Linie
        umrandet. In der Feature View können weitere Einstellungen vorgenommen
        werden.</para>

        <figure>
          <title>Neue Polygone erstellen</title>

          <mediaobject>
            <imageobject>
              <imagedata fileref="img/1D2D/Rauheitszonen_Polygonneu.png" />
            </imageobject>
          </mediaobject>
        </figure>
      </section>

      <section id="Kalypso1D2DRauheitsmodellierung_RauheitszonenBearbeiten_Polygonloeschen">
        <title>Polygone löschen</title>

        <indexterm>
          <primary>Rauheitspolygone löschen in Kalypso1D2D</primary>
        </indexterm>

        <para>Benutzen Sie den Knopf <inlinemediaobject>
            <imageobject>
              <imagedata fileref="img/1D2D/Rauheitszonen_Icon_Polygonloeschen.png" />
            </imageobject>
          </inlinemediaobject> um Polygone zu löschen. Markieren Sie mit der
        linken Maustaste ein Polygon, dieses dann gelb mit einem roten Rand
        erscheinen sollte. Drücken Sie anschließend auf der Tastatur auf
        <guibutton>Entf</guibutton> und das Polygon wird gelöscht.</para>
      </section>

      <section id="Kalypso1D2DRauheitsmodellierung_RauheitszonenBearbeiten_Polygonbearbeiten">
        <title>Polygone bearbeiten</title>

        <indexterm>
          <primary>Rauheitspolygone bearbeiten in Kalypso1D2D</primary>
        </indexterm>

        <para>Benutzen Sie den Knopf <inlinemediaobject>
            <imageobject>
              <imagedata fileref="img/1D2D/Rauheitszonen_Icon_Polygonbearbeiten.png" />
            </imageobject>
          </inlinemediaobject> , wenn Sie einzelne Knoten bestehender Polygone
        verschieben wollen. Die Snapfunktion erleichtert das Suchen der
        Knoten, d.h. alle Knoten, die in der näheren Umgebung des Mauszeigers
        sind werden angezeigt (siehe folgende Abbildung). Klicken sie mit der
        linken Maustaste auf den Knoten, den Sie verschieben wollen und ziehen
        Sie ihn per Drag&amp; Drop zu den gewünschten Koordinaten.</para>

        <figure>
          <title>Mit der Snapfunktion werden umliegende Knoten angezeigt, die
          per Drag&amp; Drop verschoben werden können.</title>

          <mediaobject>
            <imageobject>
              <imagedata fileref="img/1D2D/Rauheitszonen_Polygonbearbeiten.png" />
            </imageobject>
          </mediaobject>
        </figure>
      </section>

      <section id="Kalypso1D2DRauheitsmodellierung_RauheitszonenBearbeiten_Rauheitszonebearbeiten">
        <title>Rauheitszonen der Polygone bearbeiten</title>

        <indexterm>
          <primary>Rauheitszonen der Polygone bearbeiten in
          Kalypso1D2D</primary>
        </indexterm>

        <para>Benutzen Sie den Knopf <inlinemediaobject>
            <imageobject>
              <imagedata fileref="img/1D2D/Rauheitszonen_Icon_Rauheitszonenbearbeiten.png" />
            </imageobject>
          </inlinemediaobject> um Rauheitspolygone z.B. zum Zwecke des
        Kalibrierens zu editieren. Klicken Sie einmal mit der linken Maustaste
        in ein Polygon. Das Polygon wird markiert (es wird gelb mit einer
        roten Umrandung dargestellt) und unter der Karte öffnet sich die
        Feature View indem die Einstellungen vorgenommen werden können. Die
        Ansicht ist in der unteren Abbildung einmal beispielhaft
        dargestellt.</para>

        <figure>
          <title>Ansicht der Feature View zur Einstellung der Parameter des
          selektierten Rauheitspolygons</title>

          <mediaobject>
            <imageobject>
              <imagedata fileref="img/1D2D/Rauheitszonen_bearbeiten_Featureview.png" />
            </imageobject>
          </mediaobject>
        </figure>

        <para>In der Feature View sind auf der linken Seite die
        Rauheitspolygon Angaben aus der Tabelle aus dem vorherigen Schritt
        <emphasis role="bold">Rauheitswerte bearbeiten</emphasis> entnommen.
        Im Korrekturlayer sind alle Eingaben optional. Wurde eine Shapedatei
        mit Rauheitszonen eingeladen, dann wird daraus die Information der
        Fließwiderstandsklassifizierung entnommen. Auf der rechten Seite kann
        man zur Kalibrierung Korrekturfaktoren angeben. Soll z.B. der
        Durchmesser des Bewuchses um 20% erhöht werden, so muss in das weiße
        Kästchen bei <guilabel>Korrektur Dp</guilabel> der Faktor 1.2
        angegeben werden.</para>

        <note>
          <para>Die Dezimalstellen der Korrekturfaktoren müssen mit einem
          Punkt getrennt werden. Der eingegebene Faktor wird rot dargestellt,
          wenn die Eingabe fehlerhaft ist und das X neben dem Kästchen
          verschwindet nicht.</para>
        </note>
      </section>
    </section>
  </section>

  <section id="Kalypso1D2DDatenexport">
    <title>Daten exportieren</title>

    <indexterm>
      <primary>Datenexport</primary>
    </indexterm>

    <para>Der Datenexport ermöglicht es z.B. FE-Netze zu speichern.</para>

    <section id="Kalypso1D2DExportFENetz">
      <title>Exportieren von FE-Netzen</title>

      <indexterm>
        <primary>Export von FE-Netzen</primary>
      </indexterm>

      <para>Um ein FE-Netz zu exportieren, öffnen Sie in der Ansicht
      "Aktivitäten" den Baum <guimenuitem>Preprocessing &gt; Daten
      exportieren</guimenuitem>. Aktivieren Sie mit einem Doppelklick
      <guimenuitem>Exportieren von FE-Netzen</guimenuitem> um den zugehörigen
      Assistenten zu öffnen. Klicken Sie auf
      <guibutton>Durchsuchen</guibutton> und wählen Sie ein Verzeichnis aus,
      wohin das FE-Netz exportiert werden soll. Fügen Sie die Endung
      <filename>*.2d</filename> zum Dateinamen hinzu.</para>

      <para>Anschließend müssen Sie noch angeben, was Sie exportieren möchten.
      Es gibt zwei Möglichkeiten:</para>

      <itemizedlist>
        <listitem>
          <para>Mittseitenknoten; sind Knoten in der Mitte der Kanten, die von
          Kalypso erzeugt werden</para>
        </listitem>

        <listitem>
          <para>Rauheitsklassen; sind Einträge, die einem Element bestimmte
          Rauheitszonen zuordnen</para>
        </listitem>
      </itemizedlist>

      <para>Wenn Sie das entsprechende Kästchen mit einem Häkchen markiert
      haben, klicken Sie auf <guibutton>Fertig stellen</guibutton>.</para>

      <figure>
        <title>Assistent zum exportieren von FE-Netzen</title>

        <mediaobject>
          <imageobject>
            <imagedata fileref="img/1D2D/Export_FENetze_Assistent.png" />
          </imageobject>
        </mediaobject>
      </figure>
    </section>
  </section>
</chapter>