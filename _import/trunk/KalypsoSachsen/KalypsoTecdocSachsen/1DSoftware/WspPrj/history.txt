Modulhistory von wspprj.dll
---------------------------

Die jeweilige Überschrift bezeichnet das CVS-Tag.
Der Tag hat jeweils die Form: wspprj.dll-%fileverson%

CVSStart
--------
Tag für den Import-Branch


wspprj-1-1-1-2
--------------
Tag für die Import-Revision. Ab jetzt CVS-Verwaltung

wspprj-1-1-2-0
--------------
Funktion Project::GetMapDir() hinzugefügt
Versionsresourcen hinzugefügt

wspprj-1.2.0.0
--------------
- Zustände ( und alles was dran hängt ) lassen sich Clonen ( d.h. identichte Kopien anfertigen )
- Eintragen von Wasserpiegeln in alle Querprofile eines Zustandes
- wsp.prj als Klasse ProjektList gekapselt
- Bugfix bei CalcData: Wsp-Höhe wird mit 2 Nachkommastellen rausgeschrieben

wspprj-1-2-1-0
--------------
- Projekt::DatenExportHyk: bei der jeweils ersten Station wird als Abstand nicht mehr we bisher 9999.0, 
    sondern der Abstand zum nächsten Profil eingetragen ( im Gegensatz zu allen anderen Profilen, wo
    jeweils der Abstand zum vorhergehenden eingetragen wird ).
- Projekt::Remove: das Projekt wird ab sofort in den Papierkorb gelöscht

wspprj-dll-1-2-2-0
------------------
- ProfilCtrl: ein EditorFenster für Profile
- Bugfix in Section::SetModified: absturz, falls kein Project vorhanden

wspprj-dll-1-2-2-1
------------------
- ProfilCtrl: erstes ernsthaftes release

wspprj-dll-1-2-2-2
------------------
Bugfix: Fehler beim rausschreiben der wsp.cfg

wspprj-dll-1-2-3-0  6-11-2001
-------------------
- Bugfix: Standardkonstruktor von Profil war Schrott: Fehler beim Plotter: .wpl Dateien konnten nicht mit neuem Stempel/
			Template formatiert werden ( Absturz nach ok im Eigenschaftendialog )
- Bugfix: Datenblöcke mit negativer Nummer ( z.B. DST_COMMENT ) wurden nicht richtig erkannt
- neu: Profil::GetComment liest den Kommentar Datenblock richtig aus
- Bezeichnungen der Masseinheiten der Datenblöcke vereinheitlicht
- neu Profil::GetDataBlockByIndex

wspprj-dll-1-2-4-0 9.11.2001
------------------
- ProfilCtrl: es wird doch nur ein Profil und keine Section übergeben

wspprj-dll-1-2-5-0 20.11.2001
------------------
- Datablock: WSP_HOEHE in GetExtent aufgenommen
- DataBlock: KREIS in Paint aufgenommen
- Fehler im Konstruktor von State: zu grosse Zahlen führten zu schlechter serialisierung
- Fehler im Projekt::TrippleImport: y-Abstände wurden falsch berechnet
- Fehler in State::RemoveWSP: Manchmal ist die WSP-Kennung doch ab Spalte 100 und nicht ab Spalte 200
- Bugfix: DST_COMMENT wurde nicht richtig serialisiert
- Bugfix: CrossSection::InsertWsp: manchmal waren Anfangs- und Endpunkt eines Wasserspiegels auf der gleichen Koordinate 
	-> werden jetzt ignoriert
- BranchTable: Funktionen zum durchsuchen der Netzverknüpfung
- State, CrossSection: Functionen zum erstellen einer Netzverknüpfung

wspprj-dll-1-2-5-1 11-12-2001
------------------
- Bugfix in Projekt::InsertConnection: Profile am Stranganfang wurden nicht richtig einsortiert
- die Funktion Projekt::AddCrossSections( Profil, ... ) wurde erweitert ( weil der Gewässername vor der Erzeugung des
	Dateinamens gesetzt werden muss )

wspprj-dll-1-2-5-2 24.1.2002
------------------
- nochmal Vereinheitlichung des Interfaces von Profil

wspprj-dll-1-2-5-3
------------------
- DataBlock::CheckData neu: überprüft die Daten auf inhaltliche Konsistenz


wspprj-dll-1-2-5-4 13.3.2002
------------------
- ein paar kleinere Bugfixes im Zusammenhang mit dem Hinzufügen neuer Profile:
	- die Strangtabelle wird beim lesen/schreiben nicht mehr (falsch) sortiert
	- Nachfolgebeziehung von Querprofilen berücksichtigt auch Mehrfeldbrücken

- Konstruktor von DataBlock um Typ erweitern; neue Funktion Datablock::CheckAllYZero 
- CrossSectionArray als Klasse mit Funktion ChangeDataBlocks zum weiträumigen Ersetzen
von DatenBlöcken in Listen von Profilen

Hängt ab von common-lib-1-0-0-1

wspprj-dll-1-2-5-5 25.3.2002
------------------
- Anpassung an Änderungen in der CommonMfc.lib

wspprj-dll-1-2-6-0 25.4.2002
------------------
- Projektmanager in wspprj.dll verschoben; d.h. nur noch wspwin.exe von wspdlg.dll abhängig

wspprj-lib-1-3-0-0 4.6.2002
------------------
- WspPrj.dll in statische Bibliothek umgewandelt: Vorteil: bei Änderungen müssen nicht mehr alle exes 
  (z.B. wspdlg.dll, wspwin.exe, editor.exe und interp.exe ) neu kompiliert werden, sondern nur noch diejenige dies 
  es betrifft.

- Löschen von Profilen aus dem Strang: 
	- löscht nicht mehr automatisch die CrossSection
	- es besteht die Möglichkeit auch die Datei zu löschen
	- Aktualisiert die Strangtabelle ( die Connections )

- Neue Projekte in der ProjektList werden an den Anfang und nicht ans Ende gesetzt

wspprj-lib-1-3-1-0 20.6.2002?
-------------------
- Bugfix bei State::InsertConnection: Sortierung war manchmal Schrott
- Datenimport Da66 geändert: 0er und 66er Zeilen sind nicht mehr nötig
- DataBlock: Sonderprofil Kommentar: Anzahl der Kommentarzeilen = Anzahl der Koordinaten ( Zeile 14, Profil ),
und nicht mehr 7. Stelle der Plotparameter


wspprj-lib-1-3-2-0
------------------
- State::SaveOutFlows: CFile::Remove wirft manchmal eine Exception, diese wurde aber nicht abgefangen und führte in
WspWin zu einer Ausnahme -> jetzt wird sie abgefangen
- neue Funktionen in Project, die die Plotterpfade zurückliefern
- Da50 Import repariert: die beiden GeoPunkte sollten den ersten und letzten Punkt des Profils referenzieren, sonst nix
- Da50 Import nach State verschoben
- Bugfix: Da66 Import war Schrott!
- Bugfix: Immer noch Fehler bei State::InsertCrossSEction

wspprj-lib-2-a-0-0 30.8.2002
------------------
- Anpassungen an Änderungen der Klassen Rect und Point aus der commonMfc in Templates
- Tripple-Import nach State verschoben
- Einfügen von Wasserspiegeln in Querprofile: es wird zusätzlich der Abfluss ins Querprofil eingetragen
- Bugfix: bei Speichern der Berechnungsvarianten gibts nicht immer die Meldug 'Profil == null'
- Neue Funktionen in Profil und CrossSectionArray: beliebige Datenblöcke löschen
- Neuer Menupunkt im Projektmanager: Querprofile / Datenblöcke löschen
- Achtung: ab jetzt neue Tagging/Release Strategie

Hängt ab von common-lib-2-a-0-0

wspprj-lib-2-a-0-1 vom 2.9.2002
------------------
- Bugfix: Fehlende wsp.prj führt nicht mehr zum Absturz !
- neue Möglichkeit beim Eintragen der Wsp in die Querprofile: Abfluss kann mit Eingetragen werden
- Neuer Menupunkt: Querprofile / Datenblöcke löschen...: es können beliebige Datenblöcke ( Auswahl nach Typ ) aus ausgewählten 
Querprofilen gelöscht werden.

Hängt ab von
	common-lib-2-a-0-1

wspprj-lib-2-a-0-2
------------------
Einheit (Bezeichnung) des Datensatzes RAUHIGKEIT_KST geändert

Hängt ab von
	common-lib-2-a-0-3
	
wspprj-lib-2-a-1-0 16.11.2002
------------------
- Interface von Project etwas geändert ( CString& -> const CStirg& )
- Neue Funktion AddComment in Klasse Profil zum hinzufügen von Kommentarzeilen zu Profilen
- Bugfix: SetCommentLine in DataBlock war Schrott
- Bugfix: Datenblock 'Kommentar' wurde falsch rausgeschrieben (mehrere kleine Bugs)
- Bugfix: State::InsertConnection: das zweite Profil wurde falsch einsortiert
- Neuer Menupunkt: Längsschnitt / Erzeugen: erzeugt aus beliebigen Querprofilen einen Längsschnitt. Übernimmt eineige Daten(Bordvol, DKUK, DKOK,
Kommentare, WSP)
- DatenBlöcke werden jetzt nach Typnummer sortiert rausgeschrieben
- CrossSectionArray::ChangeDataBlocks verträgt jetzt auch WSP_HOEHE

Hängt ab von
	common-lib-2-a-0-3
	
wspprj-lib-2-0-0-0 22.1.2003
------------------
- neue klasse SectionArray
- Bugfix: Da66 Import: falls das Format nicht ganz ok (Zeile zu kurz) gabs absturz
- Bugfix: löschen von Profilen: es wurde gleich die ganze Strngtabelle gelöscht
- Bugfix: Da50: bisher wurde in den Bereich der beiden Festpunkte hinein skaliert (falsch). Jetzt wird eindach nur
auf diese Gerade projiziert.
- Längsschnitt erzeugen: erster und letzter Profilpunkt werden als 2.Böschung links/rechts rausgeschrieben

wspprj-lib-2-0-1-0 4.2.2003
------------------
- Projekte sind jetzt entweder BCE oder LWA Projekte: laden/speichern darauf abgestimmt, noch nicht ganz fertig

Hängt ab von 
	common-lib-2-0-0-1
	bce-lib-1-1-2-1
	
wspprj-2-0-2-0
--------------
- Da66 Export:
	- schreibt jetzt noch zusätzlich eine 50er Zeile pro Profil raus; wahlweise (TODO) Referenz auf den ersten oder den 0 Punkt
	- wird jetzt rein Spaltenorientiert gelesen (wie REB), fehlendes Leezeichen zwischen x,y Koordinaten jetzt ok

- kein ständiges blödes Fragen nach dem ProjektTyp mehr; (es gibt jetzt auch 'undefined')

wspprj-2-0-2-1 15.5.2003
--------------
- Bugfix: durch das Sortieren der Datenblöcke wurden bei doppelte Datenblöcke (z.B. WSP_HOEHE) 
immer nur der erste rausgeschrieben
- WSP Eintragen in Laengsscnitte: das Häkchen für durchst. Bereiche war falsch bezeichnet

wspprj-2-0-3-0 8.3.2003
--------------
- Bugfix: bei Eintragen von WSP in Querprofile: bei leerem Formatstring gabs nen Fehler
- Bugfix: Lesen der Datenblockkennung war Schrott bei Profilnummer grösser 99 (sonderprofile wurden nicht mehr erkannt)
- Bugfix: Fehler beim d50 import: Referenzierung auf ersten Profilpunkt hat nicht funktioniert
- Bugfix: Toleranz bei Stationssuche (für Da50-Import) war zu klein -> Stationen mit mehr als 4 Stellen wurden nicht richtig zugeordnet


wspprj-2-1-0-0 5.4.2004
--------------
- Triple-Klassen überarbeitet
- beim Lesen der Profildatei: bessere Fehlermeldung, Dateiname wird mitangezeigt
- Projektmanager: Neuer Menupunkt 'Spiegeln von Querprofilen' (alles ausser Armco)
- Bugfix: manchmal Fehler beim lesen der 3 Zeile eines Datenblocks
- neuer Datenblock: 'Bereiche', wird nur im Plotter benutzt um z.B. pol. Grenzen darzustellen
- Bugfix: D66 - Import: Leerzeichen am Zeilenende führte manchmal zu 0-Koordinaten in den Profilen
- Bugfix: Datenblock 'Kommentar' auch per 'Querprofile-Datenblöcke löschen' löschbar
- Projektmanager: Drucken funktioniert jetzt -> als Druckausgabe in eine Textdatei
- Bugfix: Einsortieren von Profilen in die Strangtabelle: auch die zweite Station wird richtig einsortiert
- Bugfix: Da66 Import: die Profilstationen werden jetzt korrekt auf 4 Nachkommastellen gerundet und entsprechend in die Strangtabelle eingetragen

wspprj-2-1-1-0 24.1.2005
--------------
- Bugfix: Profile schreiben: falls Datenblöcke 'DST'UNKNOWN' drin waren, wurden diese nicht mehr rausgeschrieben und die Koordinatenzahl falsch berechnet.
- Projektmanager: über den neuen Menüpunkt 'Längsschnitte - Als Tabelle exportieren...' können ein oder mehrere Längsschnitte 
in ein tabellarisches (CSV, Comma Separated Values) Format exportiert werden
- Datenimport D66/D50:
	- Station wurde falsch umgerechnet, wenn das Stationsfeld nicht komplett mit Nullen aufgefüllt war
	- es wird beim D50 Import eine Log-Datei angelegt (gleiches Verzeichnis wie D50 Datei, .log als Endung)

wspprj-2-1-2-0 15.8.2005
--------------
- Projektmanager, Trippleimport: falls das Wort "RAUHEIT KS" bzw. "RAUHEIT KST" in der ersten Zeile auftaucht, wird eine
zusätzliche Spalte (vor der Kennungsspalte) gelesen und als Rauheitswerte interpretiert und ins Profil geschrieben.
- Bugfix: Schreiben der Zustandsdatei: Fehler beim Schreiben der Zustandsdatei bei Stationen mit km mehr als 3 Stellen vor dem Komma.
- Tripple-Import: es werden jetzt immer Trennflächen, durchströmte Bereiche und Rauheiten erzeugt.

wspprj-2-1-3 21.2.2006
------------
- Rausschreiben der Berechnungsparameter für Pasche: die Anfangs- und Endstation wurde nicht mit der richtigen Anzahl von Nachkommastellen
geschrieben, dadurch Probleme bei Stationen mit 4 Stellen nach dem Komma
- Tabellarischer-Export von Querprofilen: enthält jetzt auch die Bewuchsparameter
- Bugfix: die Leseroutine vom Datensatz DATPLT führt zu einer Endlosschleife, wenn die Endekennung fehlt (ist aufgetaucht beim fälschlichen lesens dieses Blocks)