<?xml version="1.0" encoding="UTF-8"?>
<section id="robotron-ldap" vendor="sachsen-anhalt">
  <title>Benutzerdienst: LDAP, Szenario, usw.</title>

  <indexterm>
    <primary>Schnittstellen</primary>

    <secondary>Benutzerdienst</secondary>
  </indexterm>

  <indexterm>
    <primary>Schnittstellen</primary>

    <secondary>Benutzerdienst</secondary>

    <tertiary>LDAP</tertiary>
  </indexterm>

  <para>KALYPSO unterstützt folgende Benutzerklassen:</para>

  <itemizedlist>
    <listitem>
      <para>Vorhersage,</para>
    </listitem>

    <listitem>
      <para>Experte und</para>
    </listitem>

    <listitem>
      <para>Administration.</para>
    </listitem>
  </itemizedlist>

  <para>In der HVZ wird das Recht <quote>Modellierer</quote> (als Attribut in
  den LDAP-Eigenschaften eines Benutzers, mehr Information dazu erhalten Sie
  in der Technischen Dokumentation des IMS) an Benutzer vergeben, die
  KALYPSO-Experten bzw. -Administratoren sind. Weitere feingranulierte
  Benutzerrechte werden nicht benötigt. Die Client-Anwendung passt die
  Oberfläche automatisch an die Benutzerklassen eines Benutzers an.</para>

  <para>Zusätzlich wird des Flag <quote>Simulation</quote> (als Attribut in
  den LDAP-Eigenschaften eines Benutzers, mehr Information dazu erhalten Sie
  in der Technischen Dokumentation des IMS) ausgewertet. Ist das Flag gesetzt,
  darf sich der Benutzer nur im Simulationsbetrieb anmelden. Sonst darf er
  sich im Regelbetrieb und im Simulationsbetrieb anmelden.</para>

  <para><xref linkend="abb_ims_user" /> fasst diese Zuordnung zusammen.
  <figure id="abb_ims_user">
      <title>Zuordnung der Benutzerberechtigung in KALYPSO</title>

      <mediaobject>
        <imageobject>
          <imagedata fileref="img/sst/sachsen-anhalt/ims_user.png"
                     format="PNG" scale="40" />
        </imageobject>
      </mediaobject>
    </figure></para>

  <para>Das Java-SDK bietet standardmäßig Klassen und Methoden an, um auf
  einen Verzeichnisdienst zugreifen zu können. Es werden also keine besonderen
  Java-Bibliotheken benötigt.</para>

  <para>Die Konfiguration der LDAP-Zugriffe und die allgemeinen Benutzer- und
  Szenario-Einstellungen werden in den Konfigurationsdateien, die im
  Konfigurationsverzeichnis des Kalypso-Benutzerdienstes abgelegt sind,
  vorgenommen. Der Pfad lautet:</para>

  <para><filename>TOMCAT_HOME\webapps\webdav\srvconf\IUSerService</filename>.</para>

  <para>Hier folgt ein Beispiel für eine Konfigurationsdatei des
  Benutzerdienstes. <programlisting># classname of the user rights provider
PROVIDER=org.kalypso.robotronadapter.RobotronRightsProvider

# gibt an ob clients ein Login-Maske benutzen sollten damit
# sich der Benutzer einloggt. Wenn nicht gesetzt, dann wird
# immer der Name der am System angemeldete Benutzer genommen.
# dieser Eigenschaft ist optional: default ist false
IMPERSONATE_USER=true

# gibt an welche Liste von Szenarien dem Benutzer zur Verfügung 
# stehen sollen. Dieser Eigenschaft ist optional: default ist leer.
SCENARIO_ID_LIST=;test
SCENARIO_INI_LIST=normal.ini;test.ini

# gibt an ob der Benutzer sich einem Szenario aussuchen muss wenn
# die Applikation startet
# dieser Eigenschaft ist optional: default ist false
CHOOSE_SCENARIO=true

# Following properties are especially used for the connection
# to the LDAP server in the HVZ Installation
LDAP_CONNECTION=ldap://smdhvzldat:389/dc=hvz,dc=lhw,dc=mlu,dc=lsa-net,dc=de
LDAP_PRINCIPAL=cn=admin,dc=hvz,dc=lhw,dc=mlu,dc=lsa-net,dc=de
LDAP_CREDENTIALS=geheim</programlisting></para>

  <section>
    <title>Szenarien: Regelbetrieb und Simulationsbetrieb</title>

    <indexterm>
      <primary>Schnittstellen</primary>

      <secondary>Benutzerdienst</secondary>

      <tertiary>Szenarien</tertiary>
    </indexterm>

    <para>Die Variable <emphasis>SCENARIO_INI_LIST</emphasis> gibt an, welche
    sog. INI-Dateien (Konfigurationsdateien) für die Parametrisierung der
    verschiedenen Betriebsmodi zuständig sind. Dort können die
    Darstellungseigenschaften der Kalypso-Benutzeroberfläche je nach Modus
    angepasst werden. Im Simulationsbetrieb wird <abbrev>z. B.</abbrev> die
    Datei <filename>test.ini</filename> benutzt, diese legt fest, dass
    Diagramme ein Wasserzeichen (siehe Eigenschaft
    <emphasis>DIAG_BACKGROUND_IMAGE_URL</emphasis>) und Tabellen eine
    zusätzliche Kopfzeile (siehe Eigenschaft
    <emphasis>TABLE_HEADER_IMAGE_URL</emphasis>) erhalten.</para>
  </section>
</section>