<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.3"?>
<plugin>
   <extension
         id="org.kalypso.risk.project.KalypsoRiskProjectNature"
         name="KalypsoRiskProjectNature"
         point="org.eclipse.core.resources.natures">
      <runtime>
         <run
               class="org.kalypso.risk.project.KalypsoRiskProjectNature">
         </run>
      </runtime>
      <requires-nature
            id="org.kalypso.afgui.ScenarioHandlingProjectNature">
      </requires-nature>
      <requires-nature
            id="de.renew.workflow.connector.WorkflowProjectNature">
      </requires-nature>
   </extension>
   <extension
         point="org.eclipse.ui.intro.configExtension">
      <configExtension
            configId="org.kalypso.model.product.configId"
            content="content/ext.xml">
      </configExtension>
   </extension>
   <extension
         point="de.renew.workflow.model.workflowSystem">
      <workflowSystem
            definition="etc/workflow.xml"
            id="workflowKalypsoRisk"
            name="Workflow Kalypso Risk">
      </workflowSystem>
   </extension>
	<extension
       point="org.eclipse.ui.newWizards">
		<category
            id="org.kalypso.risk.wizard.CreateProject"
            name="Risk Model"
            parentCategory="org.kalypso.ui.newwizards.kalypso"/>
		<wizard
        category="org.kalypso.ui.newwizards.kalypso/org.kalypso.risk.wizard.CreateProject"
        class="org.kalypso.risk.project.KalypsoRiskProjectWizard"
        finalPerspective="org.kalypso.kalypso1d2d.pjt.perspective.Perspective"
        icon="icons/risk_project.gif"
        id="org.kalypso.risk.project.KalypsoRiskProjectWizard"
        name="Kalypso Risk Model"
        project="true">
		<description>Creates a new risk project</description>
		</wizard>
		<wizard
            class="org.kalypso.risk.model.actions.dataImport.landuse.ImportLanduseWizard"
            icon="icons/risk_project.gif"
            id="org.kalypso.risk.model.actions.dataImport.landuse.ImportLanduseWizard"
            name="ImportLanduseShape"
            project="false"/>
  <wizard
        class="org.kalypso.risk.model.actions.dataImport.waterdepth.ImportWaterdepthWizard"
        icon="icons/risk_project.gif"
        id="org.kalypso.risk.model.actions.dataImport.waterdepth.ImportWaterdepthWizard"
        name="ImportWaterlevelRaster"
        project="false">
  </wizard>
  <wizard
        class="org.kalypso.risk.model.actions.rasterizeLanduse.LanduseRasterizationHandler"
        id="org.kalypso.risk.model.actions.rasterizeLanduse.RasterizationWizard"
        name="RasterizationWizard">
  </wizard>
	</extension>
 <extension
       point="org.kalypso.contribs.java.urlCatalog">
    <catalog
          class="org.kalypso.risk.model.schema.KalypsoRiskSchemaCatalog"
          id="org.kalypso.risk.model.schema.KalypsoRiskSchemaCatalog">
    </catalog>
 </extension>
 <extension
       id="org.kalypso.core.adapters"
       name="KalypsoRisk adapter factory"
       point="org.eclipse.core.runtime.adapters">
    <factory
          adaptableType="org.kalypsodeegree.model.feature.Feature"
          class="org.kalypso.risk.model.schema.KalypsoRiskFeatureFactory">
       <adapter type="org.kalypso.kalypsosimulationmodel.core.modeling.IModel"/>
       <adapter type="org.kalypso.risk.model.schema.binding.IRasterizationControlModel"/>
       <adapter type="org.kalypso.risk.model.schema.binding.IVectorDataModel"/>
       <adapter type="org.kalypso.risk.model.schema.binding.IRasterDataModel"/>
       <adapter type="org.kalypso.risk.model.schema.binding.ILanduseClass"/>
       <adapter type="org.kalypso.risk.model.schema.binding.IRiskLanduseStatistic"/>
       <adapter type="org.kalypso.risk.model.schema.binding.ILandusePolygonCollection"/>
       <adapter type="org.kalypso.risk.model.schema.binding.ILandusePolygon"/>
       <adapter type="org.kalypso.risk.model.schema.binding.IAnnualCoverageCollection"/>
       <adapter type="org.kalypso.risk.model.schema.binding.IAssetValueClass"/>
       <adapter
             type="org.kalypso.risk.model.schema.binding.IDamageFunction">
       </adapter>
       <adapter
             type="org.kalypso.risk.model.schema.binding.IAdministrationUnit">
       </adapter>
       <adapter
             type="org.kalypso.risk.model.schema.binding.IRiskZoneDefinition">
       </adapter>
    </factory>
 </extension>
 <extension
       point="org.kalypso.afgui.scenarioData">
    <dataSet
          id="org.kalypso.risk">
       <scenarioDatum
             bundle="org.kalypso.risk"
             classKey="org.kalypso.risk.model.schema.binding.IVectorDataModel"
             modelPath="models/VectorDataModel.gml">
       </scenarioDatum>
       <scenarioDatum
             bundle="org.kalypso.risk"
             classKey="org.kalypso.risk.model.schema.binding.IRasterDataModel"
             modelPath="models/RasterDataModel.gml">
       </scenarioDatum>
       <scenarioDatum
             bundle="org.kalypso.risk"
             classKey="org.kalypso.risk.model.schema.binding.IRasterizationControlModel"
             modelPath="models/RasterizationControlModel.gml">
       </scenarioDatum>
    </dataSet>
 </extension>
 <extension
       point="org.kalypso.deegree.functionProperty">
	<!-- @Dejan: TODO remove if no more needed?-->
    <function
          class="org.kalypso.risk.model.schema.propertyFunctions.VirtualRasterGeometryProperty"
          id="org.kalypso.risk.model.schema.propertyFunctions.VirtualRasterGeometryProperty"
          name="VirtualRasterGeometryProperty">
    </function>
    <function
          class="org.kalypso.risk.model.schema.propertyFunctions.LanduseStylePropertyFunction"
          id="org.kalypso.risk.model.schema.propertyFunctions.LanduseStylePropertyFunction"
          name="LanduseStylePropertyFunction">
    </function>
    <function
          class="org.kalypso.risk.model.schema.propertyFunctions.LanduseClsOrdinalNumberPropertyFunction"
          id="org.kalypso.risk.model.schema.propertyFunctions.LanduseClsOrdinalNumberPropertyFunction"
          name="LanduseClsOrdinalNumberPropertyFunction">
    </function>
    <function
          class="org.kalypso.risk.model.schema.propertyFunctions.PF_LandusePolygon_DamageFunction"
          id="org.kalypso.risk.model.schema.propertyFunctions.PF_LandusePolygon_DamageFunction"
          name="PF_LandusePolygon_DamageFunction">
    </function>
    <function
          class="org.kalypso.risk.model.schema.propertyFunctions.PF_LandusePolygon_AssetValue"
          id="org.kalypso.risk.model.schema.propertyFunctions.PF_LandusePolygon_AssetValue"
          name="PF_LandusePolygon_AssetValue">
    </function>
    <function
          class="org.kalypso.risk.model.schema.propertyFunctions.PF_LandusePolygon_IsUrbanType"
          id="org.kalypso.risk.model.schema.propertyFunctions.PF_LandusePolygon_IsUrbanType"
          name="PF_LandusePolygon_IsUrbanType">
    </function>
 </extension>
 <extension
       point="org.eclipse.ui.handlers">
    <handler
          class="org.kalypso.risk.model.actions.specificDamage.SpecificDamageCalculationHandler"
          commandId="http___www.tu-harburg.de_wb_kalypso_risk__DamagePotentialCalculationHandler">
    </handler>
    <handler
          class="org.kalypso.risk.model.actions.rasterizeLanduse.LanduseRasterizationHandler"
          commandId="http___www.tu-harburg.de_wb_kalypso_risk__LanduseRasterizationHandler">
    </handler>
    <handler
          class="org.kalypso.risk.model.actions.riskZonesCalculation.RiskZonesCalculationHandler"
          commandId="http___www.tu-harburg.de_wb_kalypso_risk__RiskZonesCalculationHandler">
    </handler>
    <handler
          class="org.kalypso.risk.model.handlers.WaterdepthCoveragesWidgetHandler"
          commandId="org.kalypso.risk.model.handlers.WaterdepthCoveragesWidgetHandler">
    </handler>
    <handler
          class="org.kalypso.risk.model.handlers.ExportRiskZoneCoveragesWidgetHandler"
          commandId="org.kalypso.risk.model.handlers.ExportRiskZoneCoveragesWidgetHandler">
    </handler>
    <handler
          class="org.kalypso.risk.model.handlers.WaterdepthCollectionsWidgetHandler"
          commandId="org.kalypso.risk.model.handlers.WaterdepthCollectionsWidgetHandler">
    </handler>
    <handler
          class="org.kalypso.risk.model.handlers.ExportSpecificDamageCoveragesWidgetHandler"
          commandId="org.kalypso.risk.model.handlers.ExportSpecificDamageCoveragesWidgetHandler">
    </handler>
 </extension>
 <extension
       point="org.kalypso.core.themeInfo">
    <themeInfo
          class="org.kalypso.risk.plugin.RiskZonesThemeInfo"
          id="org.kalypso.risk.plugin.RiskZonesThemeInfo">
    </themeInfo>
    <themeInfo
          class="org.kalypso.risk.plugin.RasterizedLanduseThemeInfo"
          id="org.kalypso.risk.plugin.RasterizedLanduseThemeInfo">
    </themeInfo>
 </extension>
 <extension
       point="org.kalypso.contribs.eclipseplatform.projectTemplate">
    <project
          category="org.kalypso.risk.projectTemplate"
          data="etc/RiskProjectTemplate.zip"
          description="Leere Projektvorlage fÃ¼r Risiko Projekte"
          label="Leere Vorlage"
          projectName=" ">
    </project>
 </extension>
   <extension
                point="org.kalypso.deegree.functionProperty">
                <function
                    class="org.kalypso.risk.model.schema.propertyFunctions.GetNameFromInscription"
                    id="org.kalypso.risk.model.schema.propertyFunctions.GetNameFromInscription"
                    name="get name from inscription">
                </function>
            </extension>
            <extension
                point="org.kalypso.core.catalogContribution">
                <catalogContribution
                    class="org.kalypso.risk.model.schema.KalypsoRiskCatalogContribution"
                    name="KalypsoRaiskCatalogContribution (Dictionaries)">
                </catalogContribution>
            </extension>
            <extension
                  point="org.eclipse.ui.views">
               <view
                     allowMultiple="false"
                     class="org.kalypso.risk.views.RiskStatisticsResultView"
                     id="org.kalypso.risk.views.RiskStatisticsResultView"
                     name="Risk Statistics View">
               </view>
            </extension>
</plugin>
