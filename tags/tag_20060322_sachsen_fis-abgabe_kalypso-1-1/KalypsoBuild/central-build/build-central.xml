<?xml version="1.0"?>

<project name="Kalypso-Central-Build" default="build-all" basedir=".">

	<property name="workspace" value="../.." />

	<target name="prepare">
	</target>

	<target name="build" depends="prepare">
		<ant antfile="build-core.xml" target="build-core" inheritall="false" />

		<ant antfile="${workspace}/KalypsoServiceCalc/etc/ant/build.xml" target="compile" inheritall="false" />
		<ant antfile="${workspace}/KalypsoServiceMetaDoc/etc/ant/build.xml" target="compile" inheritall="false" />
		<ant antfile="${workspace}/KalypsoServiceObs/etc/ant/build.xml" target="compile" inheritall="false" />
		<ant antfile="${workspace}/KalypsoServiceUser/etc/ant/build.xml" target="compile" inheritall="false" />

		<ant antfile="${workspace}/KalypsoOptimize/etc/ant/build.xml" target="deploy" inheritall="false" />
		<ant antfile="${workspace}/KalypsoDWD/etc/ant/build.xml" target="deploy" inheritall="false" />

		<ant antfile="${workspace}/KalypsoAdapterPSICompact/etc/ant/build.xml" target="deploy" inheritall="false" />
		<ant antfile="${workspace}/KalypsoPSICompactImpl/build.xml" target="deploy" inheritall="false" />
		<ant antfile="${workspace}/KalypsoAdapterRobotron/etc/ant/build.xml" target="deploy" inheritall="false" />
		<ant antfile="${workspace}/KalypsoAdapterWiski/etc/ant/build.xml" target="deploy" inheritall="false" />

		<ant antfile="${workspace}/KalypsoModelNA/etc/ant/build.xml" target="deploy" inheritall="false" />
		<!--ant antfile="${workspace}/KalypsoModelSaale/etc/ant/build.xml" target="deploy" inheritall="false" /-->
		<ant antfile="${workspace}/KalypsoModelSpree/etc/ant/build.xml" target="deploy" inheritall="false" />
		<ant antfile="${workspace}/KalypsoModelTubig/etc/ant/build.xml" target="deploy" inheritall="false" />
	</target>
	
	<target name="junit" depends="build">
		<ant antfile="build-core.xml" target="test" inheritall="false" />

		<ant antfile="${workspace}/KalypsoServiceCalc/etc/ant/build.xml" target="test" inheritall="false" />
		<ant antfile="${workspace}/KalypsoServiceMetaDoc/etc/ant/build.xml" target="test" inheritall="false" />
		<ant antfile="${workspace}/KalypsoServiceObs/etc/ant/build.xml" target="test" inheritall="false" />
		<ant antfile="${workspace}/KalypsoServiceUser/etc/ant/build.xml" target="test" inheritall="false" />

		<ant antfile="${workspace}/KalypsoOptimize/etc/ant/build.xml" target="test" inheritall="false" />
		<ant antfile="${workspace}/KalypsoDWD/etc/ant/build.xml" target="test" inheritall="false" />

		<ant antfile="${workspace}/KalypsoAdapterDatacenter/etc/ant/build.xml" target="test" inheritall="false" />
		<ant antfile="${workspace}/KalypsoAdapterPSICompact/etc/ant/build.xml" target="test" inheritall="false" />
		<ant antfile="${workspace}/KalypsoPSICompactImpl/etc/ant/build.xml" target="test" inheritall="false" />
		<ant antfile="${workspace}/KalypsoAdapterRobotron/etc/ant/build.xml" target="test" inheritall="false" />
		<ant antfile="${workspace}/KalypsoAdapterWiski/etc/ant/build.xml" target="test" inheritall="false" />

		<ant antfile="${workspace}/KalypsoModelNA/etc/ant/build.xml" target="test" inheritall="false" />
		<ant antfile="${workspace}/KalypsoModelSaale/etc/ant/build.xml" target="test" inheritall="false" />
		<ant antfile="${workspace}/KalypsoModelSpree/etc/ant/build.xml" target="test" inheritall="false" />
		<ant antfile="${workspace}/KalypsoModelTubig/etc/ant/build.xml" target="test" inheritall="false" />
	</target>
	
	<target name="javadoc" depends="build">
		<ant antfile="build-core.xml" target="javadoc" inheritall="false" />

		<ant antfile="${workspace}/KalypsoServiceCalc/etc/ant/build.xml" target="javadoc" inheritall="false" />
		<ant antfile="${workspace}/KalypsoServiceMetaDoc/etc/ant/build.xml" target="javadoc" inheritall="false" />
		<ant antfile="${workspace}/KalypsoServiceObs/etc/ant/build.xml" target="javadoc" inheritall="false" />
		<ant antfile="${workspace}/KalypsoServiceUser/etc/ant/build.xml" target="javadoc" inheritall="false" />

		<ant antfile="${workspace}/KalypsoOptimize/etc/ant/build.xml" target="javadoc" inheritall="false" />
		<ant antfile="${workspace}/KalypsoDWD/etc/ant/build.xml" target="javadoc" inheritall="false" />

		<ant antfile="${workspace}/KalypsoAdapterDatacenter/etc/ant/build.xml" target="javadoc" inheritall="false" />
		<ant antfile="${workspace}/KalypsoAdapterPSICompact/etc/ant/build.xml" target="javadoc" inheritall="false" />
		<ant antfile="${workspace}/KalypsoPSICompactImpl/etc/ant/build.xml" target="javadoc" inheritall="false" />
		<ant antfile="${workspace}/KalypsoAdapterRobotron/etc/ant/build.xml" target="javadoc" inheritall="false" />
		<ant antfile="${workspace}/KalypsoAdapterWiski/etc/ant/build.xml" target="javadoc" inheritall="false" />

		<ant antfile="${workspace}/KalypsoModelNA/etc/ant/build.xml" target="javadoc" inheritall="false" />
		<ant antfile="${workspace}/KalypsoModelSaale/etc/ant/build.xml" target="javadoc" inheritall="false" />
		<ant antfile="${workspace}/KalypsoModelSpree/etc/ant/build.xml" target="javadoc" inheritall="false" />
		<ant antfile="${workspace}/KalypsoModelTubig/etc/ant/build.xml" target="javadoc" inheritall="false" />
	</target>
	
	<target name="zip-javadoc" depends="javadoc">
		<zip destfile="${dist.doc}/KalypsoDoc.zip">
			<fileset dir="${dist.doc}" includes="**/**" />
		</zip>
	</target>
	
	<target name="build-all" depends="junit,zip-javadoc">

	</target>

</project>
