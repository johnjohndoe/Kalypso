<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.0"?>
<plugin>
	<extension-point id="mapviewaction" name="mapviewaction"
		schema="schema/org.kalypso.ui.mapview.action.exsd" />
   	<extension-point id="featureViewExtensionControl" name="featureViewExtensionControl" schema="schema/featureViewExtensionControl.exsd"/>
    <extension-point id="componentUiHandlerProvider" name="componentUiHandlerProvider" schema="schema/componentUiHandlerProvider.exsd"/>
    <extension-point id="kalypsoThemeFactory" name="kalypsoThemeFactory" schema="schema/kalypsoThemeFactory.exsd"/>
    <extension-point id="modelAdapter" name="modelAdapter" schema="schema/modelAdapter.exsd"/>
    <extension-point id="typeHandlers" name="typeHandlers" schema="schema/typeHandlers.exsd"/>

	<extension id="preferences" name="preferences"
		point="org.eclipse.core.runtime.preferences">
		<initializer
			class="org.kalypso.ui.preferences.KalypsoPreferenceInitializer">
		</initializer>
	</extension>
	<extension id="preferencePages" name="preferencePages"
		point="org.eclipse.ui.preferencePages">
		<page
        class="org.kalypso.ui.preferences.KalypsoPreferencePage"
        id="org.kalypso.ui.preferences.KalypsoPreferencePage"
        name="%org.kalypso.ui.preferences.KalypsoPreferencePage">
		</page>
  <page
        category="org.kalypso.ui.preferences.KalypsoPreferencePage"
        class="org.kalypso.ui.preferences.KalypsoScreenshotPreferencePage"
        id="org.kalypso.ui.preferncePages.Screenshot"
        name="%page.name.0">
  </page>
	</extension>
	<extension id="editors" name="editors"
		point="org.eclipse.ui.editors">
		<editor class="org.kalypso.ui.editor.mapeditor.GisMapEditor"
			icon="icons/kalypso_gmt.gif" default="true"
			contributorClass="org.kalypso.ui.editor.mapeditor.GisMapEditorContributor"
			name="%org.kalypso.ui.editor.mapeditor.GisMapEditor"
			id="org.kalypso.ui.editor.mapeditor.GisMapEditor" extensions="gmt">
		</editor>
		<editor default="true"
			name="%org.kalypso.ui.editor.gistableeditor.GisTableEditor"
			icon="icons/kalypso_gtt.gif" extensions="gtt"
			class="org.kalypso.ui.editor.gistableeditor.GisTableEditor"
			contributorClass="org.kalypso.ui.editor.gistableeditor.GisTableEditorActionBarContributor"
			id="org.kalypso.ui.editor.gistableeditor.GisTableEditor">
		</editor>
		<editor default="true"
			name="%org.kalypso.ui.editor.featureeditor.FeatureEditor"
			icon="icons/kalypso_gtt.gif" extensions="gft"
			class="org.kalypso.ui.editor.featureeditor.FeatureEditor"
			id="org.kalypso.ui.editor.featureeditor.FeatureEditor">
		</editor>
		<editor class="org.kalypso.ogc.gml.schemaeditor.GMLSchemaEditor"
			contributorClass="org.kalypso.ogc.gml.schemaeditor.GMLSchemaEditorActionBarContributor"
			default="true" extensions="xsd" icon="icons/full/obj16/gml_schema_file.gif"
			id="org.kalypso.ogc.gml.schemaeditor.GMLSchemaEditor"
			name="%org.kalypso.ogc.gml.schemaeditor.GMLSchemaEditor" />
		<editor class="org.kalypso.ui.editor.gmleditor.ui.GmlEditor"
			contributorClass="org.kalypso.ui.editor.gmleditor.ui.GmlEditorActionBarContributor"
			default="true" extensions="gmv" icon="icons/kalypso_gtt.gif"
			id="org.kalypso.ui.editor.GmlEditor"
			name="%org.kalypso.ui.editor.gmleditor.ui.GmlEditor">
		</editor>
		<editor
			class="org.kalypso.ui.editor.diagrameditor.ObservationDiagramEditor"
			icon="icons/kalypso_odt.gif" default="true"
			contributorClass="org.kalypso.ui.editor.diagrameditor.ObservationDiagramEditorContributor"
			name="%org.kalypso.ui.editor.diagrameditor.ObservationDiagramEditor"
			id="org.kalypso.ui.editor.diagrameditor.ObservationDiagramEditor"
			extensions="odt">
		</editor>
		<editor
			class="org.kalypso.ui.editor.obstableeditor.ObservationTableEditor"
			icon="icons/kalypso_ott.gif" default="true"
			contributorClass="org.kalypso.ui.editor.obstableeditor.ObservationTableEditorContributor"
			name="%org.kalypso.ui.editor.obstableeditor.ObservationTableEditor"
			id="org.kalypso.ui.editor.obstableeditor.ObservationTableEditor"
			extensions="ott">
		</editor>
		<editor
			launcher="org.kalypso.ui.editorLauncher.GisTemplateLauncher"
			icon="icons/full/obj16/gml_file.gif" default="true"
			name="%org.kalypso.ui.editorLauncher.GisTemplateLauncher"
			id="org.kalypso.ui.editor.GisEditor" extensions="gml,shp">
		</editor>
		<editor
			launcher="org.kalypso.ui.editorLauncher.ObsTemplateLauncher"
			icon="icons/sample.gif" default="false"
			name="%org.kalypso.ui.editorLauncher.ObsTemplateLauncher"
			id="org.kalypso.ui.editor.ObsEditor" extensions="zml">
		</editor>
		<editor
			launcher="org.kalypso.ui.editorLauncher.GrafikEditorLauncher"
			icon="icons/observation/grafik-icon.gif" default="false"
			name="%org.kalypso.ui.editorLauncher.GrafikEditorLauncher"
			id="org.kalypso.zml.grafik" extensions="zml,tpl,odt" />
	</extension>
	<extension id="views" name="views" point="org.eclipse.ui.views">
		<category name="%category.name.0" id="org.kalypso.ui.kalypso"></category>
		<view
			name="%org.kalypso.ui.repository.view.RepositoryExplorerPart"
			icon="icons/repository/repository.gif"
			category="org.kalypso.ui.kalypso"
			class="org.kalypso.ui.repository.view.RepositoryExplorerPart"
			id="org.kalypso.ui.repository.view.RepositoryExplorerPart">
		</view>
		<view name="%org.kalypso.ogc.sensor.view.DiagramViewPart"
			icon="icons/kalypso_odt.gif" category="org.kalypso.ui.kalypso"
			class="org.kalypso.ogc.sensor.view.DiagramViewPart"
			id="org.kalypso.ogc.sensor.view.DiagramViewPart">
		</view>
		<view name="%org.kalypso.ogc.sensor.view.TableViewPart"
			icon="icons/kalypso_ott.gif" category="org.kalypso.ui.kalypso"
			class="org.kalypso.ogc.sensor.view.TableViewPart"
			id="org.kalypso.ogc.sensor.view.TableViewPart">
		</view>
		<view
			name="%org.kalypso.ui.editor.mapeditor.views.StyleEditorViewPart"
			icon="icons/full/elcl16/kde_filter.gif"
			category="org.kalypso.ui.kalypso"
			class="org.kalypso.ui.editor.mapeditor.views.StyleEditorViewPart"
			id="org.kalypso.ui.editor.mapeditor.views.styleeditor">
		</view>
		<view allowMultiple="false" icon="icons/kalypso16.gif"
			class="org.kalypso.ui.editor.mapeditor.views.MapWidgetView"
			category="org.kalypso.ui.kalypso"
			name="%org.kalypso.ui.editor.mapeditor.views.ActionOptionsView"
			id="org.kalypso.ui.editor.mapeditor.views.ActionOptionsView" />
		<view allowMultiple="false" category="org.kalypso.ui.kalypso"
			class="org.kalypso.ogc.gml.om.table.ObservationTableView"
			icon="icons/kalypso_ott.gif"
			id="org.kalypso.ogc.gml.om.table.ObservationTableView"
			name="%org.kalypso.ogc.gml.om.table.ObservationTableView" />
		<view allowMultiple="true" category="org.kalypso.ui.kalypso"
			class="org.kalypso.ogc.gml.om.tableex.MultiTupleResultView"
			icon="icons/kalypso_ott.gif"
			id="org.kalypso.ogc.gml.om.tableex.MultiTupleResultView"
			name="%org.kalypso.ogc.gml.om.tableex.MultiTupleResultView" />
  <view
        allowMultiple="true"
        category="org.kalypso.ui.kalypso"
        class="org.kalypso.ui.views.map.MapView"
        icon="icons/kalypso_gmt.gif"
        id="org.kalypso.ui.views.mapView"
        name="%view.name.0"
        saveMapOnClose="true"
        reloadMapOnOpen="false"/>
  <view
        allowMultiple="false"
        category="org.kalypso.ui.kalypso"
        class="org.kalypso.ogc.gml.outline.GisMapOutlineView"
        icon="icons/kalypso_gmt.gif"
        id="org.kalypso.ui.views.outline"
        name="%org.kalypso.ui.views.outline"/>
  <view
        allowMultiple="true"
        category="org.kalypso.ui.kalypso"
        class="org.kalypso.ui.editor.featureeditor.FeatureTemplateView"
        icon="icons/kalypso_gtt.gif"
        id="org.kalypso.ui.views.featuretemplateview"
        name="%view.name.1"
        reloadMapOnOpen="false"/>
  <view
        allowMultiple="false"
        category="org.kalypso.ui.kalypso"
        class="org.kalypso.ui.views.map.MapOverView"
        id="org.kalypso.ui.views.mapOverView"
        name="%view.name.2">
  </view>
  <view
        allowMultiple="false"
        category="org.kalypso.ui.kalypso"
        class="org.kalypso.ogc.gml.outline.simple.SimpleMapOutline"
        icon="icons/kalypso_gmt.gif"
        id="org.kalypso.ui.views.simpleMapOutline"
        name="Simple Map Outline">
  </view>
	</extension>
	<extension id="editorActions" name="editorActions"
		point="org.eclipse.ui.editorActions">
		<editorContribution
			targetID="org.kalypso.ui.editor.gistableeditor.GisTableEditor"
			id="org.kalypso.ui.editor.gistableeditor.GisTableActionDelegate">
			<menu label="%org.kalypso.ui.editors.tableeditor.menu.label"
				path="additions" id="org.kalypso.ui.editors.tableeditor.menu">
				<groupMarker name="tabelle"></groupMarker>
				<separator name="spalten"></separator>
				<separator name="edit"></separator>
			</menu>
			<menu label="%org.kalypso.ui.editors.tableeditor.columnmenu"
				path="org.kalypso.ui.editors.tableeditor.menu/spalten"
				id="org.kalypso.ui.editors.tableeditor.columnmenu">
				<separator name="spaltenMenu"></separator>
			</menu>
			<action disabledIcon="icons/feature/save_GML_gray.gif"
				enablesFor="+" toolbarPath="edit"
				label="%org.kalypso.ui.editor.gistableeditor.actions.SaveThemeDelegate.label"
				tooltip="%org.kalypso.ui.editor.gistableeditor.actions.SaveThemeDelegate.tooltip"
				icon="icons/feature/save_GML.gif"
				class="org.kalypso.ui.editor.gistableeditor.actions.SaveThemeDelegate"
				style="push"
				menubarPath="org.kalypso.ui.editors.tableeditor.menu/edit"
				id="org.kalypso.ui.editor.gistableeditor.actions.SaveThemeDelegate">
			</action>
			<action
				class="org.kalypso.ui.editor.gistableeditor.actions.UndoDelegate"
				disabledIcon="icons/gistable/undo_edit_disabled.gif"
				icon="icons/gistable/undo_edit.gif"
				id="org.kalypso.ui.editor.gistableeditor.actions.UndoDelegate"
				label="%org.kalypso.ui.editor.gistableeditor.actions.UndoDelegate.label"
				menubarPath="org.kalypso.ui.editors.tableeditor.menu/edit"
				style="push" toolbarPath="edit"
				tooltip="%org.kalypso.ui.editor.gistableeditor.actions.UndoDelegate.tooltip">
			</action>
			<action
				class="org.kalypso.ui.editor.gistableeditor.actions.RedoDelegate"
				disabledIcon="icons/gistable/redo_edit_disabled.gif"
				icon="icons/gistable/redo_edit.gif"
				id="org.kalypso.ui.editor.gistableeditor.actions.RedoDelegate"
				label="%org.kalypso.ui.editor.gistableeditor.actions.RedoDelegate.label"
				menubarPath="org.kalypso.ui.editors.tableeditor.menu/edit"
				style="push" toolbarPath="edit"
				tooltip="%org.kalypso.ui.editor.gistableeditor.actions.RedoDelegate.tooltip">
			</action>
		</editorContribution>
		<editorContribution targetID="org.kalypso.ui.editor.GmlEditor"
			id="org.kalypso.ui.editor.gistreeeditor.GisTreeActionDelegate">
			<menu label="%org.kalypso.ui.editors.treeeditor.menu"
				path="additions" id="org.kalypso.ui.editors.treeeditor.menu">
				<groupMarker name="edit" />
				<separator name="navigate" />
				<separator name="selection" />
				<separator name="additions" />
			</menu>
			<action disabledIcon="icons/map/save_edit_disabled.gif"
				toolbarPath="edit"
				label="%org.kalypso.ui.editor.gmleditor.util.actions.SaveGmlDelagate.label"
				tooltip="%org.kalypso.ui.editor.gmleditor.util.actions.SaveGmlDelagate.tooltip"
				icon="icons/feature/save_GML.gif"
				class="org.kalypso.ui.editor.gmleditor.util.actions.SaveGmlDelagate"
				style="push"
				menubarPath="org.kalypso.ui.editors.treeeditor.menu/edit"
				id="org.kalypso.ui.editor.gistreeeditor.SaveDataAction">
			</action>
			<action
				class="org.kalypso.ui.editor.gmleditor.util.actions.RedoDelegate"
				disabledIcon="icons/gistable/redo_edit_disabled.gif"
				icon="icons/gistable/redo_edit.gif"
				id="org.kalypso.ui.editor.gmleditor.util.actions.RedoDelegate"
				label="%org.kalypso.ui.editor.gmleditor.util.actions.RedoDelegate.label"
				menubarPath="org.kalypso.ui.editors.treeeditor.menu/edit"
				style="push" toolbarPath="edit"
				tooltip="%org.kalypso.ui.editor.gmleditor.util.actions.RedoDelegate.tooltip">
			</action>

			<action
				class="org.kalypso.ui.editor.gmleditor.util.actions.UndoDelegate"
				disabledIcon="icons/gistable/undo_edit_disabled.gif"
				icon="icons/gistable/undo_edit.gif"
				id="org.kalypso.ui.editor.gmleditor.util.actions.UndoDelegate"
				label="%org.kalypso.ui.editor.gmleditor.util.actions.UndoDelegate.label"
				menubarPath="org.kalypso.ui.editors.treeeditor.menu/edit"
				style="push" toolbarPath="edit"
				tooltip="%org.kalypso.ui.editor.gmleditor.util.actions.UndoDelegate.tooltip">
			</action>
			<action
				class="org.kalypso.ui.editor.gmleditor.util.actions.CollapseAllActionDelegate"
				disabledIcon="icons/util/tree_collapse_all_disabled.gif"
				icon="icons/util/tree_collapse_all.gif"
				id="org.kalypso.ui.editor.gmleditor.util.actions.CollapseAllActionDelegate"
				label="%org.kalypso.ui.editor.gmleditor.util.actions.CollapseAllActionDelegate.label"
				menubarPath="org.kalypso.ui.editors.treeeditor.menu/navigate"
				style="push" toolbarPath="navigate"
				tooltip="%org.kalypso.ui.editor.gmleditor.util.actions.CollapseAllActionDelegate.label" />
			<action
				class="org.kalypso.ui.editor.gmleditor.util.actions.GoIntoActionDelegate"
				disabledIcon="icons/full/dlcl16/gointo.gif"
				icon="icons/full/elcl16/gointo.gif"
				id="org.kalypso.ui.editor.gmleditor.util.actions.GoIntoActionDelegate"
				label="%org.kalypso.ui.editor.gmleditor.util.actions.GoIntoActionDelegate.label"
				menubarPath="org.kalypso.ui.editors.treeeditor.menu/navigate"
				style="push" toolbarPath="navigate"
				tooltip="%org.kalypso.ui.editor.gmleditor.util.actions.GoIntoActionDelegate.tooltip" />
			<action
				class="org.kalypso.ui.editor.gmleditor.util.actions.GoUpActionDelegate"
				disabledIcon="icons/full/dlcl16/up_nav.gif"
				icon="icons/full/elcl16/up_nav.gif"
				id="org.kalypso.ui.editor.gmleditor.util.actions.GoUpActionDelegate"
				label="%org.kalypso.ui.editor.gmleditor.util.actions.GoUpActionDelegate.label"
				menubarPath="org.kalypso.ui.editors.treeeditor.menu/navigate"
				style="push" toolbarPath="navigate"
				tooltip="%org.kalypso.ui.editor.gmleditor.util.actions.GoUpActionDelegate.tooltip" />
		</editorContribution>
		<editorContribution
			targetID="org.kalypso.ui.editor.obstableeditor.ObservationTableEditor"
			id="org.kalypso.ui.editor.obstableeditor.EditorContribution">
			<menu label="%org.kalypso.ui.editor.obstableeditor.menu"
				path="additions" id="org.kalypso.ui.editor.obstableeditor.menu">
				<separator name="separator1" />
				<groupMarker name="tools" />
				<groupMarker name="exports" />
			</menu>
			<action disabledIcon="icons/feature/save_GML_gray.gif"
				toolbarPath="tabelle"
				label="%org.kalypso.ui.editor.obstableeditor.actions.SaveDataAction.label"
				icon="icons/feature/save_GML.gif"
				tooltip="%org.kalypso.ui.editor.obstableeditor.actions.SaveDataAction.tooltip"
				class="org.kalypso.ui.editor.obstableeditor.actions.SaveDataAction"
				style="push"
				menubarPath="org.kalypso.ui.editor.obstableeditor.menu/tools"
				id="org.kalypso.ui.editor.obstableeditor.actions.SaveDataAction" />
			<action
				class="org.kalypso.ui.editor.obstableeditor.actions.TablePropertiesAction"
				disabledIcon="icons/util/settings_disabled.gif"
				icon="icons/util/settings.gif"
				id="org.kalypso.ui.editor.obstableeditor.actions.TablePropertiesAction"
				label="%org.kalypso.ui.editor.obstableeditor.actions.TablePropertiesAction.label"
				menubarPath="org.kalypso.ui.editor.obstableeditor.menu/tools"
				style="push" toolbarPath="tabelle" />
		</editorContribution>
		<editorContribution
			targetID="org.kalypso.ui.editor.diagrameditor.ObservationDiagramEditor"
			id="org.kalypso.ui.editor.diagrameditor.EditorContribution">
			<menu label="%menu.label.0" path="additions"
				id="org.kalypso.ui.editor.obsdiageditor.menu">
				<separator name="separator1" />
				<groupMarker name="tools" />
				<groupMarker name="exports" />
			</menu>
			<action
				class="org.kalypso.ui.editor.diagrameditor.actions.DiagramPropertiesAction"
				disabledIcon="icons/util/settings_disabled.gif"
				icon="icons/util/settings.gif"
				id="org.kalypso.ui.editor.diagrameditor.actions.DiagramPropertiesAction"
				label="%org.kalypso.ui.editor.diagrameditor.actions.DiagramPropertiesAction.label"
				menubarPath="org.kalypso.ui.editor.obsdiageditor.menu/tools"
				style="push" toolbarPath="diagramm"
				tooltip="%org.kalypso.ui.editor.diagrameditor.actions.DiagramPropertiesAction.tooltip" />
			<action toolbarPath="diagramm"
				label="%org.kalypso.ui.editor.diagrameditor.actions.OpenGrafikAction.label"
				icon="icons/observation/grafik-icon.gif"
				tooltip="%org.kalypso.ui.editor.diagrameditor.actions.OpenGrafikAction.tooltip"
				class="org.kalypso.ui.editor.diagrameditor.actions.OpenGrafikAction"
				style="push"
				menubarPath="org.kalypso.ui.editor.obsdiageditor.menu/tools"
				id="org.kalypso.ui.editor.diagrameditor.actions.OpenGrafikAction">
			</action>
		</editorContribution>
	</extension>
	<extension id="popupMenus" name="popupMenus"
		point="org.eclipse.ui.popupMenus">
		<objectContribution
			objectClass="org.kalypsodeegree.model.feature.Feature"
			adaptable="false" id="org.kalypso.objectclass.feature">
			<action enablesFor="1"
				label="%org.kalypso.ui.editor.actions.FeatureRemoveActionDelegate.label"
				tooltip="%org.kalypso.ui.editor.actions.FeatureRemoveActionDelegate.tooltip"
				class="org.kalypso.ui.editor.actions.FeatureRemoveActionDelegate"
				icon="icons/feature/gis_feature_delete.gif" style="push"
				id="org.kalypso.objectclass.feature.action.remove">
			</action>
			<action
         class="org.kalypso.ui.editor.gmleditor.util.actions.EditFeature"
         icon="icons/feature/gis_feature_edit.gif"
         id="org.kalypso.objectclass.feature.editfeature"
         label="%org.kalypso.ui.editor.gmleditor.util.actions.EditFeature.label.edit"
         tooltip="%org.kalypso.ui.editor.gmleditor.util.actions.EditFeature.tooltip"/>
			<action enablesFor="0"
				label="%org.kalypso.ui.editor.actions.FeatureAddActionDelegate.label"
				tooltip="%org.kalypso.ui.editor.actions.FeatureAddActionDelegate.tooltip"
				class="org.kalypso.ui.editor.actions.FeatureAddActionDelegate"
				icon="icons/feature/gis_feature_neu.gif" style="push"
				id="org.kalypso.objectclass.feature.action.new">
			</action>
			<menu
				label="%org.kalypso.objectclass.feature.menu.batchedit.label"
				path="additions"
				id="org.kalypso.objectclass.feature.menu.batchedit">
				<separator name="editGroup" />
			</menu>
			<action
				class="org.kalypso.ui.editor.actions.FeatureSetPropertyActionDelegate"
				enablesFor="1" icon="icons/gistable/applyValues.gif"
				id="org.kalypso.objectclass.feature.action.setValues"
				label="%org.kalypso.ui.editor.actions.FeatureSetPropertyActionDelegate.label"
				menubarPath="org.kalypso.objectclass.feature.menu.batchedit/editGroup"
				style="push"
				tooltip="%org.kalypso.ui.editor.actions.FeatureSetPropertyActionDelegate.tooltip" />
			<action
				class="org.kalypso.ui.editor.actions.FeatureBatchEditActionDelegate"
				enablesFor="+" icon="icons/gistable/applyValues.gif"
				id="org.kalypso.objectclass.feature.action.batchEdit"
				label="%org.kalypso.ui.editor.actions.FeatureBatchEditActionDelegate.label"
				menubarPath="org.kalypso.objectclass.feature.menu.batchedit/editGroup"
				style="push"
				tooltip="%org.kalypso.ui.editor.actions.FeatureBatchEditActionDelegate.tooltip" />
   <menu
         id="featureListMenu"
         label="%menu.label.1">
      <separator name="featureListMenuSep"/>
   </menu>
		</objectContribution>
		<objectContribution adaptable="false"
			objectClass="org.kalypsodeegree.filterencoding.Filter"
			id="org.kalypso.objectclass.fiterencoding.filter">
			<menu
				label="%org.kalypso.objectclass.filterencoding.filter.menu.label"
				id="org.kalypso.objectclass.filterencoding.filter.menu">
				<separator name="filter" />
				<separator name="operations" />
			</menu>
			<menu
				label="%org.kalypso.objectclass.filterencoding.operation.menu"
				id="org.kalypso.objectclass.filterencoding.operation.menu">
				<separator name="operations" />
			</menu>
			<action label="%action.label.1"
				class="org.kalypso.ogc.gml.filterdialog.actions.CreateOGCComplexFilter"
				menubarPath="org.kalypso.objectclass.filterencoding.filter.menu/filter"
				icon="icons/util/filter.gif" style="push"
				id="org.kalypso.objectclass.filter.create.complexfilter" />
			<action label="%action.label.2" icon="icons/util/filter.gif"
				class="org.kalypso.ogc.gml.filterdialog.actions.CreateOGCFeatureFilter"
				menubarPath="org.kalypso.objectclass.filterencoding.filter.menu/filter"
				id="org.kalypso.objectclass.filter.create.featurefilter" />
			<action label="%action.label.3" icon="icons/util/filter.gif"
				class="org.kalypso.ogc.gml.filterdialog.actions.CreateOGCElseFilter"
				menubarPath="org.kalypso.objectclass.filterencoding.filter.menu/filter"
				id="org.kalypso.objectclass.filterencoding.create.elsefilter" />
			<action label="%action.label.4"
				class="org.kalypso.ogc.gml.filterdialog.actions.CreateOGCSpatialOperationDelegate"
				menubarPath="org.kalypso.objectclass.filterencoding.operation.menu/operations"
				id="org.kalypso.objectclass.filterencoding.create.spatialoperation" />
			<action label="%action.label.5"
				class="org.kalypso.ogc.gml.filterdialog.actions.CreateOGCComparisionOpsActionDelegate"
				menubarPath="org.kalypso.objectclass.filterencoding.operation.menu/operations"
				id="org.kalypso.objcetclass.filterencoding.create.comparisonoperation" />
			<action label="%action.label.6"
				class="org.kalypso.ogc.gml.filterdialog.actions.CreateOGCBetweenOperationActionDelegate"
				menubarPath="org.kalypso.objectclass.filterencoding.operation.menu/operations"
				id="org.kalypso.objectclass.filterencoding.create.betweenopeartion" />
			<action label="%action.label.7"
				class="org.kalypso.ogc.gml.filterdialog.actions.CreateOGCIsLikeOperationActionDelegate"
				menubarPath="org.kalypso.objectclass.filterencoding.operation.menu/operations"
				id="org.kalypso.objectclass.filterencoding.create.islikeopeartion" />
			<action label="%action.label.8"
				class="org.kalypso.ogc.gml.filterdialog.actions.CreateOGCLogicalANDOpsActionDelegate"
				style="push"
				menubarPath="org.kalypso.objectclass.filterencoding.operation.menu/operations"
				id="org.kalypso.objectclass.filterencoding.create.operation.logicaloperationand" />
			<action label="%action.label.9"
				class="org.kalypso.ogc.gml.filterdialog.actions.CreateOGCLogicalOROpsActionDelegate"
				menubarPath="org.kalypso.objectclass.filterencoding.operation.menu/operations"
				id="org.kalypso.objectclass.fiterencoding.create.logicaloperationor" />
			<action label="%action.label.10"
				class="org.kalypso.ogc.gml.filterdialog.actions.CreateOGCLogicalNOTOpsActionDelegate"
				menubarPath="org.kalypso.objectclass.filterencoding.operation.menu/operations"
				id="org.kalypso.objectclass.fiterencoding.create.logicaloperationnot" />
			<action label="%action.label.11"
				class="org.kalypso.ogc.gml.filterdialog.actions.CreateOGCIsNullOperationActionDelegate"
				menubarPath="org.kalypso.objectclass.filterencoding.operation.menu/operations"
				id="org.kalypso.objectclass.fiterencoding.create.isnulloperation" />
		</objectContribution>
		<objectContribution adaptable="false"
			objectClass="org.kalypsodeegree.filterencoding.Operation"
			id="org.kalypso.objectclass.filterenconding.operation">
			<menu
				label="%org.kalypso.objectclass.filterencoding.operation.menu"
				id="org.kalypso.objectclass.filterencoding.operation.menu">
				<separator name="operations" />
				<groupMarker name="logicalgroup" />
			</menu>
			<action label="%action.label.12"
				class="org.kalypso.ogc.gml.filterdialog.actions.CreateOGCSpatialOperationDelegate"
				menubarPath="org.kalypso.objectclass.filterencoding.operation.menu/operations"
				id="org.kalypso.objectclass.filterencoding.create.operation.spatialopeation" />
			<action label="%action.label.13"
				class="org.kalypso.ogc.gml.filterdialog.actions.CreateOGCComparisionOpsActionDelegate"
				menubarPath="org.kalypso.objectclass.filterencoding.operation.menu/operations"
				id="org.kalypso.objcetclass.filterencoding.create.comparisonoperation" />
			<action label="%action.label.14"
				class="org.kalypso.ogc.gml.filterdialog.actions.CreateOGCBetweenOperationActionDelegate"
				menubarPath="org.kalypso.objectclass.filterencoding.operation.menu/operations"
				id="org.kalypso.objectclass.filterencoding.create.betweenopeartion" />
			<action label="%action.label.15"
				class="org.kalypso.ogc.gml.filterdialog.actions.CreateOGCIsLikeOperationActionDelegate"
				menubarPath="org.kalypso.objectclass.filterencoding.operation.menu/operations"
				id="org.kalypso.objectclass.filterencoding.create.islikeopeartion" />
			<action label="%action.label.16"
				class="org.kalypso.ogc.gml.filterdialog.actions.CreateOGCLogicalANDOpsActionDelegate"
				style="push"
				menubarPath="org.kalypso.objectclass.filterencoding.operation.menu/logicalgroup"
				id="org.kalypso.objectclass.filterencoding.create.operation.logicaloperationand" />
			<action label="%action.label.17"
				class="org.kalypso.ogc.gml.filterdialog.actions.CreateOGCLogicalOROpsActionDelegate"
				menubarPath="org.kalypso.objectclass.filterencoding.operation.menu/logicalgroup"
				id="org.kalypso.objectclass.fiterencoding.create.logicaloperationor" />
			<action label="%action.label.18"
				class="org.kalypso.ogc.gml.filterdialog.actions.CreateOGCLogicalNOTOpsActionDelegate"
				menubarPath="org.kalypso.objectclass.filterencoding.operation.menu/logicalgroup"
				id="org.kalypso.objectclass.fiterencoding.create.logicaloperationnot" />
			<action label="%action.label.19"
				class="org.kalypso.ogc.gml.filterdialog.actions.CreateOGCIsNullOperationActionDelegate"
				menubarPath="org.kalypso.objectclass.filterencoding.operation.menu/operations"
				id="org.kalypso.objectclass.fiterencoding.create.isnulloperation" />
		</objectContribution>
		<objectContribution adaptable="false"
			objectClass="org.eclipse.core.resources.IFile"
			id="org.kalypso.objectclass.zmlFile">
			<action enablesFor="1"
				label="%org.kalypso.ogc.sensor.view.wq.ViewWQRelationObjectContribution.label"
				icon="icons/util/filter.gif"
				class="org.kalypso.ogc.sensor.view.wq.ViewWQRelationObjectContribution"
				menubarPath="extensions"
				id="org.kalypso.ogc.sensor.view.wq.ViewWQRelationObjectContribution" />
		</objectContribution>
		<objectContribution adaptable="false"
			objectClass="org.kalypso.ogc.gml.outline.ThemeStyleTreeObject"
			id="org.kalypso.objectclass.style.save">
			<action
				label="%org.kalypso.ogc.gml.outline.SaveStyleAction2.label"
				tooltip="%org.kalypso.ogc.gml.outline.SaveStyleAction2.tooltip"
				icon="icons/map/save_edit.gif"
				class="org.kalypso.ogc.gml.outline.SaveStyleAction2"
				menubarPath="org.kalypso.objectclass.style.menu/styleops"
				id="org.kalypso.ogc.gml.outline.SaveStyleAction2" />
			<menu label="%menu.label.2"
				id="org.kalypso.objectclass.style.menu">
				<separator name="styleops" />
			</menu>
		</objectContribution>
		<objectContribution adaptable="false"
			objectClass="org.kalypso.ogc.gml.RuleTreeObject"
			id="org.kalypso.objectclass.style.remove">
			<action
				label="%org.kalypso.ogc.gml.outline.RemoveRuleAction2.label"
				tooltip="%org.kalypso.ogc.gml.outline.RemoveRuleAction2.tooltip"
				icon="icons/full/elcl16/remove.gif"
				class="org.kalypso.ogc.gml.outline.RemoveRuleAction"
				menubarPath="org.kalypso.objectclass.style.menu/styleops"
				id="org.kalypso.ogc.gml.outline.RemoveRuleAction2" />
			<menu label="%org.kalypso.objectclass.style.menu.label"
				id="org.kalypso.objectclass.style.menu">
				<separator name="styleops" />
			</menu>
		</objectContribution>
		<objectContribution adaptable="false"
			id="org.kalypso.objectclass.observationfeature"
			objectClass="org.kalypsodeegree.model.feature.Feature">
			<filter name="featureTypeStrict"
				value="http://www.opengis.net/om#Observation" />
			<action class="org.kalypso.ogc.gml.om.EditObservationAction"
				enablesFor="1" icon="icons/observation/zml-icon.gif"
				id="org.kalypso.ogc.gml.om.EditObservationAction"
				label="%org.kalypso.ogc.gml.om.EditObservationAction.label"
				style="push"
				tooltip="%org.kalypso.ogc.gml.om.EditObservationAction.tooltip" />
			<action class="org.kalypso.ogc.gml.om.ShowObservationAction"
				icon="icons/kalypso_ott.gif"
				id="org.kalypso.ogc.gml.om.ShowObservationAction"
				label="%org.kalypso.ogc.gml.om.ShowObservationAction.label"
				tooltip="%org.kalypso.ogc.gml.om.ShowObservationAction.tooltip" />
		</objectContribution>

      <objectContribution
            adaptable="false"
            id="org.kalypso.ui.object.contribution.org.kalypso.ui.editor.gmleditor.ui.FeatureAssociationTypeElement"
            objectClass="org.kalypso.ui.editor.gmleditor.ui.FeatureAssociationTypeElement">
         <filter
               name="featureAssociationQname"
               value="http://www.opengis.net/gml#_Feature"/>
         <filter
               name="featureAssociationList"
               value="true"/>
         <action
               class="org.kalypso.ui.editor.actions.SortFeaturesActionDelegate"
               id="org.kalypso.ui.editor.actions.SortFeaturesActionDelegate"
               label="%action.label.20"
               menubarPath="featureListMenu"
               style="push"
               tooltip="%action.tooltip.1"/>
      </objectContribution>
  <objectContribution
        adaptable="false"
        id="org.kalypso.objectclass.feature.listElements"
        objectClass="org.kalypsodeegree.model.feature.Feature">
     <filter
           name="featureListElement"
           value="true"/>
     <action
           class="org.kalypso.ui.editor.actions.FeatureListElementDownActionDelegate"
           icon="icons/feature/gis_feature_down.gif"
           id="org.kalypso.ui.editor.actions.FeatureListElementDownActionDelegate"
           label="%action.label.21"
           menubarPath="featureListMenu"
           tooltip="%action.tooltip.2"/>
     <action
           class="org.kalypso.ui.editor.actions.FeatureListElementUpActionDelegate"
           icon="icons/feature/gis_feature_up.gif"
           id="org.kalypso.ui.editor.actions.FeatureListElementUpActionDelegate"
           label="%action.label.22"
           menubarPath="featureListMenu"
           tooltip="%action.tooltip.3"/>
     <action
           class="org.kalypso.ui.editor.actions.FeatureListElementDuplicateActionDelegate"
           icon="icons/feature/gis_feature_duplicate.gif"
           id="org.kalypso.ui.editor.actions.FeatureListElementDuplicateActionDelegate"
           label="%action.label.23"
           menubarPath="featureListMenu"
           style="push"
           tooltip="%action.tooltip.4"/>
  </objectContribution>
  <objectContribution
        id="org.kalypso.objectclass.theme"
        objectClass="org.kalypso.ogc.gml.IKalypsoTheme">
     <action
           class="org.kalypso.ui.actions.OpenPropertyViewThemeAction"
           icon="icons/full/elcl16/showThemeProps.gif"
           id="org.kalypso.ui.actions.OpenPropertyViewThemeAction"
           label="%action.label.24"
           style="push"
           tooltip="%action.tooltip.5">
     </action>
     <action
           class="org.kalypso.ui.actions.OpenPropertyDialogAction"
           icon="icons/full/elcl16/showThemeProps.gif"
           id="org.kalypso.ui.actions.OpenPropertyDialogAction"
           label="%action.label.25"
           tooltip="%action.tooltip.6">
     </action>
  </objectContribution>
  <objectContribution
        id="org.kalypso.objectclass.featureTheme"
        objectClass="org.kalypso.ogc.gml.IKalypsoFeatureTheme">
     <action
           class="org.kalypso.ui.actions.ExportGml2ShapeThemeAction"
           icon="icons/full/obj16/exportGml2Shp.gif"
           id="org.kalypso.ui.actions.ExportGml2ShapeThemeAction"
           label="%action.label.26"
           menubarPath="exports"
           style="push"
           tooltip="%action.tooltip.7">
     </action>
  </objectContribution>
  <objectContribution
        id="org.kalypso.objectclass.IKalypsoTheme"
        objectClass="org.kalypso.ogc.gml.IKalypsoTheme">
     <action
           class="org.kalypso.ui.actions.ExportLegendAction"
           icon="icons/full/obj16/exportGml2Shp.gif"
           id="org.kalypso.ui.actions.ExportLegendAction"
           label="%action.label.27"
           menubarPath="exports"
           style="push"
           tooltip="%action.tooltip.8">
     </action>
  </objectContribution>
	</extension>
	<extension id="resourceFilters" name="resourceFilters"
		point="org.eclipse.ui.ide.resourceFilters">
		<filter selected="false" pattern="*.gml"></filter>
	</extension>
	<extension id="perspectives" name="perspectives"
		point="org.eclipse.ui.perspectives">
		<perspective
			name="%org.kalypso.ui.perspectives.ObservationRepositoryPerspectiveFactory"
			icon="icons/perspective/zml_browser.gif"
			class="org.kalypso.ui.perspectives.ObservationRepositoryPerspectiveFactory"
			id="org.kalypso.ui.perspectives.ObservationRepositoryPerspectiveFactory">
		</perspective>
		<perspective
			name="%org.kalypso.ui.perspectives.ModelerPerspectiveFactory"
			icon="icons/perspective/expert.gif" fixed="false"
			class="org.kalypso.ui.perspectives.ModelerPerspectiveFactory"
			id="org.kalypso.ui.perspectives.ModelerPerspectiveFactory">
		</perspective>
	</extension>
	<extension id="exportWizards" name="exportWizards"
		point="org.eclipse.ui.exportWizards">
		<wizard name="%org.kalypso.ui.wizard.ocs.OcsExportWizard"
			icon="icons/repository/zml_upload.gif"
			class="org.kalypso.ui.wizard.ocs.OcsExportWizard"
			id="org.kalypso.ui.wizard.ocs.OcsExportWizard">
		</wizard>
	</extension>
	<extension point="org.eclipse.ant.core.antTasks">
		<antTask eclipseRuntime="true"
			class="org.kalypso.ant.CopyObservationTask"
			library="lib/kalypsoAnt.jar" name="kalypso.copyObservation" />
		<antTask eclipseRuntime="true"
			class="org.kalypso.ant.GmlPropertyTask" library="lib/kalypsoAnt.jar"
			name="kalypso.gmlProperty" />
		<antTask eclipseRuntime="true"
			class="org.kalypso.ant.KrigingTask" library="lib/kalypsoAnt.jar"
			name="kalypso.kriging" />
		<antTask eclipseRuntime="true"
			class="org.kalypso.ant.GMLWeightingTask" library="lib/kalypsoAnt.jar"
			name="kalypso.gmlWeight" />
		<antTask eclipseRuntime="true"
			class="org.kalypso.ant.CommitObservationsTask"
			library="lib/kalypsoAnt.jar" name="kalypso.commitPrognoses" />
		<antTask class="org.kalypso.ant.MultiEqualsTask"
			library="lib/kalypsoAnt.jar" name="kalypso.multiequals" />
		<antTask class="org.kalypso.ant.MapZmlMeta2FeatureTask"
			library="lib/kalypsoAnt.jar" name="kalypso.mapZmlMeta2Feature" />
		<antTask eclipseRuntime="true"
			class="org.kalypso.ant.FetchFromURLsTask"
			library="lib/kalypsoAnt.jar" name="Kalypso.fetchFromURL" />
		<antTask class="org.kalypso.ant.PropertyReplaceTask"
			headless="true" library="lib/kalypsoAnt.jar"
			name="kalypso.propertyReplace" />
     <antTask
           eclipseRuntime="false"
           class="org.kalypso.ant.GetFileTask"
           headless="false"
           library="lib/kalypsoAnt.jar"
           name="kalypso.getFileTask"/>
     <antTask
           class="org.kalypso.ant.ThiessenWeightTask"
           headless="true"
           library="lib/kalypsoAnt.jar"
           name="kalypso.thiessenWeightTask"/>
     <antTask
           eclipseRuntime="true"
           class="org.kalypso.ant.MergeObservationTask"
           library="lib/kalypsoAnt.jar"
           name="kalypso.mergeObservation"/>
     <antTask
           eclipseRuntime="true"
           class="org.kalypso.ant.ChangeGmlTask"
           library="lib/kalypsoAnt.jar"
           name="kalypso.changeGml"/>			
	</extension>

	<extension point="org.eclipse.compare.contentMergeViewers">
		<viewer extensions="zml"
			class="org.eclipse.compare.internal.TextMergeViewerCreator"
			id="org.eclipse.compare.TextMergeViewerCreator">
		</viewer>
	</extension>
	<extension id="repository.factories" name="repository.factories"
		point="org.kalypso.repository.factories">
		<!-- TODO: Marc: Remove 'class' Attribut because of compilation-problems under linux
			check if still everything works -->
		<repository
			factory="org.kalypso.ui.repository.factory.SWTZmlRepositoryFactory"
			name="%org.kalypso.ui.repository.factory.SWTZmlRepositoryFactory">
		</repository>
	</extension>
	<extension point="org.eclipse.compare.contentMergeViewers">
		<viewer extensions="zml"
			class="org.eclipse.compare.internal.TextMergeViewerCreator"
			id="org.eclipse.compare.TextMergeViewerCreator">
		</viewer>
	</extension>
	<extension id="org.kalypso.ui.mapview.action" name="mapviewoutline"
		point="org.kalypso.ui.mapviewaction">
		<MapviewAction
			title="%org.kalypso.ogc.gml.outline.ZoomToSelectedLayer.label"
			enabled="false"
			tooltip="%org.kalypso.ogc.gml.outline.ZoomToSelectedLayer.tooltip"
			icon="icons/full/elcl16/impl_co.gif"
			class="org.kalypso.ogc.gml.outline.ZoomToSelectedLayer"/>
		<MapviewAction
			title="%org.kalypso.ogc.gml.outline.ActivateThemeAction.label"
			enabled="false"
			tooltip="%org.kalypso.ogc.gml.outline.ActivateThemeAction.tooltip"
			icon="icons/full/elcl16/newpack_wiz.gif"
			class="org.kalypso.ogc.gml.outline.ActivateThemeAction" />
		<MapviewAction
			title="%org.kalypso.ogc.gml.outline.MoveThemeDownAction.label"
			enabled="false"
			tooltip="%org.kalypso.ogc.gml.outline.MoveThemeDownAction.tooltip"
			icon="icons/full/elcl16/next_nav.gif"
			class="org.kalypso.ogc.gml.outline.MoveThemeDownAction" />
		<MapviewAction
			title="%org.kalypso.ogc.gml.outline.MoveThemeUpAction.label"
			enabled="false"
			tooltip="%org.kalypso.ogc.gml.outline.MoveThemeUpAction.tooltip"
			icon="icons/full/elcl16/prev_nav.gif"
			class="org.kalypso.ogc.gml.outline.MoveThemeUpAction" />
		<MapviewAction
			title="%org.kalypso.ogc.gml.outline.RemoveThemeAction.label"
			enabled="false"
			tooltip="%org.kalypso.ogc.gml.outline.RemoveThemeAction.tooltip"
			icon="icons/full/elcl16/remove.gif"
			class="org.kalypso.ogc.gml.outline.RemoveThemeAction" />
		<MapviewAction
			title="%org.kalypso.ogc.gml.outline.OpenStyleDialogAction.label"
			enabled="false"
			tooltip="%org.kalypso.ogc.gml.outline.OpenStyleDialogAction.tooltip"
			icon="icons/util/update.gif"
			class="org.kalypso.ogc.gml.outline.OpenStyleDialogAction" />
	</extension>
	<!--setting this activity removes the compare functionality in application
		<extension point="org.eclipse.ui.activities">
		<activity id="org.kalypso.ui.activity"
		description="Filters contributions"
		name="Kalypso activity" />
		<activityPatternBinding
		activityId="org.kalypso.ui.activity"
		pattern="org\.eclipse\.compare/.*"/>
		</extension>
	-->
	<extension point="org.eclipse.core.runtime.adapters">
		<factory
			adaptableType="org.kalypsodeegree.model.feature.Feature"
			class="org.kalypso.ogc.gml.actionfilters.FeatureActionFilterAdapterFactory">
			<adapter type="org.eclipse.ui.IActionFilter" />
		</factory>
  <factory
        adaptableType="org.kalypso.ui.editor.gmleditor.ui.FeatureAssociationTypeElement"
        class="org.kalypso.ogc.gml.actionfilters.FeatureAssociationActionFilterAdapterFactory">
     <adapter type="org.eclipse.ui.IActionFilter"/>
  </factory>
  <factory
        adaptableType="org.kalypso.ogc.gml.outline.GisMapOutlineView"
        class="org.kalypso.ui.views.properties.MapPartAdapterFactory">
     <adapter
           type="org.eclipse.ui.views.properties.IPropertySheetPage">
     </adapter>
  </factory>
  <factory
        adaptableType="org.eclipse.ui.views.contentoutline.ContentOutline"
        class="org.kalypso.ui.views.properties.MapPartAdapterFactory">
     <adapter
           type="org.eclipse.ui.views.properties.IPropertySheetPage">
     </adapter>
  </factory>
  <factory
        adaptableType="org.kalypso.ogc.gml.IKalypsoTheme"
        class="org.kalypso.ui.views.properties.ThemePropertyAdapterFactory">
     <adapter
           type="org.eclipse.ui.views.properties.tabbed.ITabbedPropertySheetPageContributor">
     </adapter>
     <adapter
           type="org.eclipse.ui.views.properties.IPropertySource">
     </adapter>
     <adapter
           type="org.eclipse.ui.model.IWorkbenchAdapter2">
     </adapter>
  </factory>
  <factory
        adaptableType="org.kalypso.ui.editor.mapeditor.GisMapEditor"
        class="org.kalypso.ui.views.properties.MapPartAdapterFactory">
     <adapter
           type="org.eclipse.ui.views.properties.IPropertySheetPage">
     </adapter>
     <adapter
           type="org.kalypso.ogc.gml.map.MapPanel">
     </adapter>
  </factory>
  <factory
        adaptableType="org.kalypso.ui.views.map.MapView"
        class="org.kalypso.ui.views.properties.MapPartAdapterFactory">
     <adapter
           type="org.eclipse.ui.views.properties.IPropertySheetPage">
     </adapter>
     <adapter
           type="org.kalypso.ogc.gml.map.MapPanel">
     </adapter>
  </factory>
	</extension>
	<extension point="org.kalypso.contribs.eclipsercp.actionFilters">
		<actionFilter
			class="org.kalypso.ogc.gml.actionfilters.FeatureTypeActionFilter"
			id="org.kalypso.ogc.gml.actionfilters.FeatureTypeActionFilter"
			targetType="org.kalypsodeegree.model.feature.Feature" />
  <actionFilter
        class="org.kalypso.ogc.gml.actionfilters.FeatureTypeStrictActionFilter"
        id="org.kalypso.ogc.gml.actionfilters.FeatureTypeStrictActionFilter"
        targetType="org.kalypsodeegree.model.feature.Feature"/>
  <actionFilter
        class="org.kalypso.ogc.gml.actionfilters.FeatureListElementActionFilter"
        id="org.kalypso.ogc.gml.actionfilters.FeatureListElementActionFilter"
        targetType="org.kalypsodeegree.model.feature.Feature"/>
  <actionFilter
        class="org.kalypso.ogc.gml.actionfilters.FeatureAssociationQNameActionFilter"
        id="org.kalypso.ogc.gml.actionfilters.FeatureAssociationQNameActionFilter"
        targetType="org.kalypso.ui.editor.gmleditor.ui.FeatureAssociationTypeElement"/>
	</extension>
	<extension point="org.eclipse.ui.newWizards">
		<category id="org.kalypso.ui.newwizards.kalypso" name="%category.name.1" />
		<wizard
        canFinishEarly="false"
        category="org.kalypso.ui.newwizards.kalypso"
        class="org.kalypso.ui.wizard.NewGMLFileWizard"
        hasPages="true"
        icon="icons/full/obj16/gml_file.gif"
        id="org.kalypso.ui.wizard.NewGMLFileWizard"
        name="%org.kalypso.ui.wizard.NewGMLFileWizard.name">
			<description>
				%org.kalypso.ui.wizard.NewGMLFileWizard.description
			</description>
			<selection class="org.eclipse.core.resources.IResource" />
		</wizard>
	</extension>
	<extension point="org.kalypso.contribs.java.urlCatalog">
		<catalog
			class="org.kalypso.ui.catalogs.ServerPropertiesUrlCatalog"
			id="org.kalypso.ui.catalogs.ServerPropertiesUrlCatalog" />
	</extension>
 <extension
       point="org.eclipse.ui.importWizards">
    <category
          id="org.kalypso.ui.importwizards.kalypso"
          name="%category.name.2"/>
 </extension>
 <extension
       point="org.eclipse.core.runtime.contentTypes">
    <content-type
          base-type="org.eclipse.core.runtime.text"
          default-charset="CP1252"
          file-extensions="log"
          id="KalypsoUI.content-type1"
          name="%content-type.name.0"
          priority="low"/>
 </extension>
 <extension
      	point="org.eclipse.ui.commands">
	   		<category
		         description="%category.description.0"
		         id="org.kalypso.ogc.gml.map.widgets.category"
		         name="%category.name.3">
		    </category>
      <category
            id="org.kalypso.ui.commands.default"
            name="%category.name.4"/>
      <category
            id="org.kalypso.ui.views.outline.category"
            name="Outline">
      </category>
      <category
            description="%category.description.1"
            id="org.kalypso.ogc.gml.map.category"
            name="%category.name.5"/>
		    <command
		         categoryId="org.kalypso.ogc.gml.map.widgets.category"
		         description="%command.description.0"
		         id="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand"
		         name="%command.name.0">
			         <commandParameter
	                 id="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.widget"
	                 name="%commandParameter.name.0"
	                 optional="false"/>
	                 <commandParameter
	                 id="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.context"
	                 name="%commandParameter.name.1"
	                 optional="false"/>
                  <commandParameter
                        id="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.plugin"
                        name="%commandParameter.name.2"
                        optional="false"/>
		    </command>
      <command
            categoryId="org.kalypso.ogc.gml.map.category"
            description="%command.description.1"
            id="org.kalypso.ogc.gml.map.ZoomOutCommand"
            name="%command.name.1">
      </command>
      <command
            categoryId="org.kalypso.ogc.gml.map.category"
            description="%command.description.2"
            id="org.kalypso.ogc.gml.map.ZoomInStaticCommand"
            name="%command.name.2"/>
      <command
            categoryId="org.kalypso.ogc.gml.map.category"
            description="%command.description.3"
            id="org.kalypso.ogc.gml.map.MoveDownCommand"
            name="%command.name.3"/>
      <command
            categoryId="org.kalypso.ogc.gml.map.category"
            description="%command.description.4"
            id="org.kalypso.ogc.gml.map.MoveUpCommand"
            name="%command.name.4"/>
      <command
            categoryId="org.kalypso.ogc.gml.map.category"
            description="%command.description.5"
            id="org.kalypso.ogc.gml.map.MoveRightCommand"
            name="%command.name.5">
      </command>
      <command
            categoryId="org.kalypso.ogc.gml.map.category"
            description="%command.description.6"
            id="org.kalypso.ogc.gml.map.MoveLeftCommand"
            name="%command.name.6"/>
      <command
            categoryId="org.kalypso.ogc.gml.map.category"
            description="%command.description.7"
            id="org.kalypso.ogc.gml.map.ZoomToActiveLayerCommand"
            name="%command.name.7"/>
      <command
            categoryId="org.kalypso.ogc.gml.map.category"
            description="%command.description.8"
            id="org.kalypso.ogc.gml.map.ZoomToSelectedFeaturesCommand"
            name="%command.name.8"/>
      <command
            categoryId="org.kalypso.ogc.gml.map.category"
            description="%command.description.9"
            id="org.kalypso.ogc.gml.map.ZoomToSelectedFeaturesByLayerCommand"
            name="%command.name.9"/>
      <command
            categoryId="org.kalypso.ogc.gml.map.category"
            description="%command.description.10"
            id="org.kalypso.ogc.gml.map.PanToSelectedFeatureCommand"
            name="%command.name.10">
      </command>
      <command
            categoryId="org.kalypso.ogc.gml.map.category"
            defaultHandler="org.kalypso.ogc.gml.map.handlers.FullExtentHandler"
            id="org.kalypso.ogc.gml.map.FullExtentCommand"
            name="%org.kalypso.ui.editor.mapeditor.actiondelegates.FullExtentDelegate.label">
      </command>
      <command
            categoryId="org.kalypso.ogc.gml.map.category"
            id="org.kalypso.ogc.gml.map.ZoomInByRectCommand"
            name="%org.kalypso.ui.editor.mapeditor.actiondelegates.ZoomInByRectWidgetDelegate.label">
         <defaultHandler
               class="org.kalypso.ogc.gml.map.widgets.SelectWidgetHandler">
            <parameter
                  name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.widget"
                  value="org.kalypso.ogc.gml.map.widgets.ZoomInByRectWidget">
            </parameter>
         </defaultHandler>
      </command>
      <command
            categoryId="org.kalypso.ogc.gml.map.category"
            id="org.kalypso.ogc.gml.map.PanToCommand"
            name="%org.kalypso.ui.editor.mapeditor.actiondelegates.PanToWidgetDelegate.label">
         <defaultHandler
               class="org.kalypso.ogc.gml.map.widgets.SelectWidgetHandler">
            <parameter
                  name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.widget"
                  value="org.kalypso.ogc.gml.map.widgets.PanToWidget">
            </parameter>
         </defaultHandler>
      </command>
      <command
            categoryId="org.kalypso.ogc.gml.map.category"
            defaultHandler="org.kalypso.ogc.gml.map.handlers.MapScreenShotHandler"
            id="org.kalypso.ogc.gml.map.Screenshot"
            name="%command.name.11">
      </command>
      <command
            categoryId="org.kalypso.ui.views.outline.category"
            defaultHandler="org.kalypso.ogc.gml.outline.handler.ExportGml2ShapeThemeHandler"
            id="org.kalypso.ui.views.outline.ShapeExport"
            name="%command.name.12">
      </command>
      <command
            categoryId="org.kalypso.ogc.gml.map.widgets.category"
            description="%command.description.11"
            id="org.kalypso.ogc.gml.map.ThemeInfoCommand"
            name="%command.name.13">
      </command>
      <command
            categoryId="org.kalypso.ogc.gml.map.widgets.category"
            description="%command.description.12"
            id="org.kalypso.ogc.gml.map.OpenOutlineCommand"
            name="%command.name.14">
      </command>
	  <command
            categoryId="org.kalypso.ogc.gml.map.widgets.category"
           	description="Selektiert das nchste Feature in der Karte"
           	name="Nchstes"
           	id="org.kalypso.ui.map.selectNextFeatureCommand"/>
      <command
           categoryId="org.kalypso.ogc.gml.map.widgets.category"
           description="Selektiert das vorhergehende Feature in der Karte"
           name="Vorhergehendes"
           id="org.kalypso.ui.map.selectPreviousFeatureCommand"/>
      <command
            categoryId="org.kalypso.ui.views.outline.category"
            defaultHandler="org.kalypso.ogc.gml.outline.handler.ExportGMLThemeHandler"
            id="org.kalypso.ui.views.outline.GMLExport"
            name="%command.name.15">
      </command>
      <command
            categoryId="org.kalypso.ui.views.outline.category"
            defaultHandler="org.kalypso.ogc.gml.outline.handler.LegendExportHandler"
            id="org.kalypso.ui.views.outline.LegendExport"
            name="%command.name.16">
      </command>
      </extension>
 <extension
       point="org.eclipse.ui.viewActions">
    <viewContribution
          id="org.kalypso.ui.views.outline.actions"
          targetID="org.kalypso.ui.views.outline">
      	<action
             class="org.kalypso.ogc.gml.outline.ZoomToSelectedLayer"
             enablesFor="1"
             icon="icons/full/elcl16/impl_co.gif"
             id="org.kalypso.ui.views.outline.org.kalypso.ogc.gml.outline.ZoomToSelectedLayer"
             label="%org.kalypso.ogc.gml.outline.ZoomToSelectedLayer.label"
             style="push"
             toolbarPath="outline/tools"
             tooltip="%org.kalypso.ogc.gml.outline.ZoomToSelectedLayer.tooltip"/>
       <action
             class="org.kalypso.ogc.gml.outline.MoveThemeUpAction"
             icon="icons/full/elcl16/prev_nav.gif"
             id="org.kalypso.ui.views.outline.moveThemeUp"
             label="%org.kalypso.ogc.gml.outline.MoveThemeUpAction2.label"
             style="push"
             toolbarPath="outline/tools"
             tooltip="%org.kalypso.ogc.gml.outline.MoveThemeUpAction2.tooltip"/>
       <action
             class="org.kalypso.ogc.gml.outline.MoveThemeDownAction"
             icon="icons/full/elcl16/next_nav.gif"
             id="org.kalypso.ui.views.outline.moveThemeDown"
             label="%org.kalypso.ogc.gml.outline.MoveThemeDownAction2.label"
             style="push"
             toolbarPath="outline/tools"
             tooltip="%org.kalypso.ogc.gml.outline.MoveThemeDownAction2.tooltip"/>
       <action
             class="org.kalypso.ogc.gml.outline.RemoveThemeAction"
             icon="icons/full/elcl16/remove.gif"
             id="org.kalypso.ui.views.outline.removeTheme"
             label="%org.kalypso.ogc.gml.outline.RemoveThemeAction.label"
             style="push"
             toolbarPath="outline/tools"
             tooltip="%org.kalypso.ogc.gml.outline.RemoveThemeAction.tooltip">
       </action>
       <menu
             id="org.kalypso.ui.views.outline.actions.tools"
             label="%menu.label.3"
             path="outline/tools"/>
    </viewContribution>
 </extension>
 <extension
       point="org.eclipse.ui.bindings">
    <key
          commandId="org.kalypso.ogc.gml.map.ZoomOutCommand"
          contextId="org.kalypso.ogc.gml.map.context"
          schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
          sequence="M1+-"/>
    <key
          commandId="org.kalypso.ogc.gml.map.ZoomInStaticCommand"
          contextId="org.kalypso.ogc.gml.map.context"
          schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
          sequence="M1++"/>
    <key
          commandId="org.kalypso.ogc.gml.map.MoveLeftCommand"
          contextId="org.kalypso.ogc.gml.map.context"
          schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
          sequence="M1+ARROW_LEFT"/>
    <key
          commandId="org.kalypso.ogc.gml.map.MoveRightCommand"
          contextId="org.kalypso.ogc.gml.map.context"
          schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
          sequence="M1+ARROW_RIGHT"/>
    <key
          commandId="org.kalypso.ogc.gml.map.MoveUpCommand"
          contextId="org.kalypso.ogc.gml.map.context"
          schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
          sequence="M1+ARROW_UP"/>
    <key
          commandId="org.kalypso.ogc.gml.map.MoveDownCommand"
          contextId="org.kalypso.ogc.gml.map.context"
          schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
          sequence="M1+ARROW_DOWN"/>
    <key
          commandId="org.kalypso.ogc.gml.map.ZoomToActiveLayerCommand"
          contextId="org.kalypso.ogc.gml.map.context"
          schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
          sequence="M1+L"/>
    <key
          commandId="org.kalypso.ogc.gml.map.ZoomToSelectedFeaturesCommand"
          contextId="org.kalypso.ogc.gml.map.context"
          schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
          sequence="M1+Q"/>
    <key
          commandId="org.kalypso.ogc.gml.map.ZoomToSelectedFeaturesByLayerCommand"
          contextId="org.kalypso.ogc.gml.map.context"
          schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
          sequence="M1+E"/>
    <key
          commandId="org.kalypso.ogc.gml.map.PanToSelectedFeatureCommand"
          contextId="org.kalypso.ogc.gml.map.context"
          schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
          sequence="M1+F">
    </key>
 </extension>
 <extension
       point="org.eclipse.ui.views.properties.tabbed.propertyContributor">
    <propertyContributor
          contributorId="org.kalypso.ui.ContentOutlinePropertyContributor">
       <propertyCategory
             category="outline"/>
    </propertyContributor>
 </extension>
 <extension
       point="org.eclipse.ui.views.properties.tabbed.propertyContributor">
    <propertyContributor
          contributorId="org.kalypso.ui.ThemePropertyContributor">
       <propertyCategory
             category="theme"/>
    </propertyContributor>
 </extension>
 <extension
       point="org.eclipse.ui.views.properties.tabbed.propertyTabs">
    <propertyTabs
          contributorId="org.kalypso.ui.ThemePropertyContributor">
       <propertyTab
             category="theme"
             id="org.kalypso.ui.propertyTabs.ThemeGenerelTab"
             indented="false"
             label="Generel">
       </propertyTab>
       <propertyTab
             afterTab="org.kalypso.ui.propertyTabs.ThemeGenerelTab"
             category="theme"
             id="org.kalypso.ui.propertyTabs.ThemeAdvancedTab"
             indented="false"
             label="Advanced">
       </propertyTab>
    </propertyTabs>
 </extension>
 <extension
       point="org.eclipse.ui.views.properties.tabbed.propertySections">
    <propertySections
          contributorId="org.kalypso.ui.ThemePropertyContributor">
       <propertySection
             class="org.kalypso.ui.views.properties.NamePropertySection"
             id="org.kalypso.ui.propertySections.themes.NameSection"
             tab="org.kalypso.ui.propertyTabs.ThemeGenerelTab">
          <input
                type="org.kalypso.ogc.gml.IKalypsoTheme">
          </input>
       </propertySection>
       <propertySection
             class="org.eclipse.ui.views.properties.tabbed.AdvancedPropertySection"
             id="org.kalypso.ui.propertySections.themes.AdvancedSection"
             tab="org.kalypso.ui.propertyTabs.ThemeAdvancedTab">
          <input
                type="org.kalypso.ogc.gml.IKalypsoTheme">
          </input>
       </propertySection>
    </propertySections>
 </extension>
 <extension
       point="org.eclipse.ui.propertyPages">
    <page
          class="org.kalypso.ui.views.properties.ThemePropertyPage"
          id="org.kalypso.ui.themeBasicPage"
          name="%page.name.1">
       <enabledWhen>
          <instanceof
                value="org.kalypso.ogc.gml.IKalypsoTheme">
          </instanceof>
       </enabledWhen>
    </page>
    <page
          class="org.kalypso.ui.views.properties.LegendPropertyPage"
          id="org.kalypso.ui.views.properties.LegendPropertyPage"
          name="%page.name.2">
       <enabledWhen>
          <instanceof
                value="org.kalypso.ogc.gml.IKalypsoTheme">
          </instanceof>
       </enabledWhen>
    </page>
 </extension>
 <extension
       point="org.eclipse.ui.menus">
    <menuContribution
          locationURI="toolbar:org.kalypso.ui.views.mapView">
       <separator
             name="actions"
             visible="true">
       </separator>
       <separator
             name="mapExport"
             visible="true">
       </separator>
    </menuContribution>
    <menuContribution
          locationURI="toolbar:org.kalypso.ui.views.mapView?before=actions">
       <command
             commandId="org.kalypso.ogc.gml.map.ZoomInByRectCommand"
             label="%org.kalypso.ui.editor.mapeditor.actiondelegates.ZoomInByRectWidgetDelegate.label"
             style="radio"
             tooltip="%org.kalypso.ui.editor.mapeditor.actiondelegates.ZoomInByRectWidgetDelegate.tooltip">
       </command>
       <command
             commandId="org.kalypso.ogc.gml.map.PanToCommand"
             label="%org.kalypso.ui.editor.mapeditor.actiondelegates.PanToWidgetDelegate.label"
             style="radio"
             tooltip="%org.kalypso.ui.editor.mapeditor.actiondelegates.PanToWidgetDelegate.tooltip">
       </command>
       <command
             commandId="org.kalypso.ogc.gml.map.ThemeInfoCommand"
             style="radio">
       </command>
    </menuContribution>
    <menuContribution
          locationURI="toolbar:org.kalypso.ui.views.mapView?after=actions">
       <dynamic
             id="org.kalypso.ogc.gml.map.zoom">
          <class
                class="org.kalypso.contribs.eclipse.ui.actions.DropDownToolbarItem">
             <parameter
                   name="command1"
                   value="org.kalypso.ogc.gml.map.FullExtentCommand">
             </parameter>
             <parameter
                   name="command2"
                   value="org.kalypso.ogc.gml.map.ZoomToActiveLayerCommand">
             </parameter>
             <parameter
                   name="command3"
                   value="org.kalypso.ogc.gml.map.ZoomInStaticCommand">
             </parameter>
             <parameter
                   name="command4"
                   value="org.kalypso.ogc.gml.map.ZoomOutCommand">
             </parameter>
          </class>
          <visibleWhen
                checkEnabled="false">
             <reference
                   definitionId="mapContext">
             </reference>
          </visibleWhen>
       </dynamic>
       <dynamic
             id="org.kalypso.ogc.gml.map.move">
          <class
                class="org.kalypso.contribs.eclipse.ui.actions.DropDownToolbarItem">
             <parameter
                   name="command1"
                   value="org.kalypso.ogc.gml.map.MoveLeftCommand">
             </parameter>
             <parameter
                   name="command2"
                   value="org.kalypso.ogc.gml.map.MoveUpCommand">
             </parameter>
             <parameter
                   name="command3"
                   value="org.kalypso.ogc.gml.map.MoveDownCommand">
             </parameter>
             <parameter
                   name="command4"
                   value="org.kalypso.ogc.gml.map.MoveRightCommand">
             </parameter>
          </class>
          <visibleWhen
                checkEnabled="false">
             <reference
                   definitionId="mapContext">
             </reference>
          </visibleWhen>
       </dynamic>
    </menuContribution>
     <menuContribution
          locationURI="menu:org.eclipse.ui.main.menu?after=additions">
       <menu
             id="org.kalypso.ui.menus.mapMenu"
             label="%org.kalypso.ui.editors.mapeditor.menu"
             tooltip="%menu.tooltip.0">
          <visibleWhen
                checkEnabled="false">
			 <with variable="activeEditorId">
                <equals
                      value="org.kalypso.ui.editor.mapeditor.GisMapEditor">
                </equals>
             </with>
		  </visibleWhen>
        <command
              commandId="org.kalypso.ogc.gml.map.PanToCommand"
              label="%org.kalypso.ui.editor.mapeditor.actiondelegates.PanToWidgetDelegate.label"
              style="radio"
              tooltip="%org.kalypso.ui.editor.mapeditor.actiondelegates.PanToWidgetDelegate.tooltip">
        </command>
        <command
              commandId="org.kalypso.ogc.gml.map.ZoomInByRectCommand"
              label="%org.kalypso.ui.editor.mapeditor.actiondelegates.ZoomInByRectWidgetDelegate.label"
              style="radio"
              tooltip="%org.kalypso.ui.editor.mapeditor.actiondelegates.ZoomInByRectWidgetDelegate.tooltip">
        </command>
          <separator
                name="navigation"
                visible="true">
          </separator>
	       <command
	             commandId="org.kalypso.ogc.gml.map.ZoomOutCommand"
	             label="%org.kalypso.ui.editor.mapeditor.actiondelegates.ZoomOutDelegate.label"
	             style="push"
	             tooltip="%org.kalypso.ui.editor.mapeditor.actiondelegates.ZoomOutDelegate.tooltip">
	       </command>
	       <command
	             commandId="org.kalypso.ogc.gml.map.ZoomInStaticCommand"
	             label="%org.kalypso.ui.editor.mapeditor.actiondelegates.ZoomInStaticDelegate.label"
	             style="push"
	             tooltip="%org.kalypso.ui.editor.mapeditor.actiondelegates.ZoomInStaticDelegate.tooltip">
	       </command>
	       <command
	             commandId="org.kalypso.ogc.gml.map.MoveLeftCommand"
	             label="%org.kalypso.ui.editor.mapeditor.actiondelegates.MoveLeftDelegate.label"
	             style="push"
	             tooltip="%org.kalypso.ui.editor.mapeditor.actiondelegates.MoveLeftDelegate.tooltip">
	       </command>
	       <command
	             commandId="org.kalypso.ogc.gml.map.MoveDownCommand"
	             label="%org.kalypso.ui.editor.mapeditor.actiondelegates.MoveDownDelegate.label"
	             style="push"
	             tooltip="%org.kalypso.ui.editor.mapeditor.actiondelegates.MoveDownDelegate.tooltip">
	       </command>
	       <command
	             commandId="org.kalypso.ogc.gml.map.MoveUpCommand"
	             label="%org.kalypso.ui.editor.mapeditor.actiondelegates.MoveUpDelegate.label"
	             style="push"
	             tooltip="%org.kalypso.ui.editor.mapeditor.actiondelegates.MoveUpDelegate.tooltip">
	       </command>
	       <command
	             commandId="org.kalypso.ogc.gml.map.MoveRightCommand"
	             label="%org.kalypso.ui.editor.mapeditor.actiondelegates.MoveRightDelegate.label"
	             style="push"
	             tooltip="%org.kalypso.ui.editor.mapeditor.actiondelegates.MoveRightDelegate.tooltip">
	       </command>
	       <command
	             commandId="org.kalypso.ogc.gml.map.FullExtentCommand"
	             label="%org.kalypso.ui.editor.mapeditor.actiondelegates.FullExtentDelegate.label"
	             style="push"
	             tooltip="%org.kalypso.ui.editor.mapeditor.actiondelegates.FullExtentDelegate.tooltip">
	       </command>
	       <command
	             commandId="org.kalypso.ogc.gml.map.ZoomToActiveLayerCommand"
	             label="%org.kalypso.ui.editor.mapeditor.actiondelegates.ZoomToActiveLayerDelegate.label"
	             style="push"
	             tooltip="%org.kalypso.ui.editor.mapeditor.actiondelegates.ZoomToActiveLayerDelegate.tooltip">
	       </command>
       </menu>
    </menuContribution>
     <menuContribution
           locationURI="toolbar:org.eclipse.ui.trim.status">
        <toolbar
              id="org.eclipse.ui.examples.contributions.contributedTrim">
           <control
                 class="org.kalypso.ui.views.map.MapCoordinateStatusLineItem">
           </control>
        </toolbar>
     </menuContribution>
     <menuContribution
           locationURI="toolbar:org.eclipse.ui.trim.status">
        <toolbar
              id="org.kalypso.ui.views.map.MapScaleStatusLineItem">
           <control
                 class="org.kalypso.ui.views.map.MapScaleStatusLineItem">
           </control>
        </toolbar>
     </menuContribution>
     <menuContribution
           locationURI="toolbar:org.kalypso.ui.repository.view.RepositoryExplorerPart">
        <separator
              name="manageContainers"
              visible="false">
        </separator>
        <command commandId="org.kalypso.ui.command.repositoryAdd"></command>
        <command commandId="org.kalypso.ui.command.repositoryRemove"></command>
        <separator
              name="configureContainers"
              visible="true">
        </separator>
        <command commandId="org.kalypso.ui.command.repositoryConfigure"></command>
        <command commandId="org.kalypso.ui.command.repositoryReload"></command>
        <command commandId="org.kalypso.ui.command.repositoryDumpStructure"></command>
        <separator
              name="manageTree"
              visible="true">
        </separator>
        <command commandId="org.kalypso.ui.command.repositoryCollapseAll"></command>
        <separator
              name="repositoryTools"
              visible="true">
        </separator>
        <command commandId="org.kalypso.ui.command.repositoryExportAsFile"></command>
        <command commandId="org.kalypso.ui.command.repositoryCopyLink"></command>
        <command commandId="org.kalypso.ui.command.repositoryShowWQ"></command>
        <separator
              name="additions"
              visible="true">
        </separator>
     </menuContribution>
     <menuContribution
           locationURI="popup:org.kalypso.ui.repository.view.RepositoryExplorerPart">
        <separator
              name="manageContainers"
              visible="false">
        </separator>
        <command commandId="org.kalypso.ui.command.repositoryAdd"></command>
        <command commandId="org.kalypso.ui.command.repositoryRemove"></command>
        <separator
              name="configureContainers"
              visible="true">
        </separator>
        <command commandId="org.kalypso.ui.command.repositoryConfigure"></command>
        <command commandId="org.kalypso.ui.command.repositoryReload"></command>
        <command commandId="org.kalypso.ui.command.repositoryDumpStructure"></command>
        <separator
              name="manageTree"
              visible="true">
        </separator>
        <command commandId="org.kalypso.ui.command.repositoryCollapseAll"></command>
        <separator
              name="repositoryTools"
              visible="true">
        </separator>
        <command commandId="org.kalypso.ui.command.repositoryExportAsFile"></command>
        <command commandId="org.kalypso.ui.command.repositoryCopyLink"></command>
        <command commandId="org.kalypso.ui.command.repositoryShowWQ"></command>
        <separator
              name="additions"
              visible="true">
        </separator>
     </menuContribution>
     <menuContribution
           locationURI="toolbar:org.kalypso.ui.views.mapView?after=mapExport">
        <command
              commandId="org.kalypso.ogc.gml.map.Screenshot"
              label="%command.label.0"
              style="push"
              tooltip="%command.tooltip.0">
        </command>
        <command
              commandId="org.kalypso.ogc.gml.map.OpenOutlineCommand"
              label="%command.label.1"
              style="push"
              tooltip="%command.tooltip.1">
        </command>
     </menuContribution>
     <menuContribution
           locationURI="menu:org.kalypso.ui.views.outline?after=outlineExport">
        <command
              commandId="org.kalypso.ui.views.outline.ShapeExport"
              icon="icons/full/obj16/exportGml2Shp.gif"
              label="%command.label.2"
              style="push"
              tooltip="%command.tooltip.2">
           <visibleWhen
                 checkEnabled="false">
              <with
                    variable="selection">
                 <iterate
                       ifEmpty="false"
                       operator="and">
                    <instanceof
                          value="org.kalypso.ogc.gml.IKalypsoFeatureTheme">
                    </instanceof>
                 </iterate>
              </with>
           </visibleWhen>
        </command>
        <command
              commandId="org.kalypso.ui.views.outline.GMLExport"
              icon="icons/full/obj16/exportGml2Shp.gif"
              label="%command.label.3"
              style="push"
              tooltip="%command.tooltip.3">
           <visibleWhen
                 checkEnabled="false">
              <with
                    variable="selection">
                 <iterate
                       ifEmpty="false"
                       operator="and">
                    <instanceof
                          value="org.kalypso.ogc.gml.IKalypsoFeatureTheme">
                    </instanceof>
                 </iterate>
              </with>
           </visibleWhen>
        </command>
        <command
              commandId="org.kalypso.ui.views.outline.LegendExport"
              icon="icons/full/obj16/exportGml2Shp.gif"
              label="%command.label.4"
              style="push"
              tooltip="%command.tooltip.4">
           <visibleWhen
                 checkEnabled="false">
              <with
                    variable="selection">
                 <iterate
                       ifEmpty="false"
                       operator="and">
                    <instanceof
                          value="org.kalypso.ogc.gml.IKalypsoTheme">
                    </instanceof>
                 </iterate>
              </with>
           </visibleWhen>
        </command>
     </menuContribution>
     <menuContribution
           locationURI="menu:org.kalypso.ui.views.outline">
        <separator
              name="outlineExport"
              visible="true">
        </separator>
     </menuContribution>
     <menuContribution
           locationURI="popup:org.kalypso.ui.editor.GmlEditor">
        <menu
              id="imports"
              label="%menu.label.4">
           <command
                 commandId="org.kalypso.gml.ui.importGridCommand">
              <visibleWhen
                    checkEnabled="false">
                 <with
                       variable="selection">
                    <iterate
                          ifEmpty="false"
                          operator="and">
                       <test
                             forcePluginActivation="false"
                             property="org.kalypso.core.qname"
                             value="{org.kalypso.gml.common.coverage}CoverageCollection">
                       </test>
                    </iterate>
                 </with>
              </visibleWhen>
           </command>
        </menu>
        <menu
              id="exports"
              label="%menu.label.5">
           <command
                 commandId="org.kalypso.gml.ui.exportGridCommand">
              <visibleWhen
                    checkEnabled="false">
                 <with
                       variable="selection">
                    <iterate
                          ifEmpty="false"
                          operator="and">
                       <test
                             forcePluginActivation="false"
                             property="org.kalypso.core.qname"
                             value="{http://www.opengis.net/gml}_Coverage">
                       </test>
                    </iterate>
                 </with>
              </visibleWhen>
           </command>
        </menu>
     </menuContribution>

 </extension>

 <extension
       point="org.eclipse.ui.commandImages">
    <image
          commandId="org.kalypso.ogc.gml.map.ZoomOutCommand"
          icon="icons/map/zoomoutstatic.gif">
    </image>
    <image
          commandId="org.kalypso.ogc.gml.map.ZoomInStaticCommand"
          icon="icons/map/zoominstatic.gif">
    </image>
    <image
          commandId="org.kalypso.ogc.gml.map.MoveLeftCommand"
          icon="icons/map/moveleft.gif">
    </image>
    <image
          commandId="org.kalypso.ogc.gml.map.MoveDownCommand"
          icon="icons/map/movedown.gif">
    </image>
    <image
          commandId="org.kalypso.ogc.gml.map.MoveUpCommand"
          icon="icons/map/moveup.gif">
    </image>
    <image
          commandId="org.kalypso.ogc.gml.map.MoveRightCommand"
          icon="icons/map/moveright.gif">
    </image>
    <image
          commandId="org.kalypso.ogc.gml.map.FullExtentCommand"
          icon="icons/map/maximize2.gif">
    </image>
    <image
          commandId="org.kalypso.ogc.gml.map.ZoomToActiveLayerCommand"
          icon="icons/map/zoomactivelayer2.gif">
    </image>
    <image
          commandId="org.kalypso.ogc.gml.map.ZoomInByRectCommand"
          icon="icons/map/zoomin.gif">
    </image>
    <image
          commandId="org.kalypso.ogc.gml.map.PanToCommand"
          icon="icons/map/pan.gif">
    </image>
    <image
          commandId="org.kalypso.ogc.gml.map.Screenshot"
          icon="icons/map/screenshot.gif">
    </image>
    <image
          commandId="org.kalypso.ogc.gml.map.ThemeInfoCommand"
          icon="icons/map/themeInfo.gif">
    </image>
    <image
          commandId="org.kalypso.ogc.gml.map.OpenOutlineCommand"
          icon="icons/map/show_outline.gif">
    </image>
    <image
          commandId="org.kalypso.ui.map.selectNextFeatureCommand"
          icon="icons/map/nextFeature.gif">
    </image>
    <image
          commandId="org.kalypso.ui.map.selectPreviousFeatureCommand"
          icon="icons/map/prevFeature.gif">
    </image>
 </extension>
 <extension
       id="org.kalypso.ui.repositoryContainerCommands"
       name="Repository Container Commands"
       point="org.eclipse.ui.commands">
    <category
          id="org.kalypo.ui.commandCategory.repositoryContainer"
          name="%category.name.6">
    </category>
    <command
          categoryId="org.kalypo.ui.commandCategory.repositoryContainer"
          defaultHandler="org.kalypso.ogc.sensor.view.actions.AddRepositoryHandler"
          description="%command.description.13"
          id="org.kalypso.ui.command.repositoryAdd"
          name="%command.name.17">
    </command>
    <command
          categoryId="org.kalypo.ui.commandCategory.repositoryContainer"
          description="%command.description.14"
          id="org.kalypso.ui.command.repositoryRemove"
          name="%command.name.18">
    </command>
    <command
          categoryId="org.kalypo.ui.commandCategory.repositoryContainer"
          description="%command.description.15"
          id="org.kalypso.ui.command.repositoryConfigure"
          name="%command.name.19">
    </command>
    <command
          categoryId="org.kalypo.ui.commandCategory.repositoryContainer"
          description="%command.description.16"
          id="org.kalypso.ui.command.repositoryReload"
          name="%command.name.20">
    </command>
    <command
          categoryId="org.kalypo.ui.commandCategory.repositoryContainer"
          description="%command.description.17"
          id="org.kalypso.ui.command.repositoryDumpStructure"
          name="%command.name.21">
    </command>
    <command
          categoryId="org.kalypo.ui.commandCategory.repositoryContainer"
          defaultHandler="org.kalypso.ogc.sensor.view.actions.CollapseAllHandler"
          description="%command.description.18"
          id="org.kalypso.ui.command.repositoryCollapseAll"
          name="%command.name.22">
    </command>
    <command
          categoryId="org.kalypo.ui.commandCategory.repositoryContainer"
          description="%command.description.19"
          id="org.kalypso.ui.command.repositoryExportAsFile"
          name="%command.name.23">
    </command>

    <command
          categoryId="org.kalypo.ui.commandCategory.repositoryContainer"
          description="%command.description.20"
          id="org.kalypso.ui.command.repositoryCopyLink"
          name="%command.name.24">
    </command>
    <command
          categoryId="org.kalypo.ui.commandCategory.repositoryContainer"
          description="%command.description.21"
          id="org.kalypso.ui.command.repositoryShowWQ"
          name="%command.name.25">
    </command>
 </extension>
 <extension
       point="org.eclipse.ui.commandImages">
    <image
          commandId="org.kalypso.ui.command.repositoryAdd"
          icon="icons/repository/repository_add.gif">
    </image>
    <image
          commandId="org.kalypso.ui.command.repositoryRemove"
          icon="icons/repository/repository_remove.gif">
    </image>
    <image
          commandId="org.kalypso.ui.command.repositoryConfigure"
          icon="icons/util/settings.gif">
    </image>
    <image
          commandId="org.kalypso.ui.command.repositoryReload"
          icon="icons/util/update.gif">
    </image>
    <image
          commandId="org.kalypso.ui.command.repositoryDumpStructure"
          icon="icons/repository/repository_rep.gif">
    </image>
    <image
          commandId="org.kalypso.ui.command.repositoryCollapseAll"
          icon="icons/util/tree_collapse_all.gif">
    </image>
    <image
          commandId="org.kalypso.ui.command.repositoryExportAsFile"
          icon="icons/repository/zml_download.gif">
    </image>
    <image
          commandId="org.kalypso.ui.command.repositoryCopyLink"
          icon="icons/observation/observation_link.gif">
    </image>
    <image
          commandId="org.kalypso.ui.command.repositoryShowWQ"
          icon="icons/util/filter.gif">
    </image>
 </extension>
 <extension
       point="org.eclipse.ui.handlers">
    <handler
          class="org.kalypso.ogc.sensor.view.actions.ConfigurePreviewHandler"
          commandId="org.kalypso.ui.command.repositoryConfigure">
       <enabledWhen>
          <reference
                definitionId="repositorySelection">
          </reference>
       </enabledWhen>
    </handler>
    <handler
          class="org.kalypso.ogc.sensor.view.actions.RemoveRepositoryHandler"
          commandId="org.kalypso.ui.command.repositoryRemove">
       <enabledWhen>
          <reference
                definitionId="repositorySelection">
          </reference>
       </enabledWhen>
    </handler>
    <handler
          class="org.kalypso.ogc.sensor.view.actions.DumpStructureHandler"
          commandId="org.kalypso.ui.command.repositoryDumpStructure">
       <enabledWhen>
          <reference
                definitionId="repositorySelection">
          </reference>
       </enabledWhen>
    </handler>
    <handler
          class="org.kalypso.ogc.sensor.view.actions.ExportAsFileHandler"
          commandId="org.kalypso.ui.command.repositoryExportAsFile">
       <enabledWhen>
          <reference
                definitionId="repositoryItemSelection">
          </reference>
       </enabledWhen>
    </handler>
    <handler
          class="org.kalypso.ogc.sensor.view.actions.ReloadHandler"
          commandId="org.kalypso.ui.command.repositoryReload">
       <enabledWhen>
          <reference
                definitionId="repositorySelection">
          </reference>
       </enabledWhen>
    </handler>
    <handler
          class="org.kalypso.ogc.sensor.view.actions.CopyLinkHandler"
          commandId="org.kalypso.ui.command.repositoryCopyLink">
       <enabledWhen>
          <reference
                definitionId="repositoryItemSelection">
          </reference>
       </enabledWhen>
    </handler>
    <handler
          class="org.kalypso.ogc.sensor.view.actions.ViewWQRelationHandler"
          commandId="org.kalypso.ui.command.repositoryShowWQ">
       <enabledWhen>
          <reference
                definitionId="repositoryItemSelection">
          </reference>
       </enabledWhen>
    </handler>
    <handler
          class="org.kalypso.ogc.gml.map.handlers.ZoomOutHandler"
          commandId="org.kalypso.ogc.gml.map.ZoomOutCommand">
       <enabledWhen>
          <reference
                definitionId="mapContext">
          </reference>
       </enabledWhen>
    </handler>
    <handler
          class="org.kalypso.ogc.gml.map.handlers.ZoomInStaticHandler"
          commandId="org.kalypso.ogc.gml.map.ZoomInStaticCommand">
       <enabledWhen>
          <reference
                definitionId="mapContext">
          </reference>
       </enabledWhen>
    </handler>
    <handler
          class="org.kalypso.ogc.gml.map.handlers.MoveDownHandler"
          commandId="org.kalypso.ogc.gml.map.MoveDownCommand">
       <enabledWhen>
          <reference
                definitionId="mapContext">
          </reference>
       </enabledWhen>
    </handler>
    <handler
          class="org.kalypso.ogc.gml.map.handlers.MoveUpHandler"
          commandId="org.kalypso.ogc.gml.map.MoveUpCommand">
       <enabledWhen>
          <reference
                definitionId="mapContext">
          </reference>
       </enabledWhen>
    </handler>
    <handler
          class="org.kalypso.ogc.gml.map.handlers.MoveLeftHandler"
          commandId="org.kalypso.ogc.gml.map.MoveLeftCommand">
       <enabledWhen>
          <reference
                definitionId="mapContext">
          </reference>
       </enabledWhen>
    </handler>
    <handler
          class="org.kalypso.ogc.gml.map.handlers.MoveRightHandler"
          commandId="org.kalypso.ogc.gml.map.MoveRightCommand">
       <enabledWhen>
          <reference
                definitionId="mapContext">
          </reference>
       </enabledWhen>
    </handler>
    <handler
          class="org.kalypso.ogc.gml.map.handlers.ZoomToActiveLayerHandler"
          commandId="org.kalypso.ogc.gml.map.ZoomToActiveLayerCommand">
       <enabledWhen>
          <reference
                definitionId="mapContext">
          </reference>
       </enabledWhen>
    </handler>
    <handler
          class="org.kalypso.ogc.gml.map.handlers.ZoomToSelectedFeatures"
          commandId="org.kalypso.ogc.gml.map.ZoomToSelectedFeaturesCommand">
       <enabledWhen>
          <reference
                definitionId="mapContext">
          </reference>
       </enabledWhen>
    </handler>
    <handler
          class="org.kalypso.ogc.gml.map.handlers.ZoomToSelectedFeaturesByLayer"
          commandId="org.kalypso.ogc.gml.map.ZoomToSelectedFeaturesByLayerCommand">
       <enabledWhen>
          <reference
                definitionId="mapContext">
          </reference>
       </enabledWhen>
    </handler>
    <handler
          class="org.kalypso.ogc.gml.map.handlers.PanToSelectedFeature"
          commandId="org.kalypso.ogc.gml.map.PanToSelectedFeatureCommand">
       <enabledWhen>
          <reference
                definitionId="mapContext">
          </reference>
       </enabledWhen>
    </handler>
    <handler
          commandId="org.kalypso.ogc.gml.map.ThemeInfoCommand">
       <class
             class="org.kalypso.ogc.gml.map.widgets.SelectWidgetHandler">
          <parameter
                name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.widget"
                value="org.kalypso.ogc.gml.map.widgets.ThemeInfoWidget">
          </parameter>
       </class>
       <enabledWhen>
          <reference
                definitionId="mapContext">
          </reference>
       </enabledWhen>
    </handler>
	<handler commandId="org.kalypso.ui.map.selectNextFeatureCommand">
		<class class="org.kalypso.ui.editor.mapeditor.commands.SelectNextFeatureHandler">
			 <parameter name="forward" value="true"/>
			 <parameter name="rotate"  value="false"/>
			 <parameter name="image"  value="icons/util/forward_nav.gif"/>
		</class>
	</handler>
	<handler commandId="org.kalypso.ui.map.selectPreviousFeatureCommand" >
		<class class="org.kalypso.ui.editor.mapeditor.commands.SelectNextFeatureHandler">
			 <parameter name="forward" value="false"/>
			 <parameter name="rotate"  value="false"/>
			 <parameter name="image"  value="icons/util/backward_nav.gif"/>
		</class>
	</handler>
    <handler
          class="org.kalypso.ogc.gml.map.handlers.OpenOutlineHandler"
          commandId="org.kalypso.ogc.gml.map.OpenOutlineCommand">
       <enabledWhen>
          <reference
                definitionId="mapContext">
          </reference>
       </enabledWhen>
    </handler>
 </extension>
 <extension
       point="org.kalypso.core.featureviewComparator">
    <comparator
          class="org.eclipse.jface.viewers.ViewerComparator"
          id="org.kalypso.ui.featureview.comparators.defaultComparator">
    </comparator>
    <comparator
          class="org.kalypso.ogc.gml.featureview.control.comparators.FeatureViewerComparator"
          id="org.kalypso.ui.featureview.comparators.featureComparator">
    </comparator>
 </extension>
 <extension
       point="org.eclipse.core.expressions.definitions">
    <definition
          id="mapContext">
       <with
             variable="activeContexts">
          <iterate
                ifEmpty="false"
                operator="or">
             <equals
                   value="org.kalypso.ogc.gml.map.context">
             </equals>
          </iterate>
       </with>
    </definition>
    <definition
          id="repositorySelection">
       <with
             variable="selection">
          <iterate
                ifEmpty="false"
                operator="and">
             <instanceof
                   value="org.kalypso.repository.IRepository">
             </instanceof>
          </iterate>
       </with>
    </definition>
    <definition
          id="repositoryItemSelection">
       <with
             variable="selection">
          <iterate
                ifEmpty="false"
                operator="and">
             <instanceof
                   value="org.kalypso.repository.IRepositoryItem">
             </instanceof>
          </iterate>
       </with>
    </definition>
 </extension>
 <extension
       point="org.eclipse.ui.contexts">
    <context
          id="org.kalypso.ogc.gml.map.context"
          name="%context.name.0"
          parentId="org.eclipse.ui.contexts.window">
    </context>
 </extension>
 <extension
       point="org.kalypso.ui.featureViewExtensionControl">
    <extensionControl
          class="org.kalypso.ogc.gml.featureview.control.ChecklistOfLinksFeatureviewControlFactory"
          id="org.kalypso.ogc.gml.featureview.control.ChecklistOfLinksFeatureviewControlFactory">
    </extensionControl>
 </extension>
 <extension
       point="org.kalypso.core.themeInfo">
    <themeInfo
          class="org.kalypso.ogc.gml.map.themes.DefaultFeatureThemeInfo"
          id="org.kalypso.ui.featureThemeInfo.default">
    </themeInfo>
 </extension>
 <extension
       point="org.kalypso.ui.componentUiHandlerProvider">
    <provider
          class="org.kalypso.ogc.gml.om.table.handlers.DefaultComponentUiHandlerProvider"
          id="org.kalypso.ogc.gml.om.table.handlers.DefaultComponentUiHandlerProvider">
    </provider>
 </extension>
 <extension
       point="org.eclipse.ui.commands">
    <category
          description="%category.description.2"
          id="org.kalypso.ui.tupleResult.category"
          name="%category.name.7">
    </category>
    <command
          categoryId="org.kalypso.ui.tupleResult.category"
          description="%command.description.22"
          id="org.kalypso.ui.tupleResult.copyToClipboardCommand"
          name="%command.name.26">
    </command>
    <command
          categoryId="org.kalypso.ui.tupleResult.category"
          description="%command.description.23"
          id="org.kalypso.ui.tupleResult.pasteFromClipboardCommand"
          name="%command.name.27">
    </command>
    <command
          categoryId="org.kalypso.ui.tupleResult.category"
          description="%command.description.24"
          id="org.kalypso.ui.tupleResult.deleteSelectedRowsCommand"
          name="%command.name.28">
    </command>
    <command
          categoryId="org.kalypso.ui.tupleResult.category"
          description="%command.description.25"
          id="org.kalypso.ui.tupleResult.moveUpSelectedRowsCommand"
          name="%command.name.29">
    </command>
    <command
          categoryId="org.kalypso.ui.tupleResult.category"
          description="%command.description.26"
          id="org.kalypso.ui.tupleResult.addRowCommand"
          name="%command.name.30">
    </command>
    <command
          categoryId="org.kalypso.ui.tupleResult.category"
          description="%command.description.27"
          id="org.kalypso.ui.tupleResult.moveDownSelectedRowsCommand"
          name="%command.name.31">
    </command>
 </extension>
 <extension
       point="org.eclipse.ui.handlers">
    <handler
          class="org.kalypso.ogc.gml.om.table.command.CopyToClipboardHandler"
          commandId="org.kalypso.ui.tupleResult.copyToClipboardCommand">
    </handler>
    <handler
          class="org.kalypso.ogc.gml.om.table.command.PasteFromClipboardHandler"
          commandId="org.kalypso.ui.tupleResult.pasteFromClipboardCommand">
    </handler>
    <handler
          class="org.kalypso.ogc.gml.om.table.command.DeleteSelectedRowsHandler"
          commandId="org.kalypso.ui.tupleResult.deleteSelectedRowsCommand">
    </handler>
    <handler
          class="org.kalypso.ogc.gml.om.table.command.MoveUpSelectedRowsHandler"
          commandId="org.kalypso.ui.tupleResult.moveUpSelectedRowsCommand">
    </handler>
    <handler
          class="org.kalypso.ogc.gml.om.table.command.AddRowHandler"
          commandId="org.kalypso.ui.tupleResult.addRowCommand">
    </handler>
    <handler
          class="org.kalypso.ogc.gml.om.table.command.MoveDownSelectedRowsHandler"
          commandId="org.kalypso.ui.tupleResult.moveDownSelectedRowsCommand">
    </handler>
 </extension>
 <extension
       point="org.eclipse.ui.commandImages">
    <image
          commandId="org.kalypso.ui.tupleResult.copyToClipboardCommand"
          icon="icons/table/copy.gif">
    </image>
    <image
          commandId="org.kalypso.ui.tupleResult.pasteFromClipboardCommand"
          icon="icons/table/paste_edit.gif">
    </image>
    <image
          commandId="org.kalypso.ui.tupleResult.deleteSelectedRowsCommand"
          icon="icons/table/remove.gif">
    </image>
    <image
          commandId="org.kalypso.ui.tupleResult.moveUpSelectedRowsCommand"
          icon="icons/util/up.gif">
    </image>
    <image
          commandId="org.kalypso.ui.tupleResult.addRowCommand"
          icon="icons/gistable/add_row.gif">
    </image>
    <image
          commandId="org.kalypso.ui.tupleResult.moveDownSelectedRowsCommand"
          icon="icons/util/down.gif">
    </image>
 </extension>
 <extension
       point="org.kalypso.ui.typeHandlers">
    <typeHandler
          factory="org.kalypso.ui.KalypsoGuiTypeHandlerFactory">
    </typeHandler>
 </extension>
 <extension
            point="org.eclipse.ui.commands">
            <command
                  categoryId="org.kalypso.ogc.gml.map.category"
                  id="org.kalypso.ogc.gml.map.EditRelationsCommand"
                  name="%org.kalypso.ui.editor.mapeditor.actiondelegates.EditRelationsWidgetDelegate.label">
                  
            </command>
            <command
                  categoryId="org.kalypso.ogc.gml.map.category"
                  id="org.kalypso.ogc.gml.map.WMSGetFeatureInfoCommand"
                  name="%org.kalypso.ui.editor.mapeditor.actiondelegates.WMSGetfeatureInfoWidgetDelegate.label">
                  
            </command>
            <command
                  categoryId="org.kalypso.ogc.gml.map.category"
                  id="org.kalypso.ogc.gml.map.CoordinateInfoCommand"
                  name="%org.kalypso.ui.editor.mapeditor.actiondelegates.CoordinateInfoWidgetDelegate.label">
                  
            </command>
            <command
                  categoryId="org.kalypso.ogc.gml.map.category"
                  id="org.kalypso.ogc.gml.map.SelectFeatureCommand"
                  name="%org.kalypso.ui.editor.mapeditor.actiondelegates.SelectWidgetDelegate.label">
                  
            </command>
            <command
                  categoryId="org.kalypso.ogc.gml.map.category"
                  id="org.kalypso.ogc.gml.map.SaveThemeCommand"
                  name="%org.kalypso.ui.editor.mapeditor.actiondelegates.SaveThemeDelegate.label">
            </command>
            <command
                  categoryId="org.kalypso.ogc.gml.map.category"
                  id="org.kalypso.ogc.gml.map.UndoCommand"
                  name="%org.kalypso.ui.editor.mapeditor.actiondelegates.UndoDelegate.label">
            </command>
            <command
                  categoryId="org.kalypso.ogc.gml.map.category"
                  id="org.kalypso.ogc.gml.map.RedoCommand"
                  name="%org.kalypso.ui.editor.mapeditor.actiondelegates.RedoDelegate.label">
            </command>
      </extension>
      <extension
            point="org.eclipse.ui.menus">

            
            
            <menuContribution
                  locationURI="menu:org.kalypso.ui.menus.mapMenu?after=additions">
                        <visibleWhen
                              checkEnabled="true">
                           <reference
                                 definitionId="org.kalypso.ogc.gml.map.GISEditorIsActive">
                           </reference>
                        </visibleWhen>
                        <separator
                              name="navigation"
                              visible="true">
                        </separator>
                        <command
                              commandId="org.kalypso.ogc.gml.map.EditRelationsCommand"
                              label="%org.kalypso.ui.editor.mapeditor.actiondelegates.EditRelationsWidgetDelegate.label"
                              style="radio"
                              tooltip="%org.kalypso.ui.editor.mapeditor.actiondelegates.EditRelationsWidgetDelegate.tooltip">
                        </command>
                        <command
                              commandId="org.kalypso.ogc.gml.map.WMSGetFeatureInfoCommand"
                              label="%org.kalypso.ui.editor.mapeditor.actiondelegates.WMSGetfeatureInfoWidgetDelegate.label"
                              style="radio"
                              tooltip="%org.kalypso.ui.editor.mapeditor.actiondelegates.WMSGetfeatureInfoWidgetDelegate.tooltip">
                        </command>
                        <command
                              commandId="org.kalypso.ogc.gml.map.CoordinateInfoCommand"
                              label="%org.kalypso.ui.editor.mapeditor.actiondelegates.CoordinateInfoWidgetDelegate.label"
                              style="radio"
                              tooltip="%org.kalypso.ui.editor.mapeditor.actiondelegates.CoordinateInfoWidgetDelegate.tooltip">
                        </command>
                        <command
                              commandId="org.kalypso.ogc.gml.map.SelectFeatureCommand"
                              label="%org.kalypso.ui.editor.mapeditor.actiondelegates.SelectWidgetDelegate.label"
                              style="radio"
                              tooltip="%org.kalypso.ui.editor.mapeditor.actiondelegates.SelectWidgetDelegate.tooltip">
                        </command>
                        <command
                              commandId="org.kalypso.ogc.gml.map.UndoCommand"
                              label="%org.kalypso.ui.editor.mapeditor.actiondelegates.UndoDelegate.label"
                              style="push"
                              tooltip="%org.kalypso.ui.editor.mapeditor.actiondelegates.UndoDelegate.tooltip">
                        </command>
                        <command
                              commandId="org.kalypso.ogc.gml.map.RedoCommand"
                              label="%org.kalypso.ui.editor.mapeditor.actiondelegates.RedoDelegate.label"
                              style="push"
                              tooltip="%org.kalypso.ui.editor.mapeditor.actiondelegates.RedoDelegate.tooltip">
                        </command>
                        <separator
                              name="tools"
                              visible="true">
                        </separator>
                        <command
                              commandId="org.kalypso.ogc.gml.map.SaveThemeCommand"
                              label="%org.kalypso.ui.editor.mapeditor.actiondelegates.SaveThemeDelegate.label"
                              style="push"
                              tooltip="%org.kalypso.ui.editor.mapeditor.actiondelegates.SaveThemeDelegate.tooltip">
                        </command>
                        <command
                              commandId="org.kalypso.ogc.gml.map.Screenshot"
                              label="%command.label.0"
                              tooltip="%command.tooltip.0">
                        </command>
            </menuContribution>
            <menuContribution
                  locationURI="toolbar:org.eclipse.ui.main.toolbar?after=additions">
                  <toolbar
                        id="org.kalypso.ui.menus.mapToolbar"
                        >
                        <dynamic
             				id="org.kalypso.ogc.gml.map.zoom">
					        <class
					              class="org.kalypso.contribs.eclipse.ui.actions.DropDownToolbarItem">
					           <parameter
					                 name="command1"
					                 value="org.kalypso.ogc.gml.map.FullExtentCommand">
					           </parameter>
					           <parameter
					                 name="command2"
					                 value="org.kalypso.ogc.gml.map.ZoomToActiveLayerCommand">
					           </parameter>
					           <parameter
					                 name="command3"
					                 value="org.kalypso.ogc.gml.map.ZoomInStaticCommand">
					           </parameter>
					           <parameter
					                 name="command4"
					                 value="org.kalypso.ogc.gml.map.ZoomOutCommand">
					           </parameter>
					        </class>
             <visibleWhen
                   checkEnabled="true">
                <reference
                      definitionId="org.kalypso.ogc.gml.map.GISEditorIsActive">
                </reference>
             </visibleWhen>
					     </dynamic>
					     <dynamic
					           id="org.kalypso.ogc.gml.map.move">
					        <class
					              class="org.kalypso.contribs.eclipse.ui.actions.DropDownToolbarItem">
					           <parameter
					                 name="command1"
					                 value="org.kalypso.ogc.gml.map.MoveLeftCommand">
					           </parameter>
					           <parameter
					                 name="command2"
					                 value="org.kalypso.ogc.gml.map.MoveUpCommand">
					           </parameter>
					           <parameter
					                 name="command3"
					                 value="org.kalypso.ogc.gml.map.MoveDownCommand">
					           </parameter>
					           <parameter
					                 name="command4"
					                 value="org.kalypso.ogc.gml.map.MoveRightCommand">
					           </parameter>
					        </class>
             <visibleWhen
                   checkEnabled="true">
                <reference
                      definitionId="org.kalypso.ogc.gml.map.GISEditorIsActive">
                </reference>
             </visibleWhen>
					    </dynamic>
                        <command
                              commandId="org.kalypso.ogc.gml.map.PanToCommand"
                              label="%org.kalypso.ui.editor.mapeditor.actiondelegates.PanToWidgetDelegate.label"
                              style="radio"
                              tooltip="%org.kalypso.ui.editor.mapeditor.actiondelegates.PanToWidgetDelegate.tooltip">
                              <visibleWhen
                                    checkEnabled="true">
                                    <reference
                                          definitionId="org.kalypso.ogc.gml.map.GISEditorIsActive">
                                    </reference>
                              </visibleWhen>
                        </command>
                        <command
                              commandId="org.kalypso.ogc.gml.map.ZoomInByRectCommand"
                              label="%org.kalypso.ui.editor.mapeditor.actiondelegates.ZoomInByRectWidgetDelegate.label"
                              style="radio"
                              tooltip="%org.kalypso.ui.editor.mapeditor.actiondelegates.ZoomInByRectWidgetDelegate.tooltip">
                              <visibleWhen
                                    checkEnabled="true">
                                    <reference
                                          definitionId="org.kalypso.ogc.gml.map.GISEditorIsActive">
                                    </reference>
                              </visibleWhen>
                        </command>
                        <separator
                              name="navigation"
                              visible="true">
                        </separator>
                        <command
                              commandId="org.kalypso.ogc.gml.map.EditRelationsCommand"
                              label="%org.kalypso.ui.editor.mapeditor.actiondelegates.EditRelationsWidgetDelegate.label"
                              style="radio"
                              tooltip="%org.kalypso.ui.editor.mapeditor.actiondelegates.EditRelationsWidgetDelegate.tooltip">
                              <visibleWhen
                                    checkEnabled="true">
                                    <reference
                                          definitionId="org.kalypso.ogc.gml.map.GISEditorIsActive">
                                    </reference>
                              </visibleWhen>
                        </command>
                        <command
                              commandId="org.kalypso.ogc.gml.map.WMSGetFeatureInfoCommand"
                              label="%org.kalypso.ui.editor.mapeditor.actiondelegates.WMSGetfeatureInfoWidgetDelegate.label"
                              style="radio"
                              tooltip="%org.kalypso.ui.editor.mapeditor.actiondelegates.WMSGetfeatureInfoWidgetDelegate.tooltip">
                              <visibleWhen
                                    checkEnabled="true">
                                    <reference
                                          definitionId="org.kalypso.ogc.gml.map.GISEditorIsActive">
                                    </reference>
                              </visibleWhen>
                        </command>
                        <command
                              commandId="org.kalypso.ogc.gml.map.CoordinateInfoCommand"
                              label="%org.kalypso.ui.editor.mapeditor.actiondelegates.CoordinateInfoWidgetDelegate.label"
                              style="radio"
                              tooltip="%org.kalypso.ui.editor.mapeditor.actiondelegates.CoordinateInfoWidgetDelegate.tooltip">
                              <visibleWhen
                                    checkEnabled="true">
                                    <reference
                                          definitionId="org.kalypso.ogc.gml.map.GISEditorIsActive">
                                    </reference>
                              </visibleWhen>
                        </command>
                        <command
                              commandId="org.kalypso.ogc.gml.map.SelectFeatureCommand"
                              label="%org.kalypso.ui.editor.mapeditor.actiondelegates.SelectWidgetDelegate.label"
                              style="radio"
                              tooltip="%org.kalypso.ui.editor.mapeditor.actiondelegates.SelectWidgetDelegate.tooltip">
                              <visibleWhen
                                    checkEnabled="true">
                                    <reference
                                          definitionId="org.kalypso.ogc.gml.map.GISEditorIsActive">
                                    </reference>
                              </visibleWhen>
                        </command>
                        <command
                              commandId="org.kalypso.ogc.gml.map.UndoCommand"
                              label="%org.kalypso.ui.editor.mapeditor.actiondelegates.UndoDelegate.label"
                              style="push"
                              tooltip="%org.kalypso.ui.editor.mapeditor.actiondelegates.UndoDelegate.tooltip">
                           <visibleWhen
                                 checkEnabled="true">
                              <reference
                                    definitionId="org.kalypso.ogc.gml.map.GISEditorIsActive">
                              </reference>
                           </visibleWhen>
                        </command>
                        <command
                              commandId="org.kalypso.ogc.gml.map.RedoCommand"
                              label="%org.kalypso.ui.editor.mapeditor.actiondelegates.RedoDelegate.label"
                              style="push"
                              tooltip="%org.kalypso.ui.editor.mapeditor.actiondelegates.RedoDelegate.tooltip">
                           <visibleWhen
                                 checkEnabled="true">
                              <reference
                                    definitionId="org.kalypso.ogc.gml.map.GISEditorIsActive">
                              </reference>
                           </visibleWhen>
                        </command>
                        <separator
                              name="tools"
                              visible="true">
                        </separator>
                        <command
                              commandId="org.kalypso.ogc.gml.map.SaveThemeCommand"
                              label="%org.kalypso.ui.editor.mapeditor.actiondelegates.SaveThemeDelegate.label"
                              style="push"
                              tooltip="%org.kalypso.ui.editor.mapeditor.actiondelegates.SaveThemeDelegate.tooltip">
                              <visibleWhen
                                    checkEnabled="true">
                                    <reference
                                          definitionId="org.kalypso.ogc.gml.map.GISEditorIsActive">
                                    </reference>
                              </visibleWhen>
                        </command>
                        <command
                              commandId="org.kalypso.ogc.gml.map.Screenshot"
                              label="%command.label.0"
                              style="push"
                              tooltip="%command.tooltip.0">
                           <visibleWhen
                                 checkEnabled="true">
                              <reference
                                    definitionId="org.kalypso.ogc.gml.map.GISEditorIsActive">
                              </reference>
                           </visibleWhen>
                        </command>
                  </toolbar>
            </menuContribution>
            <menuContribution
                  locationURI="toolbar:org.kalypso.ui.menus.mapToolbar?after=navigation">
               <dynamic
                     class="org.kalypso.ogc.gml.map.widgets.newfeature.NewFeatureToolbarContribution"
                     id="org.kalypso.gis.newFeature.menuContribution">
                  <visibleWhen
                        checkEnabled="true">
                  </visibleWhen>
               </dynamic>
            </menuContribution>
            
      </extension>
      
      <extension
            point="org.eclipse.ui.commandImages">
            <image
                  commandId="org.kalypso.ogc.gml.map.EditRelationsCommand"
                  disabledIcon="icons/map/edit_relation_gray.gif"
                  icon="icons/map/edit_relation.gif">
            </image>
            <image
                  commandId="org.kalypso.ogc.gml.map.WMSGetFeatureInfoCommand"
                  disabledIcon="icons/map/wmsInfo_gray.gif"
                  icon="icons/map/wmsInfo.gif">
            </image>
            <image
                  commandId="org.kalypso.ogc.gml.map.CoordinateInfoCommand"
                  disabledIcon="icons/map/geoInfo_gray.gif"
                  icon="icons/map/geoInfo.gif">
            </image>
            <image
                  commandId="org.kalypso.ogc.gml.map.SelectFeatureCommand"
                  icon="icons/map/select_feature.gif">
            </image>
            <image
                  commandId="org.kalypso.ogc.gml.map.SaveThemeCommand"
                  disabledIcon="icons/map/save_edit_disabled.gif"
                  icon="icons/feature/save_GML.gif">
            </image>
            <image
                  commandId="org.kalypso.ogc.gml.map.UndoCommand"
                  disabledIcon="icons/map/undo_edit_disabled.gif"
                  icon="icons/map/undo_edit.gif">
            </image>
            <image
                  commandId="org.kalypso.ogc.gml.map.RedoCommand"
                  disabledIcon="icons/map/redo_edit_disabled.gif"
                  icon="icons/map/redo_edit.gif">
            </image>
      </extension>
      <extension
            point="org.eclipse.ui.handlers">
            
            <handler
                  commandId="org.kalypso.ogc.gml.map.EditRelationsCommand">
                  <class
                        class="org.kalypso.ogc.gml.map.widgets.SelectWidgetHandler">
                        <parameter
                              name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.widget"
                              value="org.kalypso.ogc.gml.map.widgets.editrelation.EditRelationWidget">
                        </parameter>
                  </class>
                  <enabledWhen>
                        <reference
                              definitionId="mapContext">
                        </reference>
                  </enabledWhen>
            </handler>
            
            <handler
                  commandId="org.kalypso.ogc.gml.map.WMSGetFeatureInfoCommand">
                  <class
                        class="org.kalypso.ogc.gml.map.widgets.SelectWidgetHandler">
                        <parameter
                              name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.widget"
                              value="org.kalypso.ogc.gml.map.widgets.editrelation.WMSGetFeatureInfoWidget">
                        </parameter></class>
                  <enabledWhen>
                        <reference
                              definitionId="mapContext">
                        </reference>
                  </enabledWhen>
            </handler>
            <handler
                  commandId="org.kalypso.ogc.gml.map.CoordinateInfoCommand">
                  <class
                        class="org.kalypso.ogc.gml.map.widgets.SelectWidgetHandler">
                        <parameter
                              name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.widget"
                              value="org.kalypso.ogc.gml.map.widgets.editrelation.CoordinateInfoWidget">
                        </parameter>
                  </class>
                  <enabledWhen>
                        <reference
                              definitionId="mapContext">
                        </reference>
                  </enabledWhen>
            </handler>
            <handler
                  commandId="org.kalypso.ogc.gml.map.SelectFeatureCommand">
                  <class
                        class="org.kalypso.ogc.gml.map.widgets.SelectWidgetHandler">
                        <parameter
                              name="org.kalypso.ogc.gml.map.widgets.SelectWidgetCommand.widget"
                              value="org.kalypso.ogc.gml.map.widgets.SelectWidget">
                        </parameter>
                  </class>
                  <enabledWhen>
                        <reference
                              definitionId="mapContext">
                        </reference>
                  </enabledWhen>
            </handler>
            <handler
                  class="org.kalypso.ogc.gml.map.handlers.SaveThemeHandler"
                  commandId="org.kalypso.ogc.gml.map.SaveThemeCommand">
               <enabledWhen>
                  <reference
                        definitionId="mapContext">
                  </reference>
               </enabledWhen>
            </handler>
            <handler
                  class="org.kalypso.ogc.gml.map.handlers.UndoHandler"
                  commandId="org.kalypso.ogc.gml.map.UndoCommand">
               <enabledWhen>
                  <reference
                        definitionId="mapContext">
                  </reference>
               </enabledWhen>
            </handler>
            <handler
                  class="org.kalypso.ogc.gml.map.handlers.RedoHandler"
                  commandId="org.kalypso.ogc.gml.map.RedoCommand">
               <enabledWhen>
                  <reference
                        definitionId="mapContext">
                  </reference>
               </enabledWhen>
            </handler>
            
            
            
      </extension>
      <extension
            point="org.eclipse.core.expressions.definitions">
            <definition
                  id="org.kalypso.ogc.gml.map.GISEditorIsActive">
                  <with
                        variable="activeEditorId">
                        <equals
                              value="org.kalypso.ui.editor.mapeditor.GisMapEditor">
                        </equals>
                  </with>
            </definition>
            <definition
                  id="org.kalypso.ogc.gml.map.GisEditorOrMapIsActive">
               <or>
                  <with
                        variable="activeEditor">
                     <instanceof
                           value="org.kalypso.ui.editor.mapeditor.AbstractMapPart">
                     </instanceof>
                  </with>
                  <with
                        variable="activePart">
                     <instanceof
                           value="org.kalypso.ui.editor.mapeditor.AbstractMapPart">
                     </instanceof>
                  </with>
               </or>
            </definition>
            <definition
                  id="org.kalypso.ogc.gml.map.GisEditorIsActivePart">
               <with
                     variable="activePartId">
                  <equals
                        value="org.kalypso.ui.editor.mapeditor.GisMapEditor">
                  </equals>
               </with>
            </definition>
            <definition
                  id="featureSelected">
                  <iterate
                        ifEmpty="false"
                        operator="or">
                        <or>
                              <instanceof
                                    value="org.kalypsodeegree_impl.model.feature.Feature_Impl">
                              </instanceof>
                        </or>
                  </iterate>
            </definition>
      </extension>
      <extension
            point="org.eclipse.ui.commands">
         <command
               categoryId="org.kalypso.ogc.gml.map.category"
               defaultHandler="org.kalypso.ogc.gml.map.widgets.newfeature.NewFeatureHandler"
               description="%org.kalypso.ui.editor.actions.FeatureAddActionDelegate.tooltip"
               id="org.kalypso.gis.newFeature.command"
               name="%org.kalypso.ui.editor.actions.FeatureAddActionDelegate.label">
            <commandParameter
                  id="org.kalypso.gis.newFeature.type"
                  name="%org.kalypso.ui.editor.actions.FeatureAddActionDelegate.parameterType"
                  optional="false">
            </commandParameter>
         </command>
      </extension>
      <extension
            point="org.kalypso.core.poolLoader">
         <loader
               class="org.kalypso.ogc.sensor.loaders.ZmlLoader"
               type="zml">
         </loader>
         <loader
               class="org.kalypso.ogc.gml.loader.SldLoader"
               type="sld">
         </loader>
         <loader
               class="org.kalypso.ogc.gml.loader.WfsLoader"
               type="wfs">
         </loader>
      </extension>
 
</plugin>
