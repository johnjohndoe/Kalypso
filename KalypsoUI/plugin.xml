<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.0"?>
<plugin
   id="org.kalypso.ui"
   name="KalypsoUI"
   version="0.0.1"
   provider-name="org.kalypso"
   class="org.kalypso.ui.KalypsoGisPlugin">
   <runtime>
      <library name="KalypsoUi.jar">
         <export name="*"/>
      </library>
      <library name="lib/jfreechart-0.9.20.jar">
         <export name="*"/>
      </library>
      <library name="lib/kalypsoservice_observation.jar">
         <export name="*"/>
      </library>
      <library name="lib/kalypsoservice_calculation.jar">
         <export name="*"/>
      </library>
      <library name="lib/kalypsoservice_metadoc.jar">
         <export name="*"/>
      </library>
      <library name="lib/jcommon-0.9.5.jar">
         <export name="*"/>
      </library>
      <library name="lib/activation.jar">
         <export name="*"/>
      </library>
      <library name="lib/dom.jar">
         <export name="*"/>
      </library>
      <library name="lib/jaxrpc-api.jar">
         <export name="*"/>
      </library>
      <library name="lib/jaxrpc-impl.jar">
         <export name="*"/>
      </library>
      <library name="lib/jaxrpc-spi.jar">
         <export name="*"/>
      </library>
      <library name="lib/saaj-api.jar">
         <export name="*"/>
      </library>
      <library name="lib/saaj-impl.jar">
         <export name="*"/>
      </library>
      <library name="lib/jaxp-api.jar">
         <export name="*"/>
      </library>
      <library name="lib/jax-qname.jar">
         <export name="*"/>
      </library>
      <library name="lib/mail.jar">
         <export name="*"/>
      </library>
      <library name="lib/xercesImpl.jar">
         <export name="*"/>
      </library>
      <library name="lib/kalypsoservice_user.jar">
         <export name="*"/>
      </library>
   </runtime>
   <requires>
      <import plugin="org.eclipse.ui.workbench" export="true"/>
      <import plugin="org.eclipse.jface" export="true"/>
      <import plugin="org.eclipse.core.resources" export="true"/>
      <import plugin="org.eclipse.ui.ide" export="true"/>
      <import plugin="org.eclipse.ui.views" export="true"/>
      <import plugin="org.eclipse.ui" export="true"/>
      <import plugin="org.eclipse.compare" export="true"/>
      <import plugin="org.eclipse.core.runtime" export="true"/>
      <import plugin="org.eclipse.debug.core" export="true"/>
      <import plugin="org.kalypso.util" export="true"/>
      <import plugin="org.kalypso.deegree" export="true"/>
      <import plugin="org.kalypso.core" export="true"/>
      <import plugin="org.eclipse.ui.forms" export="true"/>
      <import plugin="org.eclipse.debug.ui" export="true"/>
      <import plugin="org.apache.ant" export="true"/>
   </requires>
   <extension point="org.eclipse.core.runtime.preferences">
	    <initializer class="org.kalypso.ui.preferences.KalypsoPreferenceInitializer"/>
   </extension>
   <extension
         point="org.eclipse.ui.preferencePages">
      <page
            class="org.kalypso.ui.preferences.KalypsoPreferencePage"
            name="Kalypso"
            id="org.kalypso.ui.preferences.KalypsoPreferencePage"/>
   </extension>
   
   <extension
         point="org.eclipse.ui.editors">
      <editor
            icon="icons/kalypso_gmt.gif"
            class="org.kalypso.ui.editor.mapeditor.GisMapEditor"
            default="true"
            name="Kalypso Gisview Editor"
            id="org.kalypso.ui.editor.mapeditor.GisMapEditor"
            extensions="gmt"/>
      <editor
            class="org.kalypso.ui.editor.gistableeditor.GisTableEditor"
            icon="icons/kalypso_gtt.gif"
            default="true"
            contributorClass="org.kalypso.ui.editor.gistableeditor.GisTableEditorActionBarContributor"
            name="Kalypso GisTableEditor"
            id="org.kalypso.ui.editor.gistableeditor.GisTableEditor"
            extensions="gtt"/>
      <editor
            class="org.kalypso.ui.editor.diagrameditor.ObservationDiagramEditor"
            icon="icons/kalypso_odt.gif"
            default="true"
            name="Kalypso Observation DiagramEditor"
            id="org.kalypso.ui.editor.diagrameditor.ObservationDiagramEditor"
            extensions="odt"/>
      <editor
            class="org.kalypso.ui.editor.obstableeditor.ObservationTableEditor"
            icon="icons/kalypso_ott.gif"
            default="true"
            name="Kalypso Observation TableEditor"
            id="org.kalypso.ui.editor.obstableeditor.ObservationTableEditor"
            extensions="ott"/>
      <editor
            launcher="org.kalypso.ui.editorLauncher.GisTemplateLauncher"
            default="true"
            name="Gis Vorlagenauswahl"
            id="org.kalypso.ui.editor.GisEditor"
            extensions="gml,shp"/>
      <editor
            launcher="org.kalypso.ui.editorLauncher.ObsTemplateLauncher"
            default="false"
            name="Zeitreihen Vorlagenauswahl"
            id="org.kalypso.ui.editor.ObsEditor"
            extensions="zml"/>
   </extension>
   <extension
         point="org.eclipse.ui.views">
      <category
            name="Kalypso"
            id="Kalypso"/>
      <view
            class="org.kalypso.ui.repository.view.RepositoryExplorerPart"
            icon="icons/observation_repository.gif"
            category="Kalypso"
            name="Zeitreihen Repository"
            id="org.kalypso.ui.repository.view.RepositoryExplorerPart"/>
      <view
            icon="icons/kalypso_odt.gif"
            class="org.kalypso.ogc.sensor.view.DiagramViewPart"
            category="Kalypso"
            name="Diagram QuickView"
            id="org.kalypso.ogc.sensor.view.DiagramViewPart"/>
      <view
            icon="icons/kalypso_ott.gif"
            class="org.kalypso.ogc.sensor.view.TableViewPart"
            category="Kalypso"
            name="Table QuickView"
            id="org.kalypso.ogc.sensor.view.TableViewPart"/>          
      <view
            icon="icons/full/elcl16/kde_filter.gif"
            class="org.kalypso.ui.editor.mapeditor.views.StyleEditorViewPart"
            category="Kalypso"
            name="Style Editor"
            id="org.kalypso.ui.editor.mapeditor.views.styleeditor"/>
      <view
            class="org.kalypso.ui.view.prognose.PrognoseView"
            category="Kalypso"
            name="Hochwasser Vorhersage"
            id="org.kalypso.view.prognose"/>
   </extension>
   <extension
         point="org.eclipse.ui.editorActions">
      <editorContribution
            targetID="org.kalypso.ui.editor.gistableeditor.GisTableEditor"
            id="org.kalypso.ui.editor.gistableeditor.GisTableActionDelegate">
         <menu
               label="Tabelle"
               path="additions"
               id="org.kalypso.ui.editors.tableeditor.menu">
            <groupMarker name="tabelle"/>
            <separator name="spalten"/>
            <separator name="edit"/>
         </menu>
		 <menu
               label="Spalten"
               path="org.kalypso.ui.editors.tableeditor.menu/spalten"
               id="org.kalypso.ui.editors.tableeditor.columnmenu">
            <separator name="spaltenMenu"/>
         </menu>
         <action
               toolbarPath="tabelle"
               label="Berichtsablage..."
               icon="icons/gistable/export_wiz.gif"
               tooltip="Die Tabelle in das Berichtswesen exportieren..."
               class="org.kalypso.ui.editor.gistableeditor.actions.ExportBerichtActionDelegate"
               style="push"
               menubarPath="org.kalypso.ui.editors.tableeditor.menu/tabelle"
               id="org.kalypso.ui.editor.gistableeditor.ExportAction"/>
          <action
                toolbarPath="tabelle"
                label="Exportieren..."
                icon="icons/gistable/export_wiz.gif"
                tooltip="Die Tabelle exportieren"
                class="org.kalypso.ui.editor.gistableeditor.actions.ExportActionDelegate"
                style="push"
                menubarPath="org.kalypso.ui.editors.tableeditor.menu/tabelle"
                id="org.kalypso.ui.editor.gistableeditor.ExportAction"/>
         <action
               enablesFor="+"
               toolbarPath="edit"
               label="Daten speichern"
               class="org.kalypso.ui.editor.gistableeditor.actions.SaveThemeDelegate"
               tooltip="Speichert die Daten der Tabelle"
               icon="icons/gistable/save_edit.gif"
               style="push"
               menubarPath="org.kalypso.ui.editors.tableeditor.menu/edit"
               id="org.kalypso.ui.editor.gistableeditor.SaveDataAction">
         </action>
         <action
               toolbarPath="edit"
               label="Rückgängig"
               tooltip="Die letzte Änderung der Daten Rückgängig machen"
               icon="icons/gistable/undo_edit.gif"
               class="org.kalypso.ui.editor.gistableeditor.actions.UndoDelegate"
               style="push"
               menubarPath="org.kalypso.ui.editors.tableeditor.menu/edit"
               id="org.kalypso.ui.editor.gistableeditor.UndoActionDelegate"/>
         <action
               toolbarPath="edit"
               label="Wiederherstellen"
               tooltip="Die letzte Korrektur wiederherstellen"
               icon="icons/gistable/redo_edit.gif"
               class="org.kalypso.ui.editor.gistableeditor.actions.RedoDelegate"
               style="push"
               menubarPath="org.kalypso.ui.editors.tableeditor.menu/edit"
               id="org.kalypso.ui.editor.gistableeditor.RedoActionDelegate"/>
      </editorContribution>
      <editorContribution
            targetID="org.kalypso.ui.editor.mapeditor.GisMapEditor"
            id="org.kalypso.ogc.widgets.GisMapEditorActionDelegate">
         <menu
               label="Karte"
               path="additions"
               id="org.kalypso.ui.editors.mapeditor.menu">
            <groupMarker name="tools"/>
            <separator name="sep"/>
            <groupMarker name="actions"/>
            <separator name="sep"/>
            <groupMarker name="edit"/>
         </menu>
         <action
               toolbarPath="karte/actions"
               label="Ausschnitt maximieren"
               tooltip="maximiert den angezeigten Ausschnitt"
               icon="icons/full/elcl16/kde_window_fullscreen.gif"
               class="org.kalypso.ui.editor.mapeditor.actiondelegates.FullExtentDelegate"
               style="push"
               menubarPath="org.kalypso.ui.editors.mapeditor.menu/actions"
               id="org.kalypso.ui.editor.mapeditor.action.FullExtentAction"/>
         <action
               toolbarPath="karte/tools"
               label="Ausschnitt vergrößern"
               icon="icons/map/zoomin.gif"
               tooltip="vergrößert den Kartenausschnitt"
               class="org.kalypso.ui.editor.mapeditor.actiondelegates.ZoomInWidgetDelegate"
               style="radio"
               menubarPath="org.kalypso.ui.editors.mapeditor.menu/tools"
               id="org.kalypso.ui.editor.mapeditor.action.ZoomInAction"/>
         <action
               toolbarPath="karte/actions"
               label="Ausschnitt verkleinern"
               class="org.kalypso.ui.editor.mapeditor.actiondelegates.ZoomOutDelegate"
               icon="icons/map/zoomout.gif"
               tooltip="verkleinert den Kartenausschnitt"
          	   style="push"
               menubarPath="org.kalypso.ui.editors.mapeditor.menu/actions"
               id="org.kalypso.ui.editor.mapeditor.action.ZoomOutAction"/>
         <action
               toolbarPath="karte/tools"
               label="Kartenausschnitt verschieben"
               class="org.kalypso.ui.editor.mapeditor.actiondelegates.PanToWidgetDelegate"
               icon="icons/map/pan.gif"
               tooltip="verschiebt den Kartenausschnitt"
               style="radio"
               state="true"
               menubarPath="org.kalypso.ui.editors.mapeditor.menu/tools"
               id="org.kalypso.ui.editor.mapeditor.action.PanAction"/>
         <action
               toolbarPath="karte/tools"
               label="Edit Feature"
               tooltip="die Daten eines Objekts anzeigen"
               icon="icons/full/elcl16/kde_contexthelp.gif"
               class="org.kalypso.ui.editor.mapeditor.actiondelegates.EditFeatureWidgetDelegate"
               style="radio"
               menubarPath="org.kalypso.ui.editors.mapeditor.menu/tools"
               id="org.kalypso.ui.editor.mapeditor.action.EditFeatureAction"/>
         <action
               disabledIcon="icons/map/save_edit_disabled.gif"
               toolbarPath="karte/edit"
               label="Thema speichern"
               class="org.kalypso.ui.editor.mapeditor.actiondelegates.SaveThemeDelegate"
               icon="icons/map/save_edit.gif"
               tooltip="Speichert die Daten des aktiven Themas"
               style="push"
               menubarPath="org.kalypso.ui.editors.mapeditor.menu/edit"
               id="org.kalypso.ui.editor.mapeditor.action.SaveDataAction"/>
         <action
               toolbarPath="karte/edit"
               label="Rückgängig"
               tooltip="letzte Änderung rückgängig machen"
               icon="icons/map/undo_edit.gif"
               class="org.kalypso.ui.editor.mapeditor.actiondelegates.UndoDelegate"
               style="push"
               menubarPath="org.kalypso.ui.editors.mapeditor.menu/edit"
               id="org.kalypso.ui.editor.mapeditor.action.SaveDataAction"/>
         <action
               toolbarPath="karte/edit"
               label="Wiederherstellen"
               icon="icons/map/redo_edit.gif"
               class="org.kalypso.ui.editor.mapeditor.actiondelegates.RedoDelegate"
               style="push"
               menubarPath="org.kalypso.ui.editors.mapeditor.menu/edit"
               id="org.kalypso.ui.editor.mapeditor.action.SaveDataAction"/>
	  </editorContribution>
	        <editorContribution
            targetID="org.kalypso.ui.editor.obstableeditor.ObservationTableEditor"
            id="org.kalypso.ui.editor.obstableeditor.EditorContribution">
         <action
               toolbarPath="table"
               label="Zeile hinzufügen"
               tooltip="Fügt eine Zeile hinzu. Öffnet Eingabedialog."
               icon="icons/obstable/add_row.gif"
               class="org.kalypso.ui.editor.obstableeditor.actions.AddRowAction"
               style="push"
               id="org.kalypso.ui.editor.obstableeditor.actions.AddRowAction"/>
         <action
               toolbarPath="table"
               label="Zeile entfernen"
               tooltip="Entfernt die ausgewählte Zeile"
               icon="icons/obstable/rem_row.gif"
               class="org.kalypso.ui.editor.obstableeditor.actions.RemoveRowAction"
               style="push"
               id="org.kalypso.ui.editor.obstableeditor.actions.RemoveRowAction"/>
      </editorContribution>
   </extension>
   <extension
         point="org.eclipse.ui.popupMenus">
      <viewerContribution
            targetID="org.kalypso.ui.editors.tableeditor.contextMenu"
            id="org.kalypso.ui.editors.tableeditor.popupMenu">
         <menu
               label="Menu"
               path="org.kalypso.ui.editors.tableeditor.popMenu"
               id="org.kalypso.ui.editors.tableeditor.popMenu.menu"/>
         <action
               label="AddRow"
               class="org.kalypso.ui.editor.gistableeditor.actions.AddRowActionDelagate"
               id="org.kalypso.tableeditor.AddRowAction"/>
        </viewerContribution>
   </extension>
   <extension
         point="org.eclipse.ui.ide.resourceFilters">
      <filter
            selected="false"
            pattern="*.gml"/>
   </extension>
   <extension
         id="ModelNature"
         name="ModelNature"
         point="org.eclipse.core.resources.natures">
      <runtime>
         <run class="org.kalypso.ui.nature.ModelNature"/>
      </runtime>
      <options allowLinking="true"/>
   </extension>
   <extension
         point="org.eclipse.ui.newWizards">
      <category
            name="Kalypso"
            id="org.kalypso.ui.wizardCategory"/>
      <wizard
            icon="icons/sample.gif"
            class="org.kalypso.ui.wizard.calccase.NewCalculationCaseWizard"
            category="org.kalypso.ui.wizardCategory"
            name="Rechenfall"
            id="org.kalypso.wizard.newCalcCase">
      </wizard>
      <wizard
            icon="icons/kalypso_gmt.gif"
            class="org.kalypso.ui.wizard.NewMapWizard"
            category="org.kalypso.ui.wizardCategory"
            name="Karte"
            id="org.kalypso.wizard.newMap"/>
      <wizard
            icon="icons/kalypso_gtt.gif"
            class="org.kalypso.ui.wizard.NewGttWizard"
            category="org.kalypso.ui.wizardCategory"
            name="Tabelle (GIS)"
            id="org.kalypso.wizard.newGtt"/>
      <wizard
            icon="icons/kalypso_odt.gif"
            class="org.kalypso.ui.wizard.NewOdtWizard"
            category="org.kalypso.ui.wizardCategory"
            name="Diagramm"
            id="org.kalypso.wizard.newOdt"/>
      <wizard
            icon="icons/kalypso_ott.gif"
            class="org.kalypso.ui.wizard.NewOttWizard"
            category="org.kalypso.ui.wizardCategory"
            name="Tabelle (Zeitreihen)"
            id="org.kalypso.wizard.newOtt"/>
   </extension>
   <extension
         point="org.eclipse.debug.core.launchConfigurationTypes">
      <launchConfigurationType
            delegate="org.kalypso.ui.launcher.CalcCaseLaunchConfigurationDelegate"
            public="true"
            name="Modellrechnung"
            modes="run"
            id="org.kalypso.ui.launch.CalcCaseType"/>
   </extension>
   <extension
         point="org.eclipse.ui.viewActions">
      <viewContribution
            targetID="org.eclipse.ui.views.ResourceNavigator"
            id="org.kalypso.ui.resource.vc1">
         <action
               label="Grafik starten (mit Vorlage)"
               id="org.kalypso.ui.navigator.GrafikViewActionDelegate"
               menubarPath="additions"
	           toolbarPath="additions" 
               icon="icons/grafik-icon.gif" 
               tooltip="Grafik-Tool anhand einer Vorlage starten" 
               class="org.kalypso.ui.navigator.GrafikViewActionDelegate" 
               enablesFor="1"> 
			<selection class="org.eclipse.core.resources.IFile" name="*.odt"/>
   <selection
         class="org.eclipse.core.resources.IFile"
         name="*.tpl"/> 
	   	</action>

               
      </viewContribution>
      <viewContribution
            targetID="org.eclipse.ui.views.ResourceNavigator"
            id="org.kalypso.ui.resource.vc2">
         <action
               toolbarPath="additions"
               label="Cache löschen"
               icon="icons/sample.gif"
               class="org.kalypso.ui.navigator.ClearCacheActionDelegate"
               tooltip="Löscht den Cache (Zwischengespeicherte Dateien)"
               menubarPath="additions"
               id="org.kalypso.ui.navigator.ClearCacheActionDelegate"/>
      </viewContribution>

   </extension>
   <extension
         point="org.eclipse.ui.perspectives">
      <perspective
            icon="icons/observation_repository.gif"
            class="org.kalypso.ui.perspectives.ObservationRepositoryPerspectiveFactory"
            name="Kalypso Observation Repositories"
            id="org.kalypso.ui.perspectives.ObservationRepositoryPerspectiveFactory"/>
      <perspective
            icon="icons/admin.gif"
            class="org.kalypso.ui.perspectives.AdminPerspectiveFactory"
            name="Kalypso Administrator"
            id="org.kalypso.ui.perspectives.AdminPerspectiveFactory"/>
      <perspective
            class="org.kalypso.ui.perspectives.ModelerPerspectiveFactory"
            icon="icons/modeler.gif"
            fixed="false"
            name="Kalypso Modeler"
            id="org.kalypso.ui.perspectives.ModelerPerspectiveFactory"/>
      <perspective
            class="org.kalypso.ui.perspectives.PrognosePerspective"
            fixed="true"
            name="Hochwasser Vorhersage"
            id="org.kalypso.ui.perspectives.PrognosePerspective"/>
   </extension>
   <extension
         id="product"
         name="Kalypso Enterprise"
         point="org.eclipse.core.runtime.products">
      <product
            description="Kalypso Enterprise Modelling Machine"
            name="Kalypso Enterprise"
            application="org.kalypso.ui.application">
         <property
               value="Kalypso Enterprise Copyright 2004 by BCE Koblenz and TUHH"
               name="aboutText"/>
         <property
               value="etc/kalypso32.gif"
               name="aboutImage"/>
         <property
               value="etc/kalypso32.gif"
               name="featureImage"/>
         <property
               value="etc/kalypso16.gif"
               name="windowImage"/>
      </product>
   </extension>
   <extension
         id="application"
         point="org.eclipse.core.runtime.applications">
      <application>
         <run class="org.kalypso.ui.application.KalypsoApplication"/>
      </application>
   </extension>
   <extension
         point="org.eclipse.ui.actionSets">
      <actionSet
            label="Kalypso Modell"
            description="Kalypso Modell Kommandos"
            visible="true"
            id="org.kalypso.actionSet.model">
         <menu
               label="Modell"
               path="additions"
               id="org.kalypso.menu.model">
            <groupMarker name="modelStart"/>
            <separator name="modelSep"/>
            <groupMarker name="calcCaseStart"/>
            <groupMarker name="prognoseStart"/>
         </menu>
		 <action
               label="Hochwasser Vorhersage durchführen"
               class="org.kalypso.ui.action.StartCalcWizardAction"
               menubarPath="org.kalypso.menu.model/prognoseStart"
               id="org.kalypso.action.model.checkoutModel"/>
               
         <action
               label="Berechnung durchführen"
               class="org.kalypso.ui.action.StartCalculationActionDelegate"
               icon="icons/rechne.gif"
               tooltip="führt die Berechnung der selektierten Rechenvariante aus, bereits vorhandene Ergebnisdaten werden überschrieben"
               menubarPath="org.kalypso.menu.model/calcCaseStart"
               id="org.kalypso.action.model.runCalcCase"/>
         <action
               label="Rechenvariante anlegen"
               tooltip="legt eine Variante vom selektierten Rechenfall an"
               menubarPath="org.kalypso.menu.model/calcCaseStart"
               id="org.kalypso.action.model.copyCalcCase"/>
         <action
               retarget="false"
               label="Modellvariante anlegen"
               tooltip="legt eine Variante vom aktuelle gewählten Modell an"
               menubarPath="org.kalypso.menu.model/modelStart"
               id="org.kalypso.action.model.copyModel"/>
         <action
               label="Modell zurückspeichern"
               tooltip="Speichert die Änderungen am Modell auf den Server zurück"
               menubarPath="org.kalypso.menu.model/modelStart"
               id="org.kalypso.action.model.commitModel"/>
         <action
               label="Modell aktualisieren"
               tooltip="aktualisiert ein bereits vorhandenes Modell mit Daten vom Server"
               menubarPath="org.kalypso.menu.model/modelStart"
               id="org.kalypso.action.model.updateModel"/>
         <action
               label="Modell vom Server laden"
               tooltip="lädt ein Modell vom Sever, falls es nicht bereits vorhanden ist"
               menubarPath="org.kalypso.menu.model/modelStart"
               id="org.kalypso.action.model.checkoutModel"/>
      </actionSet>
   </extension>
</plugin>
